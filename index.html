<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="(å¥³è‹±">
<meta property="og:type" content="website">
<meta property="og:title" content="Shero.">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shero.">
<meta property="og:description" content="(å¥³è‹±">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shero.">
<meta name="twitter:description" content="(å¥³è‹±">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Shero.</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas>
  <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
  <script type="text/javascript" src="/js/src/fireworks.js"></script>
  

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shero.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç”Ÿæ´»ç™¾èˆ¬æ»‹å‘³ï¼Œä½ è¦ç¬‘ç€é¢å¯¹ğŸ˜Š</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/21/vite-vue3-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/21/vite-vue3-03/" itemprop="url">vite-vue3-03</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-21T16:33:58+08:00">
                2022-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h3><h4 id="ä¾èµ–æ³¨å…¥Provide-Inject"><a href="#ä¾èµ–æ³¨å…¥Provide-Inject" class="headerlink" title="ä¾èµ–æ³¨å…¥Provide / Inject"></a>ä¾èµ–æ³¨å…¥Provide / Inject</h4><ul>
<li>Provide / Inject<ul>
<li>é€šå¸¸ï¼Œå½“æˆ‘ä»¬éœ€è¦æˆ‘ä»¬éœ€è¦ä»çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ <a href="https://v3.cn.vuejs.org/guide/component-props.html" style="color: blue;" target="_blank" rel="noopener"> props</a>ã€‚æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„ç»“æ„ï¼šæœ‰ä¸€äº›æ·±åº¦åµŒå¥—çš„ç»„ä»¶ï¼Œè€Œæ·±å±‚çš„å­ç»„ä»¶åªéœ€è¦çˆ¶ç»„ä»¶çš„éƒ¨åˆ†å†…å®¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä»ç„¶å°† prop æ²¿ç€ç»„ä»¶é“¾é€çº§ä¼ é€’ä¸‹å»ï¼Œå¯èƒ½ä¼šå¾ˆéº»çƒ¦ã€‚</li>
<li>provide å¯ä»¥åœ¨ç¥–å…ˆç»„ä»¶ä¸­æŒ‡å®šæˆ‘ä»¬æƒ³è¦æä¾›ç»™åä»£ç»„ä»¶çš„æ•°æ®æˆ–æ–¹æ³•ï¼Œè€Œåœ¨ä»»ä½•åä»£ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨ inject æ¥æ¥æ”¶ provide æä¾›çš„æ•°æ®æˆ–æ–¹æ³•ã€‚ </li>
</ul>
</li>
<li><span style="color: red;">TIPS ä½ å¦‚æœä¼ é€’æ™®é€šçš„å€¼ æ˜¯ä¸å…·æœ‰å“åº”å¼çš„ éœ€è¦é€šè¿‡ref reactive æ·»åŠ å“åº”å¼</span> </li>
<li>ä½¿ç”¨åœºæ™¯<ul>
<li>å½“çˆ¶ç»„ä»¶æœ‰å¾ˆå¤šæ•°æ®éœ€è¦åˆ†å‘ç»™å…¶å­ä»£ç»„ä»¶çš„æ—¶å€™ï¼Œ å°±å¯ä»¥ä½¿ç”¨provideå’Œinjectã€‚</li>
</ul>
</li>
<li><p>çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;App&quot;&gt;</span><br><span class="line">        &lt;button&gt;æˆ‘æ˜¯App&lt;/button&gt;</span><br><span class="line">        &lt;A&gt;&lt;/A&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import &#123; provide, ref &#125; from &apos;vue&apos;</span><br><span class="line">import A from &apos;./components/A.vue&apos;</span><br><span class="line">let flag = ref&lt;number&gt;(1)</span><br><span class="line">provide(&apos;flag&apos;, flag)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;style&gt;</span><br><span class="line">.App &#123;</span><br><span class="line">    background: blue;</span><br><span class="line">    color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­ç»„ä»¶æ¥å—</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div style=&quot;background-color: green;&quot;&gt;</span><br><span class="line">        æˆ‘æ˜¯B</span><br><span class="line">        &lt;button @click=&quot;change&quot;&gt;change falg&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123; flag &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import &#123; inject, Ref, ref &#125; from &apos;vue&apos;</span><br><span class="line"> </span><br><span class="line">const flag = inject&lt;Ref&lt;number&gt;&gt;(&apos;flag&apos;, ref(1))</span><br><span class="line"> </span><br><span class="line">const change = () =&gt; &#123;</span><br><span class="line">    flag.value = 2</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="å…„å¼Ÿç»„ä»¶ä¼ å‚å’ŒBus"><a href="#å…„å¼Ÿç»„ä»¶ä¼ å‚å’ŒBus" class="headerlink" title="å…„å¼Ÿç»„ä»¶ä¼ å‚å’ŒBus"></a>å…„å¼Ÿç»„ä»¶ä¼ å‚å’ŒBus</h4><ul>
<li><p>å€ŸåŠ©çˆ¶ç»„ä»¶ä¼ å‚</p>
<ul>
<li>çˆ¶ç»„ä»¶ä¸ºApp å­ç»„ä»¶ä¸ºA å’Œ Bä»–ä¸¤ä¸ªæ˜¯åŒçº§çš„<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;A @on-click=&quot;getFalg&quot;&gt;&lt;/A&gt;</span><br><span class="line">        &lt;B :flag=&quot;Flag&quot;&gt;&lt;/B&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import A from &apos;./components/A.vue&apos;</span><br><span class="line">import B from &apos;./components/B.vue&apos;</span><br><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let Flag = ref&lt;boolean&gt;(false)</span><br><span class="line">const getFalg = (flag: boolean) =&gt; &#123;</span><br><span class="line">   Flag.value = flag;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>A ç»„ä»¶æ´¾å‘äº‹ä»¶é€šè¿‡App.vue æ¥å—Aç»„ä»¶æ´¾å‘çš„äº‹ä»¶ç„¶ååœ¨Props ä¼ ç»™Bç»„ä»¶ ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„</p>
</li>
<li><p>ç¼ºç‚¹å°±æ˜¯æ¯”è¾ƒéº»çƒ¦ ï¼Œæ— æ³•ç›´æ¥é€šä¿¡ï¼Œåªèƒ½å……å½“æ¡¥æ¢</p>
</li>
<li><p>Event Bus</p>
<ul>
<li>æˆ‘ä»¬åœ¨Vue2 å¯ä»¥ä½¿ç”¨$emit ä¼ é€’ $onç›‘å¬ emitä¼ é€’è¿‡æ¥çš„äº‹ä»¶</li>
<li>è¿™ä¸ªåŸç†å…¶å®æ˜¯è¿ç”¨äº†JSè®¾è®¡æ¨¡å¼ä¹‹å‘å¸ƒè®¢é˜…æ¨¡å¼<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">type BusClass&lt;T&gt; = &#123;</span><br><span class="line">    emit: (name: T) =&gt; void</span><br><span class="line">    on: (name: T, callback: Function) =&gt; void</span><br><span class="line">&#125;</span><br><span class="line">type BusParams = string | number | symbol </span><br><span class="line">type List = &#123;</span><br><span class="line">    [key: BusParams]: Array&lt;Function&gt;</span><br><span class="line">&#125;</span><br><span class="line">class Bus&lt;T extends BusParams&gt; implements BusClass&lt;T&gt; &#123;</span><br><span class="line">    list: List</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        this.list = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    emit(name: T, ...args: Array&lt;any&gt;) &#123;</span><br><span class="line">        let eventName: Array&lt;Function&gt; = this.list[name]</span><br><span class="line">        eventName.forEach(ev =&gt; &#123;</span><br><span class="line">            ev.apply(this, args)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    on(name: T, callback: Function) &#123;</span><br><span class="line">        let fn: Array&lt;Function&gt; = this.list[name] || [];</span><br><span class="line">        fn.push(callback)</span><br><span class="line">        this.list[name] = fn</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">export default new Bus&lt;number&gt;()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æŒ‚è½½åˆ°Vue config å…¨å±€å°±å¯ä»¥ä½¿ç”¨å•¦</p>
</li>
</ul>
<h4 id="TSX"><a href="#TSX" class="headerlink" title="TSX"></a>TSX</h4><ul>
<li>ä½¿ç”¨Templateå»å†™æˆ‘ä»¬æ¨¡æ¿ã€‚ç°åœ¨å¯ä»¥æ‰©å±•å¦ä¸€ç§é£æ ¼TSXé£æ ¼</li>
<li>vue2 çš„æ—¶å€™å°±å·²ç»æ”¯æŒjsxå†™æ³•ï¼Œåªä¸è¿‡ä¸æ˜¯å¾ˆå‹å¥½ï¼Œéšç€vue3å¯¹typescriptçš„æ”¯æŒåº¦ï¼Œtsxå†™æ³•è¶Šæ¥è¶Šè¢«æ¥å—</li>
<li>npm install @vitejs/plugin-vue-jsx -D</li>
<li><p>vite.config.ts é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123; defineConfig &#125; from &apos;vite&apos;</span><br><span class="line">import vue from &apos;@vitejs/plugin-vue&apos;</span><br><span class="line">import vueJsx from &apos;@vitejs/plugin-vue-jsx&apos;; // å¼•å…¥jsx</span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue(),vueJsx()] // æ³¨å†ŒvueJsx</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹tsconfig.json é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;jsx&quot;: &quot;preserve&quot;,</span><br><span class="line">&quot;jsxFactory&quot;: &quot;h&quot;,</span><br><span class="line">&quot;jsxFragmentFactory&quot;: &quot;Fragment&quot;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨TSX</p>
</li>
<li><span style="color: red;">TIPS tsxä¸ä¼šè‡ªåŠ¨è§£åŒ…ä½¿ç”¨refåŠ .vlaue ! ! !</span> </li>
<li>tsxæ”¯æŒ v-model çš„ä½¿ç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let v = ref&lt;string&gt;(&apos;&apos;)</span><br><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;input v-model=&#123;v.value&#125; type=&quot;text&quot; /&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">          &#123;v.value&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
<ul>
<li><p>v-show</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let flag = ref(false)</span><br><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div v-show=&#123;flag.value&#125;&gt;æ™¯å¤©&lt;/div&gt;</span><br><span class="line">      &lt;div v-show=&#123;!flag.value&#125;&gt;é›ªè§&lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-ifæ˜¯ä¸æ”¯æŒçš„(éœ€è¦ä¿®æ”¹ç¼–å†™)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let flag = ref(false)</span><br><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &#123;</span><br><span class="line">        flag.value ? &lt;div&gt;æ™¯å¤©&lt;/div&gt; : &lt;div&gt;é›ªè§&lt;/div&gt;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-forä¹Ÿæ˜¯ä¸æ”¯æŒçš„(éœ€è¦ä½¿ç”¨Map)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let arr = [1,2,3,4,5]</span><br><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &#123;</span><br><span class="line">        arr.map(v=&gt;&#123;</span><br><span class="line">          return &lt;div&gt;$&#123;v&#125;&lt;/div&gt;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-bindä½¿ç”¨(ç›´æ¥èµ‹å€¼å°±å¯ä»¥)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let arr = [1, 2, 3, 4, 5]</span><br><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div data-arr=&#123;arr&#125;&gt;1&lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
<li><p>v-onç»‘å®šäº‹ä»¶ æ‰€æœ‰çš„äº‹ä»¶éƒ½æŒ‰ç…§reacté£æ ¼æ¥</p>
<ul>
<li>æ‰€æœ‰äº‹ä»¶æœ‰onå¼€å¤´</li>
<li>æ‰€æœ‰äº‹ä»¶åç§°é¦–å­—æ¯å¤§å†™<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const renderDom = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;button onClick=&#123;clickTap&#125;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">const clickTap = () =&gt; &#123;</span><br><span class="line">  console.log(&apos;click&apos;);</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Props æ¥å—å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">type Props = &#123;</span><br><span class="line">    title:string</span><br><span class="line">&#125;</span><br><span class="line">const renderDom = (props:Props) =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div&gt;&#123;props.title&#125;&lt;/div&gt;</span><br><span class="line">      &lt;button onClick=&#123;clickTap&#125;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">const clickTap = () =&gt; &#123;</span><br><span class="line">  console.log(&apos;click&apos;);</span><br><span class="line">&#125;</span><br><span class="line">export default renderDom</span><br></pre></td></tr></table></figure>
</li>
<li><p>Emitæ´¾å‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">type Props = &#123;</span><br><span class="line">  title: string</span><br><span class="line">&#125;</span><br><span class="line">const renderDom = (props: Props,content:any) =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div&gt;&#123;props.title&#125;&lt;/div&gt;</span><br><span class="line">      &lt;button onClick=&#123;clickTap.bind(this,content)&#125;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">const clickTap = (ctx:any) =&gt; &#123;</span><br><span class="line">  ctx.emit(&apos;on-click&apos;,1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="æ·±å…¥v-model"><a href="#æ·±å…¥v-model" class="headerlink" title="æ·±å…¥v-model"></a>æ·±å…¥v-model</h4><ul>
<li>Vue3è‡ªåŠ¨å¼•å…¥æ’ä»¶<ul>
<li>unplugin-auto-import/vite</li>
</ul>
</li>
<li><p>viteé…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; defineConfig &#125; from &apos;vite&apos;</span><br><span class="line">import vue from &apos;@vitejs/plugin-vue&apos;</span><br><span class="line">import VueJsx from &apos;@vitejs/plugin-vue-jsx&apos;</span><br><span class="line">import AutoImport from &apos;unplugin-auto-import/vite&apos;</span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue(),VueJsx(),AutoImport(&#123;</span><br><span class="line">    imports:[&apos;vue&apos;],</span><br><span class="line">    dts:&quot;src/auto-import.d.ts&quot;</span><br><span class="line">  &#125;)]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®å®Œæˆä¹‹åä½¿ç”¨ref reactive watch ç­‰ æ— é¡»import å¯¼å…¥ å¯ä»¥ç›´æ¥ä½¿ç”¨ </p>
<ul>
<li><a href="https://github.com/antfu/unplugin-auto-import" style="color: blue;" target="_blank" rel="noopener"> v-model</a></li>
</ul>
</li>
<li>v-model</li>
<li><span style="color: red;">TIps åœ¨Vue3 v-model æ˜¯ç ´åæ€§æ›´æ–°çš„</span> </li>
<li>v-modelåœ¨ç»„ä»¶é‡Œé¢ä¹Ÿæ˜¯å¾ˆé‡è¦çš„<ul>
<li>v-model å…¶å®æ˜¯ä¸€ä¸ªè¯­æ³•ç³– é€šè¿‡props å’Œ emitç»„åˆè€Œæˆçš„</li>
<li>é»˜è®¤å€¼çš„æ”¹å˜</li>
<li>propï¼švalue -&gt; modelValueï¼›</li>
<li>äº‹ä»¶ï¼šinput -&gt; update:modelValueï¼›</li>
<li>v-bind çš„ .sync ä¿®é¥°ç¬¦å’Œç»„ä»¶çš„ model é€‰é¡¹å·²ç§»é™¤</li>
<li>æ–°å¢ æ”¯æŒå¤šä¸ªv-model</li>
<li>æ–°å¢ æ”¯æŒè‡ªå®šä¹‰ ä¿®é¥°ç¬¦</li>
</ul>
</li>
<li><p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">     &lt;div v-if=&apos;propData.modelValue &apos; class=&quot;dialog&quot;&gt;</span><br><span class="line">         &lt;div class=&quot;dialog-header&quot;&gt;</span><br><span class="line">             &lt;div&gt;æ ‡é¢˜&lt;/div&gt;&lt;div @click=&quot;close&quot;&gt;x&lt;/div&gt;</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         &lt;div class=&quot;dialog-content&quot;&gt;</span><br><span class="line">            å†…å®¹</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         </span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line"> </span><br><span class="line">type Props = &#123;</span><br><span class="line">   modelValue:boolean</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">const propData = defineProps&lt;Props&gt;()</span><br><span class="line"> </span><br><span class="line">const emit = defineEmits([&apos;update:modelValue&apos;])</span><br><span class="line"> </span><br><span class="line">const close = () =&gt; &#123;</span><br><span class="line">     emit(&apos;update:modelValue&apos;,false)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style lang=&apos;less&apos;&gt;</span><br><span class="line">.dialog&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    position: fixed;</span><br><span class="line">    left:50%;</span><br><span class="line">    top:50%;</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">    &amp;-header&#123;</span><br><span class="line">        border-bottom: 1px solid #ccc;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">        padding: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;-content&#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;show = !show&quot;&gt;å¼€å…³&#123;&#123;show&#125;&#125;&lt;/button&gt;</span><br><span class="line">  &lt;Dialog v-model=&quot;show&quot;&gt;&lt;/Dialog&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import Dialog from &quot;./components/Dialog/index.vue&quot;;</span><br><span class="line">import &#123;ref&#125; from &apos;vue&apos;</span><br><span class="line">const show = ref(false)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç»‘å®šå¤šä¸ªæ¡ˆä¾‹</p>
</li>
<li><p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">     &lt;div v-if=&apos;modelValue &apos; class=&quot;dialog&quot;&gt;</span><br><span class="line">         &lt;div class=&quot;dialog-header&quot;&gt;</span><br><span class="line">             &lt;div&gt;æ ‡é¢˜---&#123;&#123;title&#125;&#125;&lt;/div&gt;&lt;div @click=&quot;close&quot;&gt;x&lt;/div&gt;</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         &lt;div class=&quot;dialog-content&quot;&gt;</span><br><span class="line">            å†…å®¹</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         </span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line"> </span><br><span class="line">type Props = &#123;</span><br><span class="line">   modelValue:boolean,</span><br><span class="line">   title:string</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">const propData = defineProps&lt;Props&gt;()</span><br><span class="line"> </span><br><span class="line">const emit = defineEmits([&apos;update:modelValue&apos;,&apos;update:title&apos;])</span><br><span class="line"> </span><br><span class="line">const close = () =&gt; &#123;</span><br><span class="line">     emit(&apos;update:modelValue&apos;,false)</span><br><span class="line">     emit(&apos;update:title&apos;,&apos;æˆ‘è¦æ”¹å˜&apos;)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style lang=&apos;less&apos;&gt;</span><br><span class="line">.dialog&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    position: fixed;</span><br><span class="line">    left:50%;</span><br><span class="line">    top:50%;</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">    &amp;-header&#123;</span><br><span class="line">        border-bottom: 1px solid #ccc;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">        padding: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;-content&#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;show = !show&quot;&gt;å¼€å…³&#123;&#123;show&#125;&#125; ----- &#123;&#123;title&#125;&#125;&lt;/button&gt;</span><br><span class="line">  &lt;Dialog v-model:title=&apos;title&apos; v-model=&quot;show&quot;&gt;&lt;/Dialog&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import Dialog from &quot;./components/Dialog/index.vue&quot;;</span><br><span class="line">import &#123;ref&#125; from &apos;vue&apos;</span><br><span class="line">const show = ref(false)</span><br><span class="line">const title = ref(&apos;æˆ‘æ˜¯æ ‡é¢˜&apos;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰ä¿®é¥°ç¬¦</p>
<ul>
<li>æ·»åŠ åˆ°ç»„ä»¶ v-model çš„ä¿®é¥°ç¬¦å°†é€šè¿‡ modelModifiers prop æä¾›ç»™ç»„ä»¶ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»„ä»¶ï¼Œå…¶ä¸­åŒ…å«é»˜è®¤ä¸ºç©ºå¯¹è±¡çš„ modelModifiers prop<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">type Props = &#123;</span><br><span class="line">  modelValue: boolean,</span><br><span class="line">  title?: string,</span><br><span class="line">  modelModifiers?: &#123;</span><br><span class="line">    default: () =&gt; &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  titleModifiers?: &#123;</span><br><span class="line">    default: () =&gt; &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const propData = defineProps&lt;Props&gt;()</span><br><span class="line">const emit = defineEmits([&apos;update:modelValue&apos;, &apos;update:title&apos;])</span><br><span class="line">const close = () =&gt; &#123;</span><br><span class="line">  console.log(propData.modelModifiers);</span><br><span class="line">  emit(&apos;update:modelValue&apos;, false)</span><br><span class="line">  emit(&apos;update:title&apos;, &apos;æˆ‘è¦æ”¹å˜&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰æŒ‡ä»¤directive"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤directive" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤directive"></a>è‡ªå®šä¹‰æŒ‡ä»¤directive</h4><ul>
<li>directive-è‡ªå®šä¹‰æŒ‡ä»¤ï¼ˆå±äºç ´åæ€§æ›´æ–°ï¼‰<ul>
<li>Vueä¸­æœ‰v-if,v-for,v-bindï¼Œv-show,v-model ç­‰ç­‰ä¸€ç³»åˆ—æ–¹ä¾¿å¿«æ·çš„æŒ‡ä»¤ ä»Šå¤©ä¸€èµ·æ¥äº†è§£ä¸€ä¸‹vueé‡Œæä¾›çš„è‡ªå®šä¹‰æŒ‡ä»¤</li>
</ul>
</li>
<li>Vue3æŒ‡ä»¤çš„é’©å­å‡½æ•°<ul>
<li>created å…ƒç´ åˆå§‹åŒ–çš„æ—¶å€™</li>
<li>beforeMount æŒ‡ä»¤ç»‘å®šåˆ°å…ƒç´ åè°ƒç”¨ åªè°ƒç”¨ä¸€æ¬¡</li>
<li>mounted å…ƒç´ æ’å…¥çˆ¶çº§domè°ƒç”¨</li>
<li>beforeUpdate å…ƒç´ è¢«æ›´æ–°ä¹‹å‰è°ƒç”¨</li>
<li>update è¿™ä¸ªå‘¨æœŸæ–¹æ³•è¢«ç§»é™¤ æ”¹ç”¨updated</li>
<li>beforeUnmount åœ¨å…ƒç´ è¢«ç§»é™¤å‰è°ƒç”¨</li>
<li>unmounted æŒ‡ä»¤è¢«ç§»é™¤åè°ƒç”¨ åªè°ƒç”¨ä¸€æ¬¡</li>
<li>Vue2 æŒ‡ä»¤ bind inserted update componentUpdated unbind</li>
</ul>
</li>
<li><p>åœ¨setupå†…å®šä¹‰å±€éƒ¨æŒ‡ä»¤</p>
<ul>
<li>ä½†è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é™åˆ¶ï¼šå¿…é¡»ä»¥ vNameOfDirective çš„å½¢å¼æ¥å‘½åæœ¬åœ°è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œä»¥ä½¿å¾—å®ƒä»¬å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;show = !show&quot;&gt;å¼€å…³&#123;&#123;show&#125;&#125; ----- &#123;&#123;title&#125;&#125;&lt;/button&gt;</span><br><span class="line">  &lt;Dialog  v-move-directive=&quot;&#123;background:&apos;green&apos;,flag:show&#125;&quot;&gt;&lt;/Dialog&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">const vMoveDirective: Directive = &#123;</span><br><span class="line">  created: () =&gt; &#123;</span><br><span class="line">    console.log(&quot;åˆå§‹åŒ–====&gt;&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeMount(...args: Array&lt;any&gt;) &#123;</span><br><span class="line">    // åœ¨å…ƒç´ ä¸Šåšäº›æ“ä½œ</span><br><span class="line">    console.log(&quot;åˆå§‹åŒ–ä¸€æ¬¡=======&gt;&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted(el: any, dir: DirectiveBinding&lt;Value&gt;) &#123;</span><br><span class="line">    el.style.background = dir.value.background;</span><br><span class="line">    console.log(&quot;åˆå§‹åŒ–========&gt;&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeUpdate() &#123;</span><br><span class="line">    console.log(&quot;æ›´æ–°ä¹‹å‰&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  updated() &#123;</span><br><span class="line">    console.log(&quot;æ›´æ–°ç»“æŸ&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeUnmount(...args: Array&lt;any&gt;) &#123;</span><br><span class="line">    console.log(args);</span><br><span class="line">    console.log(&quot;======&gt;å¸è½½ä¹‹å‰&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  unmounted(...args: Array&lt;any&gt;) &#123;</span><br><span class="line">    console.log(args);</span><br><span class="line">    console.log(&quot;======&gt;å¸è½½å®Œæˆ&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ç”Ÿå‘½å‘¨æœŸé’©å­å‚æ•°è¯¦è§£</p>
<ul>
<li>ç¬¬ä¸€ä¸ª el  å½“å‰ç»‘å®šçš„DOM å…ƒç´ </li>
<li>ç¬¬äºŒä¸ª binding<ul>
<li>instanceï¼šä½¿ç”¨æŒ‡ä»¤çš„ç»„ä»¶å®ä¾‹ã€‚</li>
<li>valueï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ v-my-directive=â€1 + 1â€ ä¸­ï¼Œè¯¥å€¼ä¸º 2ã€‚</li>
<li>oldValueï¼šå…ˆå‰çš„å€¼ï¼Œä»…åœ¨ beforeUpdate å’Œ updated ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æœ‰æ›´æ”¹éƒ½å¯ç”¨ã€‚</li>
<li>argï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å‚æ•°(å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ v-my-directive:foo ä¸­ï¼Œarg ä¸º â€œfooâ€ã€‚</li>
<li>modifiersï¼šåŒ…å«ä¿®é¥°ç¬¦(å¦‚æœæœ‰çš„è¯) çš„å¯¹è±¡ã€‚ä¾‹å¦‚åœ¨ v-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º {foo: trueï¼Œbar: true}ã€‚</li>
<li>dirï¼šä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨æ³¨å†ŒæŒ‡ä»¤æ—¶ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ä¾‹å¦‚ï¼Œåœ¨ä»¥ä¸‹æŒ‡ä»¤ä¸­</li>
</ul>
</li>
</ul>
</li>
<li>ç¬¬ä¸‰ä¸ª å½“å‰å…ƒç´ çš„è™šæ‹ŸDOM ä¹Ÿå°±æ˜¯Vnode</li>
<li>ç¬¬å››ä¸ª prevNode ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ beforeUpdate å’Œ updated é’©å­ä¸­å¯ç”¨ </li>
<li><p>å‡½æ•°ç®€å†™</p>
<ul>
<li>ä½ å¯èƒ½æƒ³åœ¨ mounted å’Œ updated æ—¶è§¦å‘ç›¸åŒè¡Œä¸ºï¼Œè€Œä¸å…³å¿ƒå…¶ä»–çš„é’©å­å‡½æ•°ã€‚é‚£ä¹ˆä½ å¯ä»¥é€šè¿‡å°†è¿™ä¸ªå‡½æ•°æ¨¡å¼å®ç°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div&gt;</span><br><span class="line">      &lt;input v-model=&quot;value&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">      &lt;A v-move=&quot;&#123; background: value &#125;&quot;&gt;&lt;/A&gt;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">   </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import A from &apos;./components/A.vue&apos;</span><br><span class="line">import &#123; ref, Directive, DirectiveBinding &#125; from &apos;vue&apos;</span><br><span class="line">let value = ref&lt;string&gt;(&apos;&apos;)</span><br><span class="line">type Dir = &#123;</span><br><span class="line">   background: string</span><br><span class="line">&#125;</span><br><span class="line">const vMove: Directive = (el, binding: DirectiveBinding&lt;Dir&gt;) =&gt; &#123;</span><br><span class="line">   el.style.background = binding.value.background</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰æ‹–æ‹½æŒ‡ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-move class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      å†…å®¹</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import &#123; Directive &#125; from &quot;vue&quot;;</span><br><span class="line">const vMove: Directive = &#123;</span><br><span class="line">  mounted(el: HTMLElement) &#123;</span><br><span class="line">    let moveEl = el.firstElementChild as HTMLElement;</span><br><span class="line">    const mouseDown = (e: MouseEvent) =&gt; &#123;</span><br><span class="line">      //é¼ æ ‡ç‚¹å‡»ç‰©ä½“é‚£ä¸€åˆ»ç›¸å¯¹äºç‰©ä½“å·¦ä¾§è¾¹æ¡†çš„è·ç¦»=ç‚¹å‡»æ—¶çš„ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨æœ€å·¦è¾¹çš„è·ç¦»-ç‰©ä½“å·¦è¾¹æ¡†ç›¸å¯¹äºæµè§ˆå™¨æœ€å·¦è¾¹çš„è·ç¦»</span><br><span class="line">      console.log(e.clientX, e.clientY, &quot;-----èµ·å§‹&quot;, el.offsetLeft);</span><br><span class="line">      let X = e.clientX - el.offsetLeft;</span><br><span class="line">      let Y = e.clientY - el.offsetTop;</span><br><span class="line">      const move = (e: MouseEvent) =&gt; &#123;</span><br><span class="line">        el.style.left = e.clientX - X + &quot;px&quot;;</span><br><span class="line">        el.style.top = e.clientY - Y + &quot;px&quot;;</span><br><span class="line">        console.log(e.clientX, e.clientY, &quot;---æ”¹å˜&quot;);</span><br><span class="line">      &#125;;</span><br><span class="line">      document.addEventListener(&quot;mousemove&quot;, move);</span><br><span class="line">      document.addEventListener(&quot;mouseup&quot;, () =&gt; &#123;</span><br><span class="line">        document.removeEventListener(&quot;mousemove&quot;, move);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    moveEl.addEventListener(&quot;mousedown&quot;, mouseDown);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style lang=&apos;less&apos;&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  left: 50%;</span><br><span class="line">  top: 50%;</span><br><span class="line">  transform: translate(-50%, -50%);</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  .header &#123;</span><br><span class="line">    height: 20px;</span><br><span class="line">    background: black;</span><br><span class="line">    cursor: move;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰Hooks"><a href="#è‡ªå®šä¹‰Hooks" class="headerlink" title="è‡ªå®šä¹‰Hooks"></a>è‡ªå®šä¹‰Hooks</h4><ul>
<li>Vue3 è‡ªå®šä¹‰Hook<ul>
<li>ä¸»è¦ç”¨æ¥å¤„ç†å¤ç”¨ä»£ç é€»è¾‘çš„ä¸€äº›å°è£…<ul>
<li>è¿™ä¸ªåœ¨vue2 å°±å·²ç»æœ‰ä¸€ä¸ªä¸œè¥¿æ˜¯Mixins</li>
<li>mixinså°±æ˜¯å°†è¿™äº›å¤šä¸ªç›¸åŒçš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå„ä¸ªç»„ä»¶åªéœ€è¦å¼•å…¥mixinsï¼Œå°±èƒ½å®ç°ä¸€æ¬¡å†™ä»£ç ï¼Œå¤šç»„ä»¶å—ç›Šçš„æ•ˆæœã€‚</li>
<li>å¼Šç«¯å°±æ˜¯ ä¼šæ¶‰åŠåˆ°è¦†ç›–çš„é—®é¢˜</li>
<li>ç»„ä»¶çš„dataã€methodsã€filtersä¼šè¦†ç›–mixinsé‡Œçš„åŒådataã€methodsã€filters</li>
</ul>
</li>
</ul>
</li>
<li>äºŒç‚¹å°±æ˜¯ å˜é‡æ¥æºä¸æ˜ç¡®ï¼ˆéšå¼ä¼ å…¥ï¼‰ï¼Œä¸åˆ©äºé˜…è¯»ï¼Œä½¿ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚<ul>
<li>Vue3 çš„è‡ªå®šä¹‰çš„hook</li>
<li>Vue3 çš„ hookå‡½æ•° ç›¸å½“äº vue2 çš„ mixin, ä¸åŒåœ¨ä¸ hooks æ˜¯å‡½æ•°</li>
<li>Vue3 çš„ hookå‡½æ•° å¯ä»¥å¸®åŠ©æˆ‘ä»¬æé«˜ä»£ç çš„å¤ç”¨æ€§, è®©æˆ‘ä»¬èƒ½åœ¨ä¸åŒçš„ç»„ä»¶ä¸­éƒ½åˆ©ç”¨ hooks å‡½æ•°</li>
<li>Vue3 hook <a href="https://github.com/antfu/unplugin-auto-import" style="color: blue;" target="_blank" rel="noopener">åº“Get Started | VueUse</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import &#123; onMounted &#125; from &apos;vue&apos;</span><br><span class="line">type Options = &#123;</span><br><span class="line">    el: string</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">type Return = &#123;</span><br><span class="line">    Baseurl: string | null</span><br><span class="line">&#125;</span><br><span class="line">export default function (option: Options): Promise&lt;Return&gt; &#123;</span><br><span class="line">    return new Promise((resolve) =&gt; &#123;</span><br><span class="line">        onMounted(() =&gt; &#123;</span><br><span class="line">            const file: HTMLImageElement = document.querySelector(option.el) as HTMLImageElement;</span><br><span class="line">            file.onload = ():void =&gt; &#123;</span><br><span class="line">                resolve(&#123;</span><br><span class="line">                    Baseurl: toBase64(file)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">        &#125;)</span><br><span class="line">        const toBase64 = (el: HTMLImageElement): string =&gt; &#123;</span><br><span class="line">            const canvas: HTMLCanvasElement = document.createElement(&apos;canvas&apos;)</span><br><span class="line">            const ctx = canvas.getContext(&apos;2d&apos;) as CanvasRenderingContext2D</span><br><span class="line">            canvas.width = el.width</span><br><span class="line">            canvas.height = el.height</span><br><span class="line">            ctx.drawImage(el, 0, 0, canvas.width,canvas.height)</span><br><span class="line">            console.log(el.width);</span><br><span class="line">            </span><br><span class="line">            return canvas.toDataURL(&apos;image/png&apos;)</span><br><span class="line"> </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="Vue3å®šä¹‰å…¨å±€å‡½æ•°å’Œå˜é‡"><a href="#Vue3å®šä¹‰å…¨å±€å‡½æ•°å’Œå˜é‡" class="headerlink" title="Vue3å®šä¹‰å…¨å±€å‡½æ•°å’Œå˜é‡"></a>Vue3å®šä¹‰å…¨å±€å‡½æ•°å’Œå˜é‡</h4><ul>
<li>globalProperties<ul>
<li>ç”±äºVue3 æ²¡æœ‰Prototype å±æ€§ ä½¿ç”¨ app.config.globalProperties ä»£æ›¿ ç„¶åå»å®šä¹‰å˜é‡å’Œå‡½æ•°</li>
</ul>
</li>
<li><p>Vue2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// ä¹‹å‰ (Vue 2.x)</span><br><span class="line">Vue.prototype.$http = () =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue3</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// ä¹‹å (Vue 3.x)</span><br><span class="line">const app = createApp(&#123;&#125;)</span><br><span class="line">app.config.globalProperties.$http = () =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿‡æ»¤å™¨</p>
<ul>
<li>åœ¨Vue3 ç§»é™¤äº†</li>
<li>æ­£å¥½å¯ä»¥ä½¿ç”¨å…¨å±€å‡½æ•°ä»£æ›¿Filters<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.config.globalProperties.$filters = &#123;</span><br><span class="line">  format&lt;T extends any&gt;(str: T): string &#123;</span><br><span class="line">    return `$$&#123;str&#125;`</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å£°æ˜æ–‡ä»¶ ä¸ç„¶TSæ— æ³•æ­£ç¡®ç±»å‹ æ¨å¯¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type Filter = &#123;</span><br><span class="line">    format: &lt;T extends any&gt;(str: T) =&gt; T</span><br><span class="line">  &#125;</span><br><span class="line">// å£°æ˜è¦æ‰©å……@vue/runtime-coreåŒ…çš„å£°æ˜.</span><br><span class="line">// è¿™é‡Œæ‰©å……&quot;ComponentCustomProperties&quot;æ¥å£, å› ä¸ºä»–æ˜¯vue3ä¸­å®ä¾‹çš„å±æ€§çš„ç±»å‹.</span><br><span class="line">  declare module &apos;@vue/runtime-core&apos; &#123;</span><br><span class="line">    export interface ComponentCustomProperties &#123;</span><br><span class="line">        $filters: Filter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>setup è¯»å–å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; getCurrentInstance, ComponentInternalInstance &#125; from &apos;vue&apos;;</span><br><span class="line">const &#123; appContext &#125; = &lt;ComponentInternalInstance&gt;getCurrentInstance()</span><br><span class="line">console.log(appContext.config.globalProperties.$env);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="ç¼–å†™Vue3æ’ä»¶"><a href="#ç¼–å†™Vue3æ’ä»¶" class="headerlink" title="ç¼–å†™Vue3æ’ä»¶"></a>ç¼–å†™Vue3æ’ä»¶</h4><ul>
<li>æ’ä»¶<ul>
<li>æ’ä»¶æ˜¯è‡ªåŒ…å«çš„ä»£ç ï¼Œé€šå¸¸å‘ Vue æ·»åŠ å…¨å±€çº§åŠŸèƒ½ã€‚ä½ å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡éœ€è¦æœ‰installæ–¹æ³•Vueä¼šå¸®ä½ è‡ªåŠ¨æ³¨å…¥åˆ°install æ–¹æ³• ä½ å¦‚æœæ˜¯function å°±ç›´æ¥å½“install æ–¹æ³•å»ä½¿ç”¨</li>
</ul>
</li>
<li>ä½¿ç”¨æ’ä»¶<ul>
<li>åœ¨ä½¿ç”¨ createApp() åˆå§‹åŒ– Vue åº”ç”¨ç¨‹åºåï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨ use() æ–¹æ³•å°†æ’ä»¶æ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºä¸­ã€‚</li>
</ul>
</li>
<li><p>å®ç°ä¸€ä¸ªLoading</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div v-if=&quot;isShow&quot; class=&quot;loading&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;loading-content&quot;&gt;Loading...&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import &#123; ref &#125; from &apos;vue&apos;;</span><br><span class="line">const isShow = ref(false)//å®šä½loading çš„å¼€å…³</span><br><span class="line"> </span><br><span class="line">const show = () =&gt; &#123;</span><br><span class="line">    isShow.value = true</span><br><span class="line">&#125;</span><br><span class="line">const hide = () =&gt; &#123;</span><br><span class="line">    isShow.value = false</span><br><span class="line">&#125;</span><br><span class="line">//å¯¹å¤–æš´éœ² å½“å‰ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">    isShow,</span><br><span class="line">    show,</span><br><span class="line">    hide</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;</span><br><span class="line">.loading &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    inset: 0;</span><br><span class="line">    background: rgba(0, 0, 0, 0.8);</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    &amp;-content &#123;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">        color: #fff;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Loading.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123;  createVNode, render, VNode, App &#125; from &apos;vue&apos;;</span><br><span class="line">import Loading from &apos;./index.vue&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">  install(app: App) &#123;</span><br><span class="line">    //createVNode vueæä¾›çš„åº•å±‚æ–¹æ³• å¯ä»¥ç»™æˆ‘ä»¬ç»„ä»¶åˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOM ä¹Ÿå°±æ˜¯Vnode</span><br><span class="line">    const vnode: VNode = createVNode(Loading)</span><br><span class="line">    //render æŠŠæˆ‘ä»¬çš„Vnode ç”ŸæˆçœŸå®DOM å¹¶ä¸”æŒ‚è½½åˆ°æŒ‡å®šèŠ‚ç‚¹</span><br><span class="line">    render(vnode, document.body)</span><br><span class="line">    // Vue æä¾›çš„å…¨å±€é…ç½® å¯ä»¥è‡ªå®šä¹‰</span><br><span class="line">    app.config.globalProperties.$loading = &#123;</span><br><span class="line">        show: () =&gt; vnode.component?.exposed?.show(),</span><br><span class="line">        hide: () =&gt; vnode.component?.exposed?.hide()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Main.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Loading from &apos;./components/loading&apos;</span><br><span class="line">let app = createApp(App)</span><br><span class="line">app.use(Loading)</span><br><span class="line">type Lod = &#123;</span><br><span class="line">    show: () =&gt; void,</span><br><span class="line">    hide: () =&gt; void</span><br><span class="line">&#125;</span><br><span class="line">//ç¼–å†™ts loading å£°æ˜æ–‡ä»¶æ”¾ç½®æŠ¥é”™ å’Œ æ™ºèƒ½æç¤º</span><br><span class="line">declare module &apos;@vue/runtime-core&apos; &#123;</span><br><span class="line">    export interface ComponentCustomProperties &#123;</span><br><span class="line">        $loading: Lod</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">app.mount(&apos;#app&apos;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="äº†è§£UIåº“ElementUIï¼ŒAntDesiginç­‰"><a href="#äº†è§£UIåº“ElementUIï¼ŒAntDesiginç­‰" class="headerlink" title="äº†è§£UIåº“ElementUIï¼ŒAntDesiginç­‰"></a>äº†è§£UIåº“ElementUIï¼ŒAntDesiginç­‰</h4><ul>
<li>vueä½œä¸ºä¸€æ¬¾æ·±å—å¹¿å¤§ç¾¤ä¼—ä»¥åŠå°¤å¤§å´‡æ‹œè€…çš„å–œæ¬¢ï¼Œç‰¹æ­¤åˆ—å‡ºåœ¨githubä¸Šå¼€æºçš„vueä¼˜ç§€çš„UIç»„ä»¶åº“ä¾›å¤§å®¶å‚è€ƒ<ul>
<li>è¿™ä¸¤å¥—æ¡†æ¶ä¸»è¦ç”¨äºåå°ç®¡ç†ç³»ç»Ÿçš„åˆ¶ä½œï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿå¼€å‘</li>
</ul>
</li>
<li><p>å®‰è£…æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># NPM</span><br><span class="line">$ npm install element-plus --save</span><br><span class="line"> </span><br><span class="line"># Yarn</span><br><span class="line">$ yarn add element-plus</span><br><span class="line"> </span><br><span class="line"># pnpm</span><br><span class="line">$ pnpm install element-plus</span><br></pre></td></tr></table></figure>
</li>
<li><p>main tså¼•å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createApp &#125; from &apos;vue&apos;</span><br><span class="line">import ElementPlus from &apos;element-plus&apos;</span><br><span class="line">import &apos;element-plus/dist/index.css&apos;</span><br><span class="line">import App from &apos;./App.vue&apos;</span><br><span class="line"> </span><br><span class="line">const app = createApp(App)</span><br><span class="line"> </span><br><span class="line">app.use(ElementPlus)</span><br><span class="line">app.mount(&apos;#app&apos;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>volaræ’ä»¶æ”¯æŒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    // ...</span><br><span class="line">    &quot;types&quot;: [&quot;element-plus/global&quot;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Element UI Plus</p>
<ul>
<li><a href="https://element-plus.gitee.io/zh-CN/" style="color: blue;" target="_blank" rel="noopener">ä¸€ä¸ª Vue 3 UI æ¡†æ¶ | Element Plus</a></li>
</ul>
</li>
<li><p>Ant Design Vue</p>
<ul>
<li><a href=" https://next.antdv.com/docs/vue/introduce-cn" style="color: blue;" target="_blank" rel="noopener">Ant Design Vue</a></li>
<li><p>å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install ant-design-vue@next --save</span><br><span class="line">$ yarn add ant-design-vue@next</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createApp &#125; from &apos;vue&apos;;</span><br><span class="line">import Antd from &apos;ant-design-vue&apos;;</span><br><span class="line">import App from &apos;./App&apos;;</span><br><span class="line">import &apos;ant-design-vue/dist/antd.css&apos;;</span><br><span class="line"> </span><br><span class="line">const app = createApp(App);</span><br><span class="line"> </span><br><span class="line">app.use(Antd).mount(&apos;#app&apos;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="è¯¦è§£Scopedå’Œæ ·å¼-ç©¿é€"><a href="#è¯¦è§£Scopedå’Œæ ·å¼-ç©¿é€" class="headerlink" title="è¯¦è§£Scopedå’Œæ ·å¼ ç©¿é€"></a>è¯¦è§£Scopedå’Œæ ·å¼ ç©¿é€</h4><ul>
<li>ä¸»è¦æ˜¯ç”¨äºä¿®æ”¹å¾ˆå¤švueå¸¸ç”¨çš„ç»„ä»¶åº“ï¼ˆelement, vant, AntDesiginï¼‰ï¼Œè™½ç„¶é…å¥½äº†æ ·å¼ä½†æ˜¯è¿˜æ˜¯éœ€è¦æ›´æ”¹å…¶ä»–çš„æ ·å¼</li>
<li>å°±éœ€è¦ç”¨åˆ°æ ·å¼ç©¿é€</li>
<li>scopedçš„åŸç†<ul>
<li>vueä¸­çš„scoped é€šè¿‡åœ¨DOMç»“æ„ä»¥åŠcssæ ·å¼ä¸ŠåŠ å”¯ä¸€ä¸é‡å¤çš„æ ‡è®°:data-v-hashçš„æ–¹å¼ï¼Œä»¥ä¿è¯å”¯ä¸€ï¼ˆè€Œè¿™ä¸ªå·¥ä½œæ˜¯ç”±è¿‡PostCSSè½¬è¯‘å®ç°çš„ï¼‰ï¼Œè¾¾åˆ°æ ·å¼ç§æœ‰åŒ–æ¨¡å—åŒ–çš„ç›®çš„ã€‚</li>
</ul>
</li>
<li>æ€»ç»“ä¸€ä¸‹scopedä¸‰æ¡æ¸²æŸ“è§„åˆ™ï¼š<ul>
<li>ç»™HTMLçš„DOMèŠ‚ç‚¹åŠ ä¸€ä¸ªä¸é‡å¤dataå±æ€§(å½¢å¦‚ï¼šdata-v-123)æ¥è¡¨ç¤ºä»–çš„å”¯ä¸€æ€§</li>
<li>åœ¨æ¯å¥cssé€‰æ‹©å™¨çš„æœ«å°¾ï¼ˆç¼–è¯‘åçš„ç”Ÿæˆçš„cssè¯­å¥ï¼‰åŠ ä¸€ä¸ªå½“å‰ç»„ä»¶çš„dataå±æ€§é€‰æ‹©å™¨ï¼ˆå¦‚[data-v-123]ï¼‰æ¥ç§æœ‰åŒ–æ ·å¼</li>
<li>å¦‚æœç»„ä»¶å†…éƒ¨åŒ…å«æœ‰å…¶ä»–ç»„ä»¶ï¼Œåªä¼šç»™å…¶ä»–ç»„ä»¶çš„æœ€å¤–å±‚æ ‡ç­¾åŠ ä¸Šå½“å‰ç»„ä»¶çš„dataå±æ€§</li>
</ul>
</li>
<li>PostCSSä¼šç»™ä¸€ä¸ªç»„ä»¶ä¸­çš„æ‰€æœ‰domæ·»åŠ äº†ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åŠ¨æ€å±æ€§data-v-xxxxï¼Œç„¶åï¼Œç»™CSSé€‰æ‹©å™¨é¢å¤–æ·»åŠ ä¸€ä¸ªå¯¹åº”çš„å±æ€§é€‰æ‹©å™¨æ¥é€‰æ‹©è¯¥ç»„ä»¶ä¸­domï¼Œè¿™ç§åšæ³•ä½¿å¾—æ ·å¼åªä½œç”¨äºå«æœ‰è¯¥å±æ€§çš„domâ€”â€”ç»„ä»¶å†…éƒ¨dom, ä»è€Œè¾¾åˆ°äº†â€™æ ·å¼æ¨¡å—åŒ–â€™çš„æ•ˆæœ.</li>
<li>æ¡ˆä¾‹ä¿®æ”¹Element ui Inputæ ·å¼<ul>
<li>å¦‚æœä¸å†™Scoped å°±æ²¡é—®é¢˜</li>
<li>åŸå› å°±æ˜¯Scoped æçš„é¬¼ ä»–åœ¨è¿›è¡ŒPostCssè½¬åŒ–çš„æ—¶å€™æŠŠå…ƒç´ é€‰æ‹©å™¨é»˜è®¤æ”¾åœ¨äº†æœ€å</li>
<li>Vue æä¾›äº†æ ·å¼ç©¿é€:deep() ä»–çš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ”¹å˜ å±æ€§é€‰æ‹©å™¨çš„ä½ç½®</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/18/vite-vue3-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/18/vite-vue3-02/" itemprop="url">vite-vue3-02</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-18T16:20:54+08:00">
                2022-03-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h3><h4 id="æ’æ§½slot-å ä½ç¬¦"><a href="#æ’æ§½slot-å ä½ç¬¦" class="headerlink" title="æ’æ§½slot(å ä½ç¬¦)"></a>æ’æ§½slot(å ä½ç¬¦)</h4><ul>
<li>å­ç»„ä»¶ä¸­çš„æä¾›ç»™çˆ¶ç»„ä»¶ä½¿ç”¨çš„ä¸€ä¸ªå ä½ç¬¦ï¼Œç”¨<slot></slot> è¡¨ç¤ºï¼Œçˆ¶ç»„ä»¶å¯ä»¥åœ¨è¿™ä¸ªå ä½ç¬¦ä¸­å¡«å……ä»»ä½•æ¨¡æ¿ä»£ç ï¼Œå¦‚ HTMLã€ç»„ä»¶ç­‰ï¼Œå¡«å……çš„å†…å®¹ä¼šæ›¿æ¢å­ç»„ä»¶çš„<slot></slot>æ ‡ç­¾</li>
<li>åŒ¿åæ’æ§½</li>
<li><p>åœ¨å­ç»„ä»¶æ”¾ç½®ä¸€ä¸ªæ’æ§½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>çˆ¶ç»„ä»¶ä½¿ç”¨æ’æ§½</p>
<ul>
<li>åœ¨çˆ¶ç»„ä»¶ç»™è¿™ä¸ªæ’æ§½å¡«å……å†…å®¹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dialog&gt;</span><br><span class="line">    &lt;template v-slot&gt;</span><br><span class="line">        &lt;div&gt;2132&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Dialog&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å…·åæ’æ§½</p>
<ul>
<li>å…·åæ’æ§½å…¶å®å°±æ˜¯ç»™æ’æ§½å–ä¸ªåå­—ã€‚ä¸€ä¸ªå­ç»„ä»¶å¯ä»¥æ”¾å¤šä¸ªæ’æ§½ï¼Œè€Œä¸”å¯ä»¥æ”¾åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œè€Œçˆ¶ç»„ä»¶å¡«å……å†…å®¹æ—¶ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªåå­—æŠŠå†…å®¹å¡«å……åˆ°å¯¹åº”æ’æ§½ä¸­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>çˆ¶ç»„ä»¶ä½¿ç”¨éœ€å¯¹åº”åç§°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dialog&gt;</span><br><span class="line">    &lt;template v-slot:header&gt;</span><br><span class="line">        &lt;div&gt;1&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-slot&gt;</span><br><span class="line">        &lt;div&gt;2&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-slot:footer&gt;</span><br><span class="line">        &lt;div&gt;3&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Dialog&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ’æ§½ç®€å†™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dialog&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">        &lt;div&gt;1&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #default&gt;</span><br><span class="line">        &lt;div&gt;2&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #footer&gt;</span><br><span class="line">        &lt;div&gt;3&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Dialog&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½œç”¨åŸŸæ’æ§½</p>
<ul>
<li><p>åœ¨å­ç»„ä»¶åŠ¨æ€ç»‘å®šå‚æ•° æ´¾å‘ç»™çˆ¶ç»„ä»¶çš„slotå»ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div v-for=&quot;item in 100&quot;&gt;</span><br><span class="line">            &lt;slot :data=&quot;item&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ç»“æ„æ–¹å¼å–å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dialog&gt;</span><br><span class="line">  &lt;template #header&gt;</span><br><span class="line">      &lt;div&gt;1&lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">  &lt;template #default=&quot;&#123; data &#125;&quot;&gt;</span><br><span class="line">      &lt;div&gt;&#123;&#123; data &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">  &lt;template #footer&gt;</span><br><span class="line">      &lt;div&gt;3&lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/Dialog&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åŠ¨æ€æ’æ§½</p>
<ul>
<li>æ’æ§½å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡å<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dialog&gt;</span><br><span class="line">    &lt;template #[name]&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            23</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Dialog&gt;</span><br><span class="line">const name = ref(&apos;header&apos;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="å¼‚æ­¥ç»„ä»¶-amp-ä»£ç åˆ†åŒ…-amp-suspense"><a href="#å¼‚æ­¥ç»„ä»¶-amp-ä»£ç åˆ†åŒ…-amp-suspense" class="headerlink" title="å¼‚æ­¥ç»„ä»¶&amp;ä»£ç åˆ†åŒ…&amp;suspense"></a>å¼‚æ­¥ç»„ä»¶&amp;ä»£ç åˆ†åŒ…&amp;suspense</h4><ul>
<li>å¼‚æ­¥ç»„ä»¶</li>
<li>åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—,å¹¶ä¸”å‡å°‘ä¸»åŒ…çš„ä½“ç§¯</li>
<li>å°±å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç»„ä»¶</li>
<li>é¡¶å±‚ await,åœ¨setupè¯­æ³•ç³–é‡Œé¢ ä½¿ç”¨æ–¹æ³•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt; ä¸­å¯ä»¥ä½¿ç”¨é¡¶å±‚ await ç»“æœä»£ç ä¼šè¢«ç¼–è¯‘æˆ async setup()</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">const post = await fetch(`/api/post/1`).then(r =&gt; r.json())</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶ é€šè¿‡defineAsyncComponentåŠ è½½å¼‚æ­¥é…åˆimport å‡½æ•°æ¨¡å¼ä¾¿å¯ä»¥åˆ†åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; reactive, ref, markRaw, toRaw, defineAsyncComponent &#125; from &apos;vue&apos;</span><br><span class="line">const Dialog = defineAsyncComponent(() =&gt; import(&apos;../../components/Dialog/index.vue&apos;))</span><br></pre></td></tr></table></figure>
</li>
<li><p>suspense</p>
<ul>
<li><suspense> ç»„ä»¶æœ‰ä¸¤ä¸ªæ’æ§½ã€‚å®ƒä»¬éƒ½åªæ¥æ”¶ä¸€ä¸ªç›´æ¥å­èŠ‚ç‚¹ã€‚default æ’æ§½é‡Œçš„èŠ‚ç‚¹ä¼šå°½å¯èƒ½å±•ç¤ºå‡ºæ¥ã€‚å¦‚æœä¸èƒ½ï¼Œåˆ™å±•ç¤º fallback æ’æ§½é‡Œçš„èŠ‚ç‚¹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;Suspense&gt;</span><br><span class="line">  &lt;template #default&gt;</span><br><span class="line">    &lt;Dialog&gt;</span><br><span class="line">      &lt;template #default&gt;</span><br><span class="line">          &lt;div&gt;æ¥å£è¯·æ±‚åŠ¨æ€æ•°æ®&lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Dialog&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template #fallback&gt;</span><br><span class="line">     &lt;div&gt;loading...&lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br></pre></td></tr></table></figure>
</suspense></li>
</ul>
</li>
</ul>
<h4 id="Teleportä¼ é€ç»„ä»¶"><a href="#Teleportä¼ é€ç»„ä»¶" class="headerlink" title="Teleportä¼ é€ç»„ä»¶"></a>Teleportä¼ é€ç»„ä»¶</h4><ul>
<li><p>Teleport Vue 3.0æ–°ç‰¹æ€§ä¹‹ä¸€</p>
<ul>
<li>Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„æ¨¡æ¿æ¸²æŸ“è‡³æŒ‡å®šDOMèŠ‚ç‚¹ï¼Œä¸å—çˆ¶çº§styleã€v-showç­‰å±æ€§å½±å“ï¼Œä½†dataã€propæ•°æ®ä¾æ—§èƒ½å¤Ÿå…±ç”¨çš„æŠ€æœ¯ï¼›ç±»ä¼¼äº React çš„ Portal</li>
<li>ä¸»è¦è§£å†³çš„é—®é¢˜ å› ä¸ºTeleportèŠ‚ç‚¹æŒ‚è½½åœ¨å…¶ä»–æŒ‡å®šçš„DOMèŠ‚ç‚¹ä¸‹ï¼Œå®Œå…¨ä¸å—çˆ¶çº§styleæ ·å¼å½±å“</li>
<li>ä½¿ç”¨æ–¹æ³•<ul>
<li>é€šè¿‡to å±æ€§ æ’å…¥æŒ‡å®šå…ƒç´ ä½ç½® to=â€bodyâ€ ä¾¿å¯ä»¥å°†Teleport å†…å®¹ä¼ é€åˆ°æŒ‡å®šä½ç½®<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Teleport to=&quot;body&quot;&gt;</span><br><span class="line">  &lt;Loading&gt;&lt;/Loading&gt;</span><br><span class="line">&lt;/Teleport&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¼ é€ä½ç½® æ”¯æŒ class idç­‰ é€‰æ‹©å™¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;modal&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;Teleport to=&quot;.modal&quot;&gt;</span><br><span class="line">  &lt;Loading&gt;&lt;/Loading&gt;</span><br><span class="line">&lt;/Teleport&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ª</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Teleport to=&quot;.modal1&quot;&gt;</span><br><span class="line">  &lt;Loading&gt;&lt;/Loading&gt;</span><br><span class="line">&lt;/Teleport&gt;</span><br><span class="line">&lt;Teleport to=&quot;.modal2&quot;&gt;</span><br><span class="line">  &lt;Loading&gt;&lt;/Loading&gt;</span><br><span class="line">&lt;/Teleport&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="keep-aliveç¼“å­˜ç»„ä»¶"><a href="#keep-aliveç¼“å­˜ç»„ä»¶" class="headerlink" title="keep-aliveç¼“å­˜ç»„ä»¶"></a>keep-aliveç¼“å­˜ç»„ä»¶</h4><ul>
<li>å†…ç½®ç»„ä»¶keep-alive<ul>
<li>æœ‰æ—¶å€™æˆ‘ä»¬ä¸å¸Œæœ›ç»„ä»¶è¢«é‡æ–°æ¸²æŸ“å½±å“ä½¿ç”¨ä½“éªŒï¼›æˆ–è€…å¤„äºæ€§èƒ½è€ƒè™‘ï¼Œé¿å…å¤šæ¬¡é‡å¤æ¸²æŸ“é™ä½æ€§èƒ½ã€‚è€Œæ˜¯å¸Œæœ›ç»„ä»¶å¯ä»¥ç¼“å­˜ä¸‹æ¥,ç»´æŒå½“å‰çš„çŠ¶æ€ã€‚è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°keep-aliveç»„ä»¶</li>
</ul>
</li>
<li><p>å¼€å¯keep-alive ç”Ÿå‘½å‘¨æœŸçš„å˜åŒ–</p>
<ul>
<li>åˆæ¬¡è¿›å…¥æ—¶ï¼š onMounted&gt; onActivated</li>
<li>é€€å‡ºåè§¦å‘ deactivated</li>
<li>å†æ¬¡è¿›å…¥ï¼š</li>
<li>åªä¼šè§¦å‘ onActivated</li>
<li>äº‹ä»¶æŒ‚è½½çš„æ–¹æ³•ç­‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡çš„æ”¾åœ¨ onMountedä¸­ï¼›ç»„ä»¶æ¯æ¬¡è¿›å»æ‰§è¡Œçš„æ–¹æ³•æ”¾åœ¨ onActivatedä¸­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- åŸºæœ¬ --&gt;</span><br><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- å¤šä¸ªæ¡ä»¶åˆ¤æ–­çš„å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;comp-a v-if=&quot;a &gt; 1&quot;&gt;&lt;/comp-a&gt;</span><br><span class="line">  &lt;comp-b v-else&gt;&lt;/comp-b&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- å’Œ `&lt;transition&gt;` ä¸€èµ·ä½¿ç”¨ --&gt;</span><br><span class="line">&lt;transition&gt;</span><br><span class="line">  &lt;keep-alive&gt;</span><br><span class="line">    &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;</span><br><span class="line">  &lt;/keep-alive&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>include å’Œ exclude</p>
<ul>
<li>include å’Œ exclude prop å…è®¸ç»„ä»¶æœ‰æ¡ä»¶åœ°ç¼“å­˜ã€‚äºŒè€…éƒ½å¯ä»¥ç”¨é€—å·åˆ†éš”å­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼æˆ–ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤º<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :include=&quot;&quot; :exclude=&quot;&quot; :max=&quot;&quot;&gt;&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>max</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :max=&quot;10&quot;&gt;</span><br><span class="line">  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="transitionåŠ¨ç”»ç»„ä»¶"><a href="#transitionåŠ¨ç”»ç»„ä»¶" class="headerlink" title="transitionåŠ¨ç”»ç»„ä»¶"></a>transitionåŠ¨ç”»ç»„ä»¶</h4><ul>
<li>Vue æä¾›äº† transition çš„å°è£…ç»„ä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥ç»™ä»»ä½•å…ƒç´ å’Œç»„ä»¶æ·»åŠ è¿›å…¥/ç¦»å¼€è¿‡æ¸¡:<ul>
<li>æ¡ä»¶æ¸²æŸ“ (ä½¿ç”¨ v-if)</li>
<li>æ¡ä»¶å±•ç¤º (ä½¿ç”¨ v-show)</li>
<li>åŠ¨æ€ç»„ä»¶</li>
<li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li>
<li>è‡ªå®šä¹‰ transition è¿‡åº¦æ•ˆæœï¼Œä½ éœ€è¦å¯¹transitionç»„ä»¶çš„nameå±æ€§è‡ªå®šä¹‰ã€‚å¹¶åœ¨cssä¸­å†™å…¥å¯¹åº”çš„æ ·å¼</li>
<li>è¿‡æ¸¡çš„ç±»å<ul>
<li>åœ¨è¿›å…¥/ç¦»å¼€çš„è¿‡æ¸¡ä¸­ï¼Œä¼šæœ‰ 6 ä¸ª class åˆ‡æ¢ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è¿‡æ¸¡ class<ul>
<li>åœ¨è¿›å…¥/ç¦»å¼€çš„è¿‡æ¸¡ä¸­ï¼Œä¼šæœ‰ 6 ä¸ª class åˆ‡æ¢ã€‚</li>
<li>v-enter-fromï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åçš„ä¸‹ä¸€å¸§ç§»é™¤ã€‚</li>
<li>v-enter-activeï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªè¿›å…¥è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚</li>
<li>v-enter-toï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶  v-enter-from è¢«ç§»é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚</li>
<li>v-leave-fromï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¸§è¢«ç§»é™¤ã€‚</li>
<li>v-leave-activeï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªç¦»å¼€è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚</li>
<li>v-leave-toï¼šç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ v-leave-from è¢«ç§»é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰è¿‡æ¸¡ class ç±»å</p>
<ul>
<li>trasnsition props</li>
<li>enter-from-class</li>
<li>enter-active-class</li>
<li>enter-to-class</li>
<li>leave-from-class</li>
<li>leave-active-class</li>
<li>leave-to-class</li>
<li>è‡ªå®šä¹‰è¿‡åº¦æ—¶é—´ å•ä½æ¯«ç§’<ul>
<li>ä½ ä¹Ÿå¯ä»¥åˆ†åˆ«æŒ‡å®šè¿›å…¥å’Œç¦»å¼€çš„æŒç»­æ—¶é—´ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition :duration=&quot;1000&quot;&gt;...&lt;/transition&gt;</span><br><span class="line">&lt;transition :duration=&quot;&#123; enter: 500, leave: 800 &#125;&quot;&gt;...&lt;/transition&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>é€šè¿‡è‡ªå®šä¹‰class ç»“åˆcssåŠ¨ç”»åº“animate css</p>
</li>
<li>å®‰è£…åº“ npm install animate.css</li>
<li>å¼•å…¥ import â€˜animate.cssâ€™</li>
<li>ä½¿ç”¨æ–¹æ³•</li>
<li><p><a href="https://animate.style/" style="color: blue;" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£ </a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition</span><br><span class="line">    leave-active-class=&quot;animate__animated animate__bounceInLeft&quot;</span><br><span class="line">    enter-active-class=&quot;animate__animated animate__bounceInRight&quot;</span><br><span class="line">&gt;</span><br><span class="line">    &lt;div v-if=&quot;flag&quot; class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>transition ç”Ÿå‘½å‘¨æœŸ8ä¸ª</p>
<ul>
<li>@before-enter=â€beforeEnterâ€ //å¯¹åº”enter-from</li>
<li>@enter=â€enterâ€//å¯¹åº”enter-active</li>
<li>@after-enter=â€afterEnterâ€//å¯¹åº”enter-to</li>
<li>@enter-cancelled=â€enterCancelledâ€//æ˜¾ç¤ºè¿‡åº¦æ‰“æ–­</li>
<li>@before-leave=â€beforeLeaveâ€//å¯¹åº”leave-from</li>
<li>@leave=â€leaveâ€//å¯¹åº”enter-active</li>
<li>@after-leave=â€afterLeaveâ€//å¯¹åº”leave-to</li>
<li>@leave-cancelled=â€leaveCancelledâ€//ç¦»å¼€è¿‡åº¦æ‰“æ–­</li>
<li>å½“åªç”¨ JavaScript è¿‡æ¸¡çš„æ—¶å€™ï¼Œåœ¨ enter å’Œ leave é’©å­ä¸­å¿…é¡»ä½¿ç”¨ done è¿›è¡Œå›è°ƒ</li>
<li>ç»“åˆgsap åŠ¨ç”»åº“ä½¿ç”¨(npm install gsap -S) <ul>
<li>import gsap from â€˜gsapâ€™</li>
<li><a href="https://greensock.com/" style="color: blue;" target="_blank" rel="noopener">GreenSock</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const beforeEnter = (el: Element) =&gt; &#123;</span><br><span class="line">    console.log(&apos;è¿›å…¥ä¹‹å‰from&apos;, el);</span><br><span class="line">&#125;</span><br><span class="line">const Enter = (el: Element,done:Function) =&gt; &#123;</span><br><span class="line">    console.log(&apos;è¿‡åº¦æ›²çº¿&apos;);</span><br><span class="line">    setTimeout(()=&gt;&#123;</span><br><span class="line">       done()</span><br><span class="line">    &#125;,3000)</span><br><span class="line">&#125;</span><br><span class="line">const AfterEnter = (el: Element) =&gt; &#123;</span><br><span class="line">    console.log(&apos;to&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>appear</p>
<ul>
<li>é€šè¿‡è¿™ä¸ªå±æ€§å¯ä»¥è®¾ç½®åˆå§‹èŠ‚ç‚¹è¿‡åº¦ å°±æ˜¯é¡µé¢åŠ è½½å®Œæˆå°±å¼€å§‹åŠ¨ç”» å¯¹åº”ä¸‰ä¸ªçŠ¶æ€<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">appear-active-class=&quot;&quot;</span><br><span class="line">appear-from-class=&quot;&quot;</span><br><span class="line">appear-to-class=&quot;&quot;</span><br><span class="line">appear</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="transition-groupè¿‡åº¦åˆ—è¡¨"><a href="#transition-groupè¿‡åº¦åˆ—è¡¨" class="headerlink" title="transition-groupè¿‡åº¦åˆ—è¡¨"></a>transition-groupè¿‡åº¦åˆ—è¡¨</h4><ul>
<li>å•ä¸ªèŠ‚ç‚¹</li>
<li>å¤šä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡åªæ¸²æŸ“ä¸€ä¸ª</li>
<li>é‚£ä¹ˆæ€ä¹ˆåŒæ—¶æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨ï¼Œæ¯”å¦‚ä½¿ç”¨ v-forï¼Ÿåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ <transition-group> ç»„ä»¶ã€‚åœ¨æˆ‘ä»¬æ·±å…¥ä¾‹å­ä¹‹å‰ï¼Œå…ˆäº†è§£å…³äºè¿™ä¸ªç»„ä»¶çš„å‡ ä¸ªç‰¹ç‚¹ï¼š<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¸ä¼šæ¸²æŸ“ä¸€ä¸ªåŒ…è£¹å…ƒç´ ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ tag attribute æŒ‡å®šæ¸²æŸ“ä¸€ä¸ªå…ƒç´ ã€‚</li>
<li>è¿‡æ¸¡æ¨¡å¼ä¸å¯ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†ç›¸äº’åˆ‡æ¢ç‰¹æœ‰çš„å…ƒç´ ã€‚</li>
<li>å†…éƒ¨å…ƒç´ æ€»æ˜¯éœ€è¦æä¾›å”¯ä¸€çš„ key attribute å€¼ã€‚</li>
<li>CSS è¿‡æ¸¡çš„ç±»å°†ä¼šåº”ç”¨åœ¨å†…éƒ¨çš„å…ƒç´ ä¸­ï¼Œè€Œä¸æ˜¯è¿™ä¸ªç»„/å®¹å™¨æœ¬èº«ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition-group&gt;</span><br><span class="line">     &lt;div style=&quot;margin: 10px;&quot; :key=&quot;item&quot; v-for=&quot;item in list&quot;&gt;&#123;&#123; item &#125;&lt;/div&gt;</span><br><span class="line">&lt;/transition-group&gt;</span><br><span class="line">const list = reactive&lt;number[]&gt;([1, 2, 4, 5, 6, 7, 8, 9])</span><br><span class="line">const Push = () =&gt; &#123;</span><br><span class="line">    list.push(123)</span><br><span class="line">&#125;</span><br><span class="line">const Pop = () =&gt; &#123;</span><br><span class="line">    list.pop()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</transition-group></li>
</ul>
<ul>
<li>åˆ—è¡¨çš„ç§»åŠ¨è¿‡æ¸¡<ul>
<li><transition-group> ç»„ä»¶è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šä¹‹å¤„ã€‚é™¤äº†è¿›å…¥å’Œç¦»å¼€ï¼Œå®ƒè¿˜å¯ä»¥ä¸ºå®šä½çš„æ”¹å˜æ·»åŠ åŠ¨ç”»ã€‚åªéœ€äº†è§£æ–°å¢çš„ v-move ç±»å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°åŠŸèƒ½ï¼Œå®ƒä¼šåº”ç”¨åœ¨å…ƒç´ æ”¹å˜å®šä½çš„è¿‡ç¨‹ä¸­ã€‚åƒä¹‹å‰çš„ç±»åä¸€æ ·ï¼Œå®ƒçš„å‰ç¼€å¯ä»¥é€šè¿‡ name attribute æ¥è‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ move-class attribute æ‰‹åŠ¨è®¾ç½®</transition-group></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;button @click=&quot;shuffle&quot;&gt;Shuffle&lt;/button&gt;</span><br><span class="line">        &lt;transition-group class=&quot;wraps&quot; name=&quot;mmm&quot; tag=&quot;ul&quot;&gt;</span><br><span class="line">            &lt;li class=&quot;cell&quot; v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;&#123;&#123; item.number &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/transition-group&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">&lt;script setup  lang=&apos;ts&apos;&gt;</span><br><span class="line">import _ from &apos;lodash&apos;</span><br><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let items = ref(Array.apply(null, &#123; length: 81 &#125; as number[]).map((_, index) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        id: index,</span><br><span class="line">        number: (index % 9) + 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line">const shuffle = () =&gt; &#123;</span><br><span class="line">    items.value = _.shuffle(items.value)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">  </span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;</span><br><span class="line">.wraps &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    width: calc(25px * 10 + 9px);</span><br><span class="line">    .cell &#123;</span><br><span class="line">        width: 25px;</span><br><span class="line">        height: 25px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        list-style-type: none;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.mmm-move &#123;</span><br><span class="line">    transition: transform 0.8s ease;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>çŠ¶æ€è¿‡æ¸¡<ul>
<li>Vue ä¹ŸåŒæ ·å¯ä»¥ç»™æ•°å­— Svg èƒŒæ™¯é¢œè‰²ç­‰æ·»åŠ è¿‡åº¦åŠ¨ç”» ä»Šå¤©æ¼”ç¤ºæ•°å­—å˜åŒ–<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input step=&quot;20&quot; v-model=&quot;num.current&quot; type=&quot;number&quot; /&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123; num.tweenedNumber.toFixed(0) &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script setup lang=&apos;ts&apos;&gt;</span><br><span class="line">import &#123; reactive, watch &#125; from &apos;vue&apos;</span><br><span class="line">import gsap from &apos;gsap&apos;</span><br><span class="line">const num = reactive(&#123;</span><br><span class="line">    tweenedNumber: 0,</span><br><span class="line">    current:0</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">watch(()=&gt;num.current, (newVal) =&gt; &#123;</span><br><span class="line">    gsap.to(num, &#123;</span><br><span class="line">        duration: 1,</span><br><span class="line">        tweenedNumber: newVal</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/17/vite-vue3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/17/vite-vue3/" itemprop="url">vite+vue3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-17T09:59:13+08:00">
                2022-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h3><ul>
<li><a href="https://vitejs.cn/guide/why.html#slow-server-start" style="color: blue;" target="_blank" rel="noopener">vite</a></li>
<li><a href="https://blog.csdn.net/qq1195566313/category_11618172.html" style="color: blue;" target="_blank" rel="noopener">more</a><h4 id="é¦–æ¬¡æ‰§è¡Œå‘½ä»¤-npm-init-vite-latest-ä¸€ç›´æŠ¥é”™"><a href="#é¦–æ¬¡æ‰§è¡Œå‘½ä»¤-npm-init-vite-latest-ä¸€ç›´æŠ¥é”™" class="headerlink" title="é¦–æ¬¡æ‰§è¡Œå‘½ä»¤(npm init vite@latest)ä¸€ç›´æŠ¥é”™"></a>é¦–æ¬¡æ‰§è¡Œå‘½ä»¤(npm init vite@latest)ä¸€ç›´æŠ¥é”™</h4></li>
<li><p>è§£å†³</p>
<ul>
<li>ä¿®æ”¹æºåœ°å€ä½æ·˜å®é•œåƒ<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¿®æ”¹æºåœ°å€ä¸ºå®˜æ–¹æº</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npmjs.org/</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†ä½¿ç”¨cnpm</p>
</li>
<li><p>ä¸‹è½½æ·˜å®é•œåƒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm  install -g cnpm --registry==http://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šæ·˜å®é•œåƒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set  registry  http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="viteçš„ä¼˜åŠ¿"><a href="#viteçš„ä¼˜åŠ¿" class="headerlink" title="viteçš„ä¼˜åŠ¿"></a>viteçš„ä¼˜åŠ¿</h4><ul>
<li>å†·æœåŠ¡ é»˜è®¤æ„å»ºç›®æ ‡æµè§ˆå™¨æ˜¯èƒ½åœ¨scriptæ ‡ç­¾ä¸Šæ”¯æŒåŸç”ŸESMå’ŒåŸç”ŸESMåŠ¨æ€å¯¼å…¥<ul>
<li><a href="https://zhuanlan.zhihu.com/p/400573436" style="color: blue;" target="_blank" rel="noopener">æ›´å¤šESM</a></li>
</ul>
</li>
<li>HMRæ¨¡å—çƒ­æ›¿æ¢ï¼ˆhot module replacementï¼‰é€Ÿåº¦å¿« æ¨¡å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰</li>
<li>Rollupæ‰“åŒ…ï¼Œå®ƒä½¿ç”¨rollupæ‰“åŒ…çš„ä»£ç ï¼Œå¹¶ä¸”å®ƒæ˜¯é¢„é…ç½®çš„ æ”¯æŒå¤§éƒ¨åˆ†çš„rollupæ’ä»¶</li>
</ul>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ul>
<li>public â€“ é™æ€æ–‡ä»¶ï¼ˆä¸è¢«ç¼–è¯‘ï¼‰</li>
<li>src/assets â€“ é™æ€æ–‡ä»¶ï¼ˆè¢«ç¼–è¯‘ï¼‰</li>
</ul>
<h4 id="diff-ç®—æ³•"><a href="#diff-ç®—æ³•" class="headerlink" title="diff ç®—æ³•"></a>diff ç®—æ³•</h4><ul>
<li>æœ‰æ— key æ˜¯å¦è¦†ç›–ï¼ŒåŠè·³è¿‡ï¼ˆé¡ºã€é€†ã€ä¹±ï¼‰</li>
</ul>
<h4 id="ç›¸å…³Ref"><a href="#ç›¸å…³Ref" class="headerlink" title="ç›¸å…³Ref"></a>ç›¸å…³Ref</h4><ul>
<li>ref<ul>
<li>æ¥å—ä¸€ä¸ªå†…éƒ¨å€¼å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼ä¸”å¯å˜çš„ ref å¯¹è±¡ã€‚ref å¯¹è±¡ä»…æœ‰ä¸€ä¸ª .value propertyï¼ŒæŒ‡å‘è¯¥å†…éƒ¨å€¼<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;changeHandle&quot;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; mes &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">let mes: string = &quot;åˆå­¦ä¹ vite&quot;</span><br><span class="line">const changeHandle = () =&gt; &#123;</span><br><span class="line">  mes = &quot;change msg&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>ä»¥ä¸Šæ“ä½œï¼Œæ— æ³•æ”¹å˜mesçš„å€¼,å› ä¸ºmeså¹¶ä¸æ˜¯å“åº”å¼çš„ï¼Œæ— æ³•è¢«vueè·Ÿè¸ªè¦æ”¹æˆref</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;changeHandle&quot;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; mes &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123;ref, Ref&#125; from &apos;vue&apos;</span><br><span class="line">let mes:Ref&lt;string&gt; = ref(&quot;æˆ‘æ˜¯message&quot;);</span><br><span class="line"> </span><br><span class="line">const changeHandle = () =&gt; &#123;</span><br><span class="line">  mes.value = &quot;change msg&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">// ------------------------------- tsä¸¤ç§æ–¹å¼ ---------------------------------</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;changeHandle&quot;&gt;ç‚¹å‡»&lt;/button&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; mes &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &apos;vue&apos;</span><br><span class="line">let mes = ref&lt;string | number&gt;(&quot;æˆ‘æ˜¯message&quot;)</span><br><span class="line"> </span><br><span class="line">const changeHandle = () =&gt; &#123;</span><br><span class="line">  message.value = &quot;change msg&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>isRef</p>
<ul>
<li>åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªrefå¯¹è±¡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, Ref,isRef &#125; from &apos;vue&apos;</span><br><span class="line">let message: Ref&lt;string | number&gt; = ref(&quot;æˆ‘æ˜¯message&quot;)</span><br><span class="line">let notRef:number = 123</span><br><span class="line">const changeMsg = () =&gt; &#123;</span><br><span class="line">  message.value = &quot;change msg&quot;</span><br><span class="line">  console.log(isRef(message)); //true</span><br><span class="line">  console.log(isRef(notRef)); //false</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>shallowRef</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªè·Ÿè¸ªè‡ªèº« .value å˜åŒ–çš„ refï¼Œä½†ä¸ä¼šä½¿å…¶å€¼ä¹Ÿå˜æˆå“åº”å¼çš„</li>
<li>ä¿®æ”¹å…¶å±æ€§æ˜¯éå“åº”å¼çš„è¿™æ ·æ˜¯ä¸ä¼šæ”¹å˜çš„</li>
</ul>
</li>
<li><p>triggerRef</p>
<ul>
<li>å¼ºåˆ¶æ›´æ–°é¡µé¢DOM</li>
</ul>
</li>
<li><p>customRef</p>
<ul>
<li>customRef æ˜¯ä¸ªå·¥å‚å‡½æ•°è¦æ±‚æˆ‘ä»¬è¿”å›ä¸€ä¸ªå¯¹è±¡ å¹¶ä¸”å®ç° get å’Œ set </li>
</ul>
</li>
</ul>
<h4 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h4><ul>
<li>ç”¨æ¥ç»‘å®šå¤æ‚çš„æ•°æ®ç±»å‹ ä¾‹å¦‚ å¯¹è±¡ æ•°ç»„</li>
<li>ä¸å¯ä»¥ç»‘å®šæ™®é€šçš„æ•°æ®ç±»å‹è¿™æ ·æ˜¯ä¸å…è®¸ ä¼šç»™æˆ‘ä»¬æŠ¥é”™</li>
<li>å¦‚æœç”¨refå»ç»‘å®šå¯¹è±¡ æˆ–è€… æ•°ç»„ ç­‰å¤æ‚çš„æ•°æ®ç±»å‹,çœ‹æºç é‡Œé¢å…¶å®ä¹Ÿæ˜¯ å»è°ƒç”¨reactive,ä½¿ç”¨reactive å»ä¿®æ”¹å€¼æ— é¡».value</li>
<li><p>æ•°ç»„å¼‚æ­¥èµ‹å€¼é—®é¢˜</p>
<ul>
<li>ä¸ä¼šå˜åŒ–<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let person = reactive&lt;number[]&gt;([])</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  person = [1, 2, 3]</span><br><span class="line">  console.log(person);</span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive &#125; from &apos;vue&apos;</span><br><span class="line">let person = reactive&lt;number[]&gt;([])</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  const arr = [1, 2, 3]</span><br><span class="line">  person.push(...arr)</span><br><span class="line">  console.log(person);</span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type Person = &#123;</span><br><span class="line">  list?:Array&lt;number&gt;</span><br><span class="line">&#125;</span><br><span class="line">let person = reactive&lt;Person&gt;(&#123;</span><br><span class="line">  list:[]</span><br><span class="line">&#125;)</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  const arr = [1, 2, 3]</span><br><span class="line">  person.list = arr;</span><br><span class="line">  console.log(person);</span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>
</li>
<li><p>readonly</p>
<ul>
<li>æ‹·è´ä¸€ä»½proxyå¯¹è±¡å°†å…¶è®¾ç½®ä¸ºåªè¯»</li>
</ul>
</li>
<li>shallowReactive<ul>
<li>åªèƒ½å¯¹æµ…å±‚çš„æ•°æ® å¦‚æœæ˜¯æ·±å±‚çš„æ•°æ®åªä¼šæ”¹å˜å€¼,ä¸ä¼šæ”¹å˜è§†å›¾</li>
</ul>
</li>
</ul>
<h4 id="toç³»åˆ—"><a href="#toç³»åˆ—" class="headerlink" title="toç³»åˆ—"></a>toç³»åˆ—</h4><ul>
<li>toRef<ul>
<li>åŸå§‹å¯¹è±¡æ˜¯éå“åº”å¼çš„å°±ä¸ä¼šæ›´æ–°è§†å›¾ æ•°æ®æ˜¯ä¼šå˜çš„</li>
<li>åŸå§‹å¯¹è±¡æ˜¯å“åº”å¼çš„æ˜¯ä¼šæ›´æ–°è§†å›¾å¹¶ä¸”æ”¹å˜æ•°æ®çš„</li>
</ul>
</li>
<li>toRefs<ul>
<li>æ‰¹é‡åˆ›å»ºrefå¯¹è±¡ä¸»è¦æ˜¯æ–¹ä¾¿æˆ‘ä»¬è§£æ„ä½¿ç”¨</li>
</ul>
</li>
<li>toRaw<ul>
<li>å“åº”å¼å¯¹è±¡è½¬åŒ–ä¸ºæ™®é€šå¯¹è±¡</li>
</ul>
</li>
</ul>
<h4 id="computedè®¡ç®—å±æ€§"><a href="#computedè®¡ç®—å±æ€§" class="headerlink" title="computedè®¡ç®—å±æ€§"></a>computedè®¡ç®—å±æ€§</h4><ul>
<li>computedç”¨æ³•<ul>
<li>è®¡ç®—å±æ€§å°±æ˜¯å½“ä¾èµ–çš„å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰ä¼šè§¦å‘ä»–çš„æ›´æ”¹ï¼Œå¦‚æœä¾èµ–çš„å€¼ï¼Œä¸å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ç¼“å­˜ä¸­çš„å±æ€§å€¼</li>
<li>å‚æ•°ï¼ˆå‡½æ•°æˆ–å¯¹è±¡ï¼‰<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const name = computed(() =&gt; &#123;</span><br><span class="line">  return `$&#123;fistName.value&#125; ----- $&#123;lastName.value&#125;`</span><br><span class="line">&#125;)</span><br><span class="line">const name = computed(&#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return `$&#123;fistName.value&#125; ----- $&#123;lastName.value&#125;`</span><br><span class="line">  &#125;,</span><br><span class="line">  set() &#123;</span><br><span class="line">    return `$&#123;fistName.value&#125; ----- $&#123;lastName.value&#125;`</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="watchä¾¦å¬å™¨"><a href="#watchä¾¦å¬å™¨" class="headerlink" title="watchä¾¦å¬å™¨"></a>watchä¾¦å¬å™¨</h4><ul>
<li>watch éœ€è¦ä¾¦å¬ç‰¹å®šçš„æ•°æ®æºï¼Œå¹¶åœ¨å•ç‹¬çš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œå‰¯ä½œç”¨</li>
<li><p>watchå‚æ•°</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•°ç›‘å¬æº(å•ä¸ªæ•°æ®æºã€æ•°ç»„ã€å‡½æ•°)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, watch, reactive &#125; from &apos;vue&apos;;</span><br><span class="line">let message = reactive(&#123;</span><br><span class="line">  name: &apos;å‡¤&apos;,</span><br><span class="line">  name2: &apos;å‡¤å‡¤&apos;,</span><br><span class="line">&#125;);</span><br><span class="line">// åªæƒ³ç›‘å¬ç‰¹å®šçš„æŸä¸ªå±æ€§ï¼Œå¯ä»¥ä¼ å…¥å‡½æ•°</span><br><span class="line">watch(() =&gt; message.name, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">  console.log(&apos;æ–°çš„&apos;, newVal);</span><br><span class="line">  console.log(&apos;æ—§çš„&apos;, oldVal);</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  // deep: true, // reactiveç±»å‹ æ˜¯å¦è®¾ç½®deep éƒ½æ·±åº¦ç›‘å¬</span><br><span class="line">  // immediate: true, // ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢æ˜¯å¦æ‰§è¡Œ</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•°å›è°ƒå‡½æ•°cbï¼ˆnewVal, oldValï¼‰</p>
</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸€ä¸ªoptionsé…ç½®é¡¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä¸ä¼  undefined<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  immediate: true, // æ˜¯å¦ç«‹å³è°ƒç”¨ä¸€æ¬¡</span><br><span class="line">  deep: true // æ˜¯å¦å¼€å¯æ·±åº¦ç›‘å¬ï¼Œ å¦‚æœæ˜¯reactiveç±»å‹ï¼Œæ˜¯å¦è®¾ç½®æ­¤å±æ€§é»˜è®¤æ·±åº¦ç›‘å¬</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="watchEffecté«˜çº§ä¾¦å¬å™¨ï¼‰"><a href="#watchEffecté«˜çº§ä¾¦å¬å™¨ï¼‰" class="headerlink" title="watchEffecté«˜çº§ä¾¦å¬å™¨ï¼‰"></a>watchEffecté«˜çº§ä¾¦å¬å™¨ï¼‰</h4><ul>
<li>ç«‹å³æ‰§è¡Œä¼ å…¥çš„ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨å…¶ä¾èµ–å˜æ›´æ—¶é‡æ–°è¿è¡Œè¯¥å‡½æ•°</li>
<li>å¦‚æœç”¨åˆ°message å°±åªä¼šç›‘å¬message å°±æ˜¯ç”¨åˆ°å‡ ä¸ªç›‘å¬å‡ ä¸ª è€Œä¸”æ˜¯éæƒ°æ€§ ä¼šé»˜è®¤è°ƒç”¨ä¸€æ¬¡</li>
<li>æ¸…é™¤å‰¯ä½œç”¨<ul>
<li>å°±æ˜¯åœ¨è§¦å‘ç›‘å¬ä¹‹å‰ä¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°å¯ä»¥å¤„ç†ä½ çš„é€»è¾‘ä¾‹å¦‚é˜²æŠ–</li>
</ul>
</li>
<li><p>åœæ­¢è·Ÿè¸ª watchEffect è¿”å›ä¸€ä¸ªå‡½æ•° è°ƒç”¨ä¹‹åå°†åœæ­¢æ›´æ–°</p>
</li>
<li><p>æ›´å¤šçš„é…ç½®é¡¹</p>
<ul>
<li>å‰¯ä½œç”¨åˆ·æ–°æ—¶æœº flush ä¸€èˆ¬ä½¿ç”¨post(å¯ä»¥è·å–åˆ°DOMå…ƒç´ )</li>
<li>æ›´æ–°æ—¶æœºï¼Œpreç»„ä»¶æ›´æ–°å‰æ‰§è¡Œï¼Œ syncå¼ºåˆ¶æ•ˆæœå§‹ç»ˆåŒæ­¥è§¦å‘ï¼Œ postç»„ä»¶æ›´æ–°åæ‰§è¡Œ</li>
<li>onTrigger  å¯ä»¥å¸®åŠ©æˆ‘ä»¬è°ƒè¯• watchEffect<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;input id=&quot;inp&quot; v-model=&quot;message&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">  &lt;input v-model=&quot;message2&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">  &lt;button @click=&quot;stopWatch&quot;&gt;åœæ­¢ç›‘å¬&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">import &#123; ref, watch, watchEffect, reactive &#125; from &apos;vue&apos;;</span><br><span class="line">const message = ref&lt;string&gt;(&apos;å‡¤&apos;);</span><br><span class="line">const message2 = ref&lt;string&gt;(&apos;å‡¤å‡¤&apos;);</span><br><span class="line">// é»˜è®¤ä¼šæ‰§è¡Œä¸€æ¬¡ </span><br><span class="line">const stop = watchEffect((oninvalidate) =&gt; &#123;</span><br><span class="line">  const inp:HTMLInputElement = document.querySelector(&apos;#inp&apos;) as HTMLInputElement;</span><br><span class="line">  console.log(&apos;message--------&apos;, message.value);</span><br><span class="line">  // console.log(&apos;message2--------&apos;, message2.value);</span><br><span class="line">  console.log(inp, &apos;è¿›å…¥é¡µé¢&apos;);</span><br><span class="line">  oninvalidate(() =&gt; &#123;</span><br><span class="line">    console.log(&apos;before&apos;);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  flush: &apos;post&apos;,</span><br><span class="line">  onTrigger(e) &#123;</span><br><span class="line">    // devå¯ä»¥å¸®åŠ©æˆ‘ä»¬è°ƒè¯• watchEffect</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const stopWatch = () =&gt; stop();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="è¯†ç»„ä»¶-amp-Vue3ç”Ÿå‘½å‘¨æœŸ"><a href="#è¯†ç»„ä»¶-amp-Vue3ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="è¯†ç»„ä»¶&amp;Vue3ç”Ÿå‘½å‘¨æœŸ"></a>è¯†ç»„ä»¶&amp;Vue3ç”Ÿå‘½å‘¨æœŸ</h4><ul>
<li>æ¯ä¸€ä¸ª.vue æ–‡ä»¶éƒ½å¯ä»¥å……å½“ç»„ä»¶æ¥ä½¿ç”¨</li>
<li>æ¯ä¸€ä¸ªç»„ä»¶éƒ½å¯ä»¥å¤ç”¨</li>
<li><p>çˆ¶ç»„ä»¶ä½¿ç”¨</p>
<ul>
<li>å¼•å…¥å­ç»„ä»¶ xxx ç„¶åç›´æ¥å°±å¯ä»¥å»å½“æ ‡ç­¾å»ä½¿ç”¨ ï¼ˆåˆ‡è®°ç»„ä»¶åç§°ä¸èƒ½ä¸htmlå…ƒç´ æ ‡ç­¾åç§°ä¸€æ ·ï¼‰</li>
<li>vue3ä½¿ç”¨ç»„ä»¶æ— éœ€æ³¨å†Œ</li>
</ul>
</li>
<li><p>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</p>
<ul>
<li>æ˜¯ä¸€ä¸ªç»„ä»¶ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹æˆä¸ºç”Ÿå‘½å‘¨æœŸ</li>
<li>åœ¨æˆ‘ä»¬ä½¿ç”¨Vue3 ç»„åˆå¼API æ˜¯æ²¡æœ‰ beforeCreate å’Œ created è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸçš„</li>
</ul>
</li>
<li>onBeforeMount()<ul>
<li>åœ¨ç»„ä»¶DOMå®é™…æ¸²æŸ“å®‰è£…ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæ ¹å…ƒç´ è¿˜ä¸å­˜åœ¨</li>
</ul>
</li>
<li>onMounted()<ul>
<li>åœ¨ç»„ä»¶çš„ç¬¬ä¸€æ¬¡æ¸²æŸ“åè°ƒç”¨ï¼Œè¯¥å…ƒç´ ç°åœ¨å¯ç”¨ï¼Œå…è®¸ç›´æ¥DOMè®¿é—®</li>
</ul>
</li>
<li>onBeforeUpdate()<ul>
<li>æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰</li>
</ul>
</li>
<li>updated()<ul>
<li>DOMæ›´æ–°åï¼Œupdatedçš„æ–¹æ³•å³ä¼šè°ƒç”¨</li>
</ul>
</li>
<li>*nBeforeUnmounted()<ul>
<li>åœ¨å¸è½½ç»„ä»¶å®ä¾‹ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œå®ä¾‹ä»ç„¶æ˜¯å®Œå…¨æ­£å¸¸çš„</li>
</ul>
</li>
<li>onUnmounted()<ul>
<li>å¸è½½ç»„ä»¶å®ä¾‹åè°ƒç”¨ã€‚è°ƒç”¨æ­¤é’©å­æ—¶ï¼Œç»„ä»¶å®ä¾‹çš„æ‰€æœ‰æŒ‡ä»¤éƒ½è¢«è§£é™¤ç»‘å®šï¼Œæ‰€æœ‰äº‹ä»¶ä¾¦å¬å™¨éƒ½è¢«ç§»é™¤ï¼Œæ‰€æœ‰å­ç»„ä»¶å®ä¾‹è¢«å¸è½½</li>
</ul>
</li>
</ul>
<h4 id="å®æ“ç»„ä»¶å’Œè®¤è¯†less-å’Œ-scoped"><a href="#å®æ“ç»„ä»¶å’Œè®¤è¯†less-å’Œ-scoped" class="headerlink" title="å®æ“ç»„ä»¶å’Œè®¤è¯†less å’Œ scoped"></a>å®æ“ç»„ä»¶å’Œè®¤è¯†less å’Œ scoped</h4><ul>
<li><p>less</p>
<ul>
<li>Less ï¼ˆLeaner Style Sheets çš„ç¼©å†™ï¼‰ æ˜¯ä¸€é—¨å‘åå…¼å®¹çš„ CSS æ‰©å±•è¯­è¨€ã€‚è¿™é‡Œå‘ˆç°çš„æ˜¯ Less çš„å®˜æ–¹æ–‡æ¡£ï¼ˆä¸­æ–‡ç‰ˆï¼‰ï¼ŒåŒ…å«äº† Less è¯­è¨€ä»¥åŠåˆ©ç”¨ JavaScript å¼€å‘çš„ç”¨äºå°† Less æ ·å¼è½¬æ¢æˆ CSS æ ·å¼çš„ Less.js å·¥å…·</li>
<li>Less å’Œ CSS éå¸¸åƒï¼Œå¾ˆå®¹æ˜“å­¦ä¹ ã€‚è€Œä¸” Less ä»…å¯¹ CSS è¯­è¨€å¢åŠ äº†å°‘è®¸æ–¹ä¾¿çš„æ‰©å±•ï¼Œè¿™å°±æ˜¯ Less å¦‚æ­¤æ˜“å­¦çš„åŸå› ä¹‹ä¸€ <ul>
<li><a href="https://zhuanlan.zhihu.com/p/400573436" style="color: blue;" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£ Less å¿«é€Ÿå…¥é—¨ | Less.js ä¸­æ–‡æ–‡æ¡£ - Less ä¸­æ–‡ç½‘</a></li>
</ul>
</li>
<li>åœ¨viteä¸­ä½¿ç”¨less<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less less-loader -D // å®‰è£…å³å¯</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åœ¨styleæ ‡ç­¾æ³¨æ˜å³å¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>scoped</p>
<ul>
<li>å®ç°ç»„ä»¶çš„ç§æœ‰åŒ–, å½“å‰styleå±æ€§åªå±äºå½“å‰æ¨¡å—<ul>
<li>åœ¨DOMç»“æ„ä¸­å¯ä»¥å‘ç°,vueé€šè¿‡åœ¨DOMç»“æ„ä»¥åŠcssæ ·å¼ä¸ŠåŠ äº†å”¯ä¸€æ ‡è®°,è¾¾åˆ°æ ·å¼ç§æœ‰åŒ–,ä¸æ±¡æŸ“å…¨å±€çš„ä½œç”¨</li>
<li>æ ·å¼ç©¿é€é—®é¢˜å­¦åˆ°ç¬¬ä¸‰æ–¹ç»„ä»¶ç²¾è®² ::v-deep  &gt;&gt;&gt; /deep/</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="çˆ¶å­ç»„ä»¶ä¼ å‚"><a href="#çˆ¶å­ç»„ä»¶ä¼ å‚" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¼ å‚"></a>çˆ¶å­ç»„ä»¶ä¼ å‚</h4><ul>
<li>çˆ¶ç»„ä»¶é€šè¿‡v-bindç»‘å®šä¸€ä¸ªæ•°æ®ï¼Œç„¶åå­ç»„ä»¶é€šè¿‡definePropsæ¥å—ä¼ è¿‡æ¥çš„å€¼<ul>
<li>ä¼ é€’äº†ä¸€ä¸ªtitle å­—ç¬¦ä¸²ç±»å‹æ˜¯ä¸éœ€è¦v-bind</li>
<li>ä¼ é€’éå­—ç¬¦ä¸²ç±»å‹éœ€è¦åŠ v-bind  ç®€å†™ å†’å·</li>
</ul>
</li>
<li>å­ç»„ä»¶æ¥å—å€¼<ul>
<li>é€šè¿‡defineProps æ¥æ¥å— definePropsæ˜¯æ— é¡»å¼•å…¥çš„ç›´æ¥ä½¿ç”¨å³å¯</li>
<li>å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„TypeScriptï¼Œå¯ä»¥ä½¿ç”¨ä¼ é€’å­—é¢é‡ç±»å‹çš„çº¯ç±»å‹è¯­æ³•åšä¸ºå‚æ•°</li>
</ul>
</li>
<li>TS ç‰¹æœ‰çš„é»˜è®¤å€¼æ–¹å¼</li>
<li><p>withDefaultsæ˜¯ä¸ªå‡½æ•°ä¹Ÿæ˜¯æ— é¡»å¼•å…¥å¼€ç®±å³ç”¨æ¥å—ä¸€ä¸ªpropså‡½æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡è®¾ç½®é»˜è®¤å€¼</p>
</li>
<li><p>å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å‚</p>
<ul>
<li>æ˜¯é€šè¿‡defineEmitsæ´¾å‘ä¸€ä¸ªäº‹ä»¶<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;menu&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;clickTap&quot;&gt;æ´¾å‘ç»™çˆ¶ç»„ä»¶&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; reactive &#125; from &apos;vue&apos;</span><br><span class="line">const list = reactive&lt;number[]&gt;([4, 5, 6])</span><br><span class="line"> </span><br><span class="line">const emit = defineEmits([&apos;on-click&apos;])</span><br><span class="line">const clickTap = () =&gt; &#123;</span><br><span class="line">    emit(&apos;on-click&apos;, list)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åœ¨å­ç»„ä»¶ç»‘å®šäº†ä¸€ä¸ªclick äº‹ä»¶ ç„¶åé€šè¿‡defineEmits æ³¨å†Œäº†ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶</p>
<ul>
<li>ç‚¹å‡»click è§¦å‘ emit å»è°ƒç”¨æˆ‘ä»¬æ³¨å†Œçš„äº‹ä»¶ ç„¶åä¼ é€’å‚æ•°</li>
<li>çˆ¶ç»„ä»¶æ¥å—å­ç»„ä»¶çš„äº‹ä»¶</li>
</ul>
</li>
<li>ç»„ä»¶æš´éœ²ç»™çˆ¶ç»„ä»¶å†…éƒ¨å±æ€§<ul>
<li>é€šè¿‡defineExpose</li>
<li>çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶å®ä¾‹é€šè¿‡ref</li>
<li>çˆ¶ç»„ä»¶æƒ³è¦è¯»åˆ°å­ç»„ä»¶çš„å±æ€§å¯ä»¥é€šè¿‡ defineExposeæš´éœ²</li>
</ul>
</li>
</ul>
<h4 id="åŠ¨æ€ç»„ä»¶"><a href="#åŠ¨æ€ç»„ä»¶" class="headerlink" title="åŠ¨æ€ç»„ä»¶"></a>åŠ¨æ€ç»„ä»¶</h4><ul>
<li>è®©å¤šä¸ªç»„ä»¶ä½¿ç”¨åŒä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œå¹¶åŠ¨æ€åˆ‡æ¢ï¼Œè¿™å°±æ˜¯åŠ¨æ€ç»„ä»¶ã€‚</li>
<li><p>åœ¨æŒ‚è½½ç‚¹ä½¿ç”¨componentæ ‡ç­¾ï¼Œç„¶åä½¿ç”¨v-bind:is=â€ç»„ä»¶â€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;component :is=&quot;A&quot;&gt;&lt;/component&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨åœºæ™¯</p>
<ul>
<li>tabåˆ‡æ¢ å±…å¤š</li>
</ul>
</li>
<li>æ³¨æ„äº‹é¡¹<br>1.åœ¨Vue2 çš„æ—¶å€™is æ˜¯é€šè¿‡ç»„ä»¶åç§°åˆ‡æ¢çš„ åœ¨Vue3 setup æ˜¯é€šè¿‡ç»„ä»¶å®ä¾‹åˆ‡æ¢çš„</li>
</ul>
<p>2.å¦‚æœä½ æŠŠç»„ä»¶å®ä¾‹æ”¾åˆ°Reactive Vueä¼šç»™ä½ ä¸€ä¸ªè­¦å‘Šruntime-core.esm-bundler.js:38 [Vue warn]: Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with <code>markRaw</code> or using <code>shallowRef</code> instead of <code>ref</code>.<br>Component that was made reactive: </p>
<ul>
<li><p>è¿™æ˜¯å› ä¸ºreactive ä¼šè¿›è¡Œproxy ä»£ç† è€Œæˆ‘ä»¬ç»„ä»¶ä»£ç†ä¹‹åæ¯«æ— ç”¨å¤„ èŠ‚çœæ€§èƒ½å¼€é”€ æ¨èæˆ‘ä»¬ä½¿ç”¨shallowRef æˆ–è€…  markRaw è·³è¿‡proxy ä»£ç†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const tab = reactive&lt;Com[]&gt;([&#123;</span><br><span class="line">    name: &quot;Aç»„ä»¶&quot;,</span><br><span class="line">    comName: markRaw(A)</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &quot;Bç»„ä»¶&quot;,</span><br><span class="line">    comName: markRaw(B)</span><br><span class="line">&#125;])</span><br></pre></td></tr></table></figure>
</li>
<li><p>?.lengthçš„è¯­æ³•</p>
<ul>
<li>æŸä¸ªå¯¹è±¡ä¸‹çš„æŸä¸ªæ•°ç»„ä¸å­˜åœ¨ï¼Œè¯»å–lengthä¼šæŠ¥é”™ï¼Œå¤„ç†æ–¹å¼(æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å¹¶èµ‹å€¼ä¸ºç©ºæ•°ç»„) item.children?.length ?? []</li>
<li>null ?? [] å¾—åˆ°[],ä½†æ˜¯ 0 ?? [] å¾—åˆ° 0 false ?? [] å¾—åˆ°false</li>
</ul>
</li>
<li><p>vue2 ä¸ vue3ä½¿ç”¨æ–¹å¼åŒºåˆ«</p>
</li>
<li><component :is="current.comName"></component></li>
<li>vue3ä¸­ is å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œä¸ä¼šè¢«æ¸²æŸ“  setup ä¸ componentä¹‹é—´æ²¡æœ‰å»ºç«‹åª’ä»‹å…³ç³»</li>
<li>æ”¹å†™ä¸ºvue 2æ–¹å¼æ²¡æœ‰é—®é¢˜<pre><code>&lt;script lang=&quot;ts&quot;&gt;
export default {
components: {
  A,
}
}
&lt;/script&gt;
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/05/forå¾ªç¯å’ŒforEachçš„è¯­æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/05/forå¾ªç¯å’ŒforEachçš„è¯­æ³•/" itemprop="url">forå¾ªç¯å’ŒforEachçš„è¯­æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-05T15:20:22+08:00">
                2022-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="forå¾ªç¯å’ŒforEachçš„è¯­æ³•"><a href="#forå¾ªç¯å’ŒforEachçš„è¯­æ³•" class="headerlink" title="forå¾ªç¯å’ŒforEachçš„è¯­æ³•"></a>forå¾ªç¯å’ŒforEachçš„è¯­æ³•</h3><ul>
<li><a href="https://mp.weixin.qq.com/s/9UR22JFovfJegmhhUPMjdg" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> </li>
</ul>
<h4 id="forå¾ªç¯å’ŒforEachçš„æœ¬è´¨åŒºåˆ«"><a href="#forå¾ªç¯å’ŒforEachçš„æœ¬è´¨åŒºåˆ«" class="headerlink" title="forå¾ªç¯å’ŒforEachçš„æœ¬è´¨åŒºåˆ«"></a>forå¾ªç¯å’ŒforEachçš„æœ¬è´¨åŒºåˆ«</h4><ul>
<li>forEach æ˜¯è´Ÿè´£éå†ï¼ˆArray Set Mapï¼‰å¯è¿­ä»£å¯¹è±¡çš„ï¼Œè€Œ for å¾ªç¯æ˜¯ä¸€ç§å¾ªç¯æœºåˆ¶ï¼Œåªæ˜¯èƒ½é€šè¿‡å®ƒéå†å‡ºæ•°ç»„</li>
<li>åªè¦æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œè°ƒç”¨å†…éƒ¨çš„ Symbol.iterator éƒ½ä¼šæä¾›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¹¶æ ¹æ®è¿­ä»£å™¨è¿”å›çš„next æ–¹æ³•æ¥è®¿é—®å†…éƒ¨ï¼Œè¿™ä¹Ÿæ˜¯ forâ€¦of çš„å®ç°åŸç†</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4]  // å¯è¿­ä»£å¯¹è±¡</span><br><span class="line">let iterator = arr[Symbol.iterator]()  // è°ƒç”¨ Symbol.iterator åç”Ÿæˆäº†è¿­ä»£å™¨å¯¹è±¡</span><br><span class="line">console.log(iterator.next()); // &#123;value: 1, done: false&#125;  è®¿é—®è¿­ä»£å™¨å¯¹è±¡çš„nextæ–¹æ³•</span><br></pre></td></tr></table></figure>
<h4 id="forå¾ªç¯å’ŒforEachçš„è¯­æ³•åŒºåˆ«"><a href="#forå¾ªç¯å’ŒforEachçš„è¯­æ³•åŒºåˆ«" class="headerlink" title="forå¾ªç¯å’ŒforEachçš„è¯­æ³•åŒºåˆ«"></a>forå¾ªç¯å’ŒforEachçš„è¯­æ³•åŒºåˆ«</h4><ul>
<li>forEach çš„å‚æ•°</li>
<li><p>arr.forEach((self,index,arr) =&gt;{},this) // thisï¼š å›è°ƒå‡½æ•°ä¸­thisæŒ‡å‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4];</span><br><span class="line">let person = &#123;</span><br><span class="line">    name: &apos;xx&apos;</span><br><span class="line">&#125;;</span><br><span class="line">arr.forEach(function (self, index, arr) &#123;</span><br><span class="line">    console.log(`å½“å‰å…ƒç´ ä¸º$&#123;self&#125;ç´¢å¼•ä¸º$&#123;index&#125;,å±äºæ•°ç»„$&#123;arr&#125;`);</span><br><span class="line">    console.log(this.name+=&apos;ç¾ç¾å“’&apos;);</span><br><span class="line">&#125;, person)</span><br></pre></td></tr></table></figure>
</li>
<li><p>arr å®ç°æ•°ç»„å»é‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let arr1 = [1, 2, 1, 3, 1];</span><br><span class="line">let arr2 = [];</span><br><span class="line">arr1.forEach(function (self, index, arr) &#123;</span><br><span class="line">    arr.indexOf(self) === index ? arr2.push(self) : null;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(arr2);   // [1,2,3]</span><br></pre></td></tr></table></figure>
</li>
<li><p>forEach çš„ä¸­æ–­</p>
</li>
<li><p>jsä¸­æœ‰break return continue å¯¹å‡½æ•°è¿›è¡Œä¸­æ–­æˆ–è·³å‡ºå¾ªç¯çš„æ“ä½œ(ä¼˜åŒ–æ•°ç»„éå†æŸ¥æ‰¾),ä½†forEachå±äºè¿­ä»£å™¨ï¼Œåªèƒ½æŒ‰åºä¾æ¬¡éå†å®Œæˆï¼Œä¸æ”¯æŒä¸Šè¿°çš„ä¸­æ–­è¡Œä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4],</span><br><span class="line">    i = 0,</span><br><span class="line">    length = arr.length;</span><br><span class="line">for (; i &lt; length; i++) &#123;</span><br><span class="line">    console.log(arr[i]); //1,2</span><br><span class="line">    if (arr[i] === 2) &#123;</span><br><span class="line">        break;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">arr.forEach((self,index) =&gt; &#123;</span><br><span class="line">    console.log(self);</span><br><span class="line">    if (self === 2) &#123;</span><br><span class="line">        break; //æŠ¥é”™</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">arr.forEach((self,index) =&gt; &#123;</span><br><span class="line">    console.log(self);</span><br><span class="line">    if (self === 2) &#123;</span><br><span class="line">        continue; //æŠ¥é”™</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>forEach ä¸­è·³å‡ºå¾ªç¯å‘¢ï¼Ÿå…¶å®æ˜¯æœ‰åŠæ³•çš„ï¼Œå€ŸåŠ©try/catch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    var arr = [1, 2, 3, 4];</span><br><span class="line">    arr.forEach(function (item, index) &#123;</span><br><span class="line">        //è·³å‡ºæ¡ä»¶</span><br><span class="line">        if (item === 3) &#123;</span><br><span class="line">            throw new Error(&quot;LoopTerminates&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        //do something</span><br><span class="line">        console.log(item);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    if (e.message !== &quot;LoopTerminates&quot;) throw e;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>return å¹¶ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä¸ä¼šç”Ÿæ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4];</span><br><span class="line">function find(array, num) &#123;</span><br><span class="line">    array.forEach((self, index) =&gt; &#123;</span><br><span class="line">        if (self === num) &#123;</span><br><span class="line">            return index;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">let index = find(arr, 2);// undefined</span><br></pre></td></tr></table></figure>
</li>
<li><p>forEach åˆ é™¤è‡ªèº«å…ƒç´ ï¼Œindexä¸å¯è¢«é‡ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1,2,3,4]</span><br><span class="line">arr.forEach((item, index) =&gt; &#123;</span><br><span class="line">    console.log(item); // 1 2 3 4</span><br><span class="line">    index++;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>for å¾ªç¯å¯ä»¥æ§åˆ¶å¾ªç¯èµ·ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4],</span><br><span class="line">    i = 1,</span><br><span class="line">    length = arr.length;</span><br><span class="line"></span><br><span class="line">for (; i &lt; length; i++) &#123;</span><br><span class="line">    console.log(arr[i]) // 2 3 4</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„éå†å¹¶åˆ é™¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1, 2, 1],</span><br><span class="line">    i = 0,</span><br><span class="line">    length = arr.length;</span><br><span class="line"></span><br><span class="line">for (; i &lt; length; i++) &#123;</span><br><span class="line">    // åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰çš„1</span><br><span class="line">    if (arr[i] === 1) &#123;</span><br><span class="line">        arr.splice(i, 1);</span><br><span class="line">        //é‡ç½®iï¼Œå¦åˆ™iä¼šè·³ä¸€ä½</span><br><span class="line">        i--;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(arr); // [2]</span><br><span class="line">//ç­‰ä»·äº</span><br><span class="line">var arr1 = arr.filter(index =&gt; index !== 1);</span><br><span class="line">console.log(arr1) // [2]</span><br></pre></td></tr></table></figure>
</li>
<li><p>forå¾ªç¯å’ŒforEachçš„æ€§èƒ½åŒºåˆ«</p>
<ul>
<li>æ€§èƒ½æ¯”è¾ƒï¼šfor &gt; forEach &gt; map åœ¨chrome 62 å’Œ Node.js v9.1.0ç¯å¢ƒä¸‹ï¼šfor å¾ªç¯æ¯” forEach å¿«1å€ï¼ŒforEach æ¯” mapå¿«20%å·¦å³</li>
<li>forå¾ªç¯æ²¡æœ‰é¢å¤–çš„å‡½æ•°è°ƒç”¨æ ˆå’Œä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥å®ƒçš„å®ç°æœ€ä¸ºç®€å•</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/03/æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/03/æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼/" itemprop="url">æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-03T15:20:22+08:00">
                2022-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼"><a href="#æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼"></a>æ­£åˆ™å¸¸ç”¨è¡¨è¾¾å¼</h3><h4 id="æ•°å­—ä»·æ ¼åƒåˆ†ä½åˆ†å‰²"><a href="#æ•°å­—ä»·æ ¼åƒåˆ†ä½åˆ†å‰²" class="headerlink" title="æ•°å­—ä»·æ ¼åƒåˆ†ä½åˆ†å‰²"></a>æ•°å­—ä»·æ ¼åƒåˆ†ä½åˆ†å‰²</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function numSplit(str) &#123;</span><br><span class="line">  return str.replace(/(?!^)(?=(\d&#123;3&#125;)+$)/g, &apos;,&apos;);  // 123,456,789</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¡¥å……å°æ•°åƒåˆ†ä½æ”¯æŒ"><a href="#è¡¥å……å°æ•°åƒåˆ†ä½æ”¯æŒ" class="headerlink" title="è¡¥å……å°æ•°åƒåˆ†ä½æ”¯æŒ"></a>è¡¥å……å°æ•°åƒåˆ†ä½æ”¯æŒ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const formatNum = (numStr) =&gt; &#123;</span><br><span class="line">  const reg = new RegExp(`(?!^)(?=(\\d&#123;3&#125;)+$&#123;numStr.includes(&apos;.&apos;) ? &apos;\\.&apos; : &apos;$&apos;&#125;)`, &apos;g&apos;)</span><br><span class="line">  return numStr.replace(reg, &apos;,&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‰‹æœºå·3-4-4åˆ†å‰²"><a href="#æ‰‹æœºå·3-4-4åˆ†å‰²" class="headerlink" title="æ‰‹æœºå·3-4-4åˆ†å‰²"></a>æ‰‹æœºå·3-4-4åˆ†å‰²</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function formatMobile(mobile) &#123;</span><br><span class="line">  let mobileReg = /(?=(\d&#123;4&#125;)+$)/g;</span><br><span class="line">  return mobile.replace(mobileReg, &apos;-&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å°†å­—ç¬¦ä¸²é¦–å­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œå‰©ä¸‹ä¸ºå°å†™"><a href="#å°†å­—ç¬¦ä¸²é¦–å­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œå‰©ä¸‹ä¸ºå°å†™" class="headerlink" title="å°†å­—ç¬¦ä¸²é¦–å­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œå‰©ä¸‹ä¸ºå°å†™"></a>å°†å­—ç¬¦ä¸²é¦–å­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œå‰©ä¸‹ä¸ºå°å†™</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const capitalize = (string) =&gt; &#123;</span><br><span class="line">  const capitalizeRegex = /(?:^|\s+)\w/g</span><br><span class="line">  return string.toLowerCase().replace(capitalizeRegex, (match) =&gt; match.toUpperCase())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å°†å­—ç¬¦ä¸²é©¼å³°åŒ–"><a href="#å°†å­—ç¬¦ä¸²é©¼å³°åŒ–" class="headerlink" title="å°†å­—ç¬¦ä¸²é©¼å³°åŒ–"></a>å°†å­—ç¬¦ä¸²é©¼å³°åŒ–</h4><ol>
<li>foo Bar =&gt; fooBar</li>
<li>foo-barâ€”- =&gt; fooBar</li>
<li>foo_bar__ =&gt; fooBar<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const camelCase = (string) =&gt; &#123;</span><br><span class="line">  const camelCaseRegex = /[-_\s]+(.)?/g</span><br><span class="line">  return string.replace(camelCaseRegex, (match, char) =&gt; &#123;</span><br><span class="line">    return char ? char.toUpperCase() : &apos;&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="å®ç°ä¸€ä¸ªtrimå‡½æ•°"><a href="#å®ç°ä¸€ä¸ªtrimå‡½æ•°" class="headerlink" title="å®ç°ä¸€ä¸ªtrimå‡½æ•°"></a>å®ç°ä¸€ä¸ªtrimå‡½æ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// å»é™¤ç©ºæ ¼æ³•</span><br><span class="line">const trim = (str) =&gt; &#123;</span><br><span class="line">  return str.replace(/^\s*|\s*$/g, &apos;&apos;)    </span><br><span class="line">&#125;</span><br><span class="line">// æå–éç©ºæ ¼æ³•</span><br><span class="line">const trim = (str) =&gt; &#123;</span><br><span class="line">  return str.replace(/^\s*(.*?)\s*$/g, &apos;$1&apos;)    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¡¨å•éªŒè¯å¸¸ç”¨æ­£åˆ™"><a href="#è¡¨å•éªŒè¯å¸¸ç”¨æ­£åˆ™" class="headerlink" title="è¡¨å•éªŒè¯å¸¸ç”¨æ­£åˆ™"></a>è¡¨å•éªŒè¯å¸¸ç”¨æ­£åˆ™</h3><ul>
<li><p>ç”¨æˆ·åæ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//ç”¨æˆ·åæ­£åˆ™ï¼Œ4åˆ°16ä½ï¼ˆå­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·ï¼‰</span><br><span class="line">var uPattern = /^[a-zA-Z0-9_-]&#123;4,16&#125;$/;</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(uPattern.test(&quot;caibaojian&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯†ç å¼ºåº¦æ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//å¯†ç å¼ºåº¦æ­£åˆ™ï¼Œæœ€å°‘6ä½ï¼ŒåŒ…æ‹¬è‡³å°‘1ä¸ªå¤§å†™å­—æ¯ï¼Œ1ä¸ªå°å†™å­—æ¯ï¼Œ1ä¸ªæ•°å­—ï¼Œ1ä¸ªç‰¹æ®Šå­—ç¬¦</span><br><span class="line">var pPattern = /^.*(?=.&#123;6,&#125;)(?=.*d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&amp;*? ]).*$/;</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(&quot;==&quot;+pPattern.test(&quot;caibaojian#&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•´æ•°æ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//æ­£æ•´æ•°æ­£åˆ™</span><br><span class="line">var posPattern = /^d+$/;</span><br><span class="line">//è´Ÿæ•´æ•°æ­£åˆ™</span><br><span class="line">var negPattern = /^-d+$/;</span><br><span class="line">//æ•´æ•°æ­£åˆ™</span><br><span class="line">var intPattern = /^-?d+$/;</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(posPattern.test(&quot;42&quot;));</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(negPattern.test(&quot;-42&quot;));</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(intPattern.test(&quot;-42&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°å­—æ­£åˆ™(å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//æ­£æ•°æ­£åˆ™</span><br><span class="line">var posPattern = /^d*.?d+$/;</span><br><span class="line">//è´Ÿæ•°æ­£åˆ™</span><br><span class="line">var negPattern = /^-d*.?d+$/;</span><br><span class="line">//æ•°å­—æ­£åˆ™</span><br><span class="line">var numPattern = /^-?d*.?d+$/;</span><br><span class="line">console.log(posPattern.test(&quot;42.2&quot;));</span><br><span class="line">console.log(negPattern.test(&quot;-42.2&quot;));</span><br><span class="line">console.log(numPattern.test(&quot;-42.2&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>Emailæ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var ePattern = /^([A-Za-z0-9_-.])+@([A-Za-z0-9_-.])+.([A-Za-z]&#123;2,4&#125;)$/;</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(ePattern.test(&quot;99154507@qq.com&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰‹æœºå·æ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var mPattern = /^1[34578]d&#123;9&#125;$/;</span><br><span class="line">//è¾“å‡º true</span><br><span class="line">console.log(mPattern.test(&quot;15507621888&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://mp.weixin.qq.com/s/H1lrKM9x1ZaMxwU2r3xaCw" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> </p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/03/è¾¹æ¡†å›¾ç‰‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/03/è¾¹æ¡†å›¾ç‰‡/" itemprop="url">æ•°æ®å¯è§†åŒ–é¡¹ç›®å¼€å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-03T15:12:53+08:00">
                2022-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ•°æ®å¯è§†åŒ–é¡¹ç›®å¼€å‘"><a href="#æ•°æ®å¯è§†åŒ–é¡¹ç›®å¼€å‘" class="headerlink" title="æ•°æ®å¯è§†åŒ–é¡¹ç›®å¼€å‘"></a>æ•°æ®å¯è§†åŒ–é¡¹ç›®å¼€å‘</h3><ul>
<li><a href="https://www.bilibili.com/video/BV1Sy4y1C7ha?p=467" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> <h3 id="è¾¹æ¡†å›¾ç‰‡"><a href="#è¾¹æ¡†å›¾ç‰‡" class="headerlink" title="è¾¹æ¡†å›¾ç‰‡"></a>è¾¹æ¡†å›¾ç‰‡</h3><h4 id="è¾¹æ¡†å›¾ç‰‡ä½¿ç”¨åœºæ™¯"><a href="#è¾¹æ¡†å›¾ç‰‡ä½¿ç”¨åœºæ™¯" class="headerlink" title="è¾¹æ¡†å›¾ç‰‡ä½¿ç”¨åœºæ™¯"></a>è¾¹æ¡†å›¾ç‰‡ä½¿ç”¨åœºæ™¯</h4></li>
<li>ç›’å­çš„å¤§å°ä¸ä¸€ï¼Œè¾¹æ¡†æ ·å¼ç›¸åŒ</li>
<li>border-image</li>
</ul>
<h4 id="è¾¹æ¡†å›¾ç‰‡çš„åˆ‡å›¾åŸç†ï¼ˆé‡è¦ï¼‰"><a href="#è¾¹æ¡†å›¾ç‰‡çš„åˆ‡å›¾åŸç†ï¼ˆé‡è¦ï¼‰" class="headerlink" title="è¾¹æ¡†å›¾ç‰‡çš„åˆ‡å›¾åŸç†ï¼ˆé‡è¦ï¼‰"></a>è¾¹æ¡†å›¾ç‰‡çš„åˆ‡å›¾åŸç†ï¼ˆé‡è¦ï¼‰</h4><ul>
<li>æŠŠå››ä¸ªè§’åˆ‡å‡ºå»ï¼ˆä¹å®«æ ¼çš„ç”±æ¥-å››ä¸ªè§’ã€å››æ¡è¾¹ã€ä¸­é—´éƒ¨åˆ†ï¼‰ï¼Œä¸­é—´éƒ¨åˆ†å¯ä»¥é“ºæ’ã€æ‹‰ä¼¸æˆ–è€…ç¯ç»•</li>
<li>æŒ‰ç…§ä¸Šå³ä¸‹å·¦é¡ºåºåˆ‡å‰²ï¼ˆä¿è¯å››ä¸ªè§’çš„å®Œæ•´æ€§ï¼‰</li>
</ul>
<h4 id="è¾¹æ¡†å›¾ç‰‡çš„ä½¿ç”¨è¯­æ³•"><a href="#è¾¹æ¡†å›¾ç‰‡çš„ä½¿ç”¨è¯­æ³•" class="headerlink" title="è¾¹æ¡†å›¾ç‰‡çš„ä½¿ç”¨è¯­æ³•"></a>è¾¹æ¡†å›¾ç‰‡çš„ä½¿ç”¨è¯­æ³•</h4><ul>
<li>border-image-source è¾¹æ¡†å›¾ç‰‡çš„è·¯å¾„</li>
<li>border-image-slice æŒ‡å®šå›¾åƒçš„è¾¹ç•Œå‘å†…åç§»ï¼ˆè£å‰ªçš„å°ºå¯¸ï¼Œä¸€å®šä¸è¦åŠ å•ä½ï¼Œä¸Šå³ä¸‹å·¦é¡ºåºï¼‰</li>
<li>border-image-width å›¾ç‰‡è¾¹æ¡†çš„å®½åº¦ï¼ˆéœ€è¦åŠ å•ä½ï¼‰ä¸å›æŒ¤å‹æ–‡å­—ï¼ˆä¸æ˜¯è¾¹æ¡†çš„å®½åº¦æ˜¯è¾¹æ¡†å›¾ç‰‡çš„å®½åº¦ï¼‰é»˜è®¤æ˜¯boderå®½åº¦ï¼Œ</li>
<li>border-image-repeat äºå›¾åƒè¾¹ç•Œæ˜¯å¦åº”é‡å¤ï¼ˆrepeatï¼‰ã€æ‹‰ä¼¸ï¼ˆstretchï¼‰æˆ–é“ºæ»¡ï¼ˆroundï¼‰é»˜è®¤æ‹‰ä¼¸<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;inner&quot;&gt;aaaa&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">.panel &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: 300rpx;</span><br><span class="line">  height: 200rpx;</span><br><span class="line">  border: 20rpx solid pink;</span><br><span class="line">  border-width: 51rpx 38rpx 20rpx 132rpx;</span><br><span class="line">  border-image-source: url(&apos;../../../static/icon/bd.png&apos;);</span><br><span class="line">  border-image-slice: 51 38 20 132;</span><br><span class="line">  .inner &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="æ— ç¼æ»šåŠ¨"><a href="#æ— ç¼æ»šåŠ¨" class="headerlink" title="æ— ç¼æ»šåŠ¨"></a>æ— ç¼æ»šåŠ¨</h3><h4 id="æ— ç¼æ»šåŠ¨åŸç†"><a href="#æ— ç¼æ»šåŠ¨åŸç†" class="headerlink" title="æ— ç¼æ»šåŠ¨åŸç†"></a>æ— ç¼æ»šåŠ¨åŸç†</h4><ul>
<li><p>å…ˆå…‹éš†marqueeé‡Œé¢æ‰€æœ‰çš„è¡Œï¼ˆrowï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.marquee-view .marquee&apos;).each(function () &#123;</span><br><span class="line">  let rows = $(this).children().clone();</span><br><span class="line">  $(this).append(rows);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡CSS3åŠ¨ç”»æ»šåŠ¨marquee</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.marquee-view .marquee &#123;</span><br><span class="line">  animation: move 15s linear infinite;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes move &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    transform: translateY(-50%);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¼ æ ‡ç»è¿‡marqueeå°±åœæ­¢åŠ¨ç”»å•Š</p>
<ul>
<li>animation-play-state: running | paused (æŒ‡å®šåŠ¨ç”»æ˜¯å¦æ­£åœ¨è¿è¡Œæˆ–å·²æš‚åœ)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.marquee-view .marquee:hover &#123;</span><br><span class="line">  animation-play-state: paused;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/02/ä½¿ç”¨ç§‹äº‘-ucharts-echartsè¸©å‘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/02/ä½¿ç”¨ç§‹äº‘-ucharts-echartsè¸©å‘/" itemprop="url">ä½¿ç”¨ç§‹äº‘ ucharts echartsè¸©å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-02T11:07:10+08:00">
                2022-03-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶ã€uniapp/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶ã€uniapp</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="uniappä½¿ç”¨ç§‹äº‘-ucharts-echarts-é«˜æ€§èƒ½è·¨å…¨ç«¯å›¾è¡¨ç»„ä»¶"><a href="#uniappä½¿ç”¨ç§‹äº‘-ucharts-echarts-é«˜æ€§èƒ½è·¨å…¨ç«¯å›¾è¡¨ç»„ä»¶" class="headerlink" title="uniappä½¿ç”¨ç§‹äº‘ ucharts echarts é«˜æ€§èƒ½è·¨å…¨ç«¯å›¾è¡¨ç»„ä»¶"></a>uniappä½¿ç”¨ç§‹äº‘ ucharts echarts é«˜æ€§èƒ½è·¨å…¨ç«¯å›¾è¡¨ç»„ä»¶</h3><ul>
<li><a href="https://ext.dcloud.net.cn/plugin?id=271" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> </li>
<li>ä¾èµ–uniappçš„vue-clié¡¹ç›®ï¼šè¯·å°†uni-modulesç›®å½•å¤åˆ¶åˆ°srcç›®å½•ï¼Œå³src/uni_modulesã€‚ï¼ˆè¯·å‡çº§uniappä¾èµ–ä¸ºæœ€æ–°ç‰ˆæœ¬ï¼‰</li>
</ul>
<h4 id="è‡ªå®šä¹‰echartså‚æ•°"><a href="#è‡ªå®šä¹‰echartså‚æ•°" class="headerlink" title="è‡ªå®šä¹‰echartså‚æ•°"></a>è‡ªå®šä¹‰echartså‚æ•°</h4><ul>
<li>ä½¿ç”¨eopts ä½†å‚æ•°ä¸èƒ½åŒ…å«å‡½æ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;qiun-data-charts</span><br><span class="line">  :style=&quot;&#123; height: height, width: width &#125;&quot;</span><br><span class="line">  type=&quot;area&quot;</span><br><span class="line">  ref=&quot;pieChart&quot;</span><br><span class="line">  :eopts=&quot;lineEopts&quot;</span><br><span class="line">  :opts=&quot;&#123;yAxis:&#123;data:[&#123;min:0&#125;]&#125;,extra:&#123;area:&#123;type:&apos;curve&apos;,addLine:true,gradient:true&#125;&#125;&#125;&quot;</span><br><span class="line">  :chartData=&quot;chartData&quot; </span><br><span class="line">  :echartsH5=&quot;true&quot; </span><br><span class="line">  :echartsApp=&quot;true&quot;</span><br><span class="line">  tooltipFormat=&quot;lineTooltip&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰tooltipFormatæ ¼å¼"><a href="#è‡ªå®šä¹‰tooltipFormatæ ¼å¼" class="headerlink" title="è‡ªå®šä¹‰tooltipFormatæ ¼å¼"></a>è‡ªå®šä¹‰tooltipFormatæ ¼å¼</h4><ul>
<li>åœ¨é…ç½®æ–‡ä»¶config-echarts.jsé‡Œé¢å®šä¹‰å¯¹åº”çš„formatter å‡½æ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;qiun-data-charts</span><br><span class="line">  :style=&quot;&#123; height: height, width: width &#125;&quot;</span><br><span class="line">  type=&quot;area&quot;</span><br><span class="line">  ref=&quot;pieChart&quot;</span><br><span class="line">  :eopts=&quot;lineEopts&quot;</span><br><span class="line">  :opts=&quot;&#123;yAxis:&#123;data:[&#123;min:0&#125;]&#125;,extra:&#123;area:&#123;type:&apos;curve&apos;,addLine:true,gradient:true&#125;&#125;&#125;&quot;</span><br><span class="line">  :chartData=&quot;chartData&quot; </span><br><span class="line">  :echartsH5=&quot;true&quot; </span><br><span class="line">  :echartsApp=&quot;true&quot;</span><br><span class="line">  tooltipFormat=&quot;lineTooltip&quot;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line">// tooltipæ’åº</span><br><span class="line">function compare(property) &#123;</span><br><span class="line">  return (arr, arr2) =&gt; &#123;</span><br><span class="line">    let a = arr[property];</span><br><span class="line">    let b = arr2[property];</span><br><span class="line">    return b - a;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const cfe = &#123;</span><br><span class="line">  &quot;formatter&quot;:&#123;</span><br><span class="line">    lineTooltip: (res) =&gt; &#123;</span><br><span class="line">      let result = &apos;&apos;;</span><br><span class="line">      let _res = res.sort(compare(&quot;value&quot;));</span><br><span class="line">      for (let i in _res) &#123;</span><br><span class="line">        if (i == 0) &#123;</span><br><span class="line">          result += res[i].axisValueLabel</span><br><span class="line">        &#125;</span><br><span class="line">        let value = &apos;--&apos;</span><br><span class="line">        if (_res[i].data !== null) &#123;</span><br><span class="line">          value = _res[i].data;</span><br><span class="line">        &#125;</span><br><span class="line">        // #ifdef H5</span><br><span class="line">        result += &apos;\n&apos; + _res[i].seriesName + &apos;ï¼š&apos; + value;</span><br><span class="line">        // #endif</span><br><span class="line">        </span><br><span class="line">        // #ifdef APP-PLUS</span><br><span class="line">        result += &apos;&lt;br/&gt;&apos; + _res[i].marker + _res[i].seriesName + &apos;ï¼š&apos; + value;</span><br><span class="line">        // #endif</span><br><span class="line">      &#125;</span><br><span class="line">      return result;</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="åŒºåŸŸå›¾è®¾ç½®æ¸å˜-è‡ªå®šä¹‰é¢œè‰²colorã€graphicColor"><a href="#åŒºåŸŸå›¾è®¾ç½®æ¸å˜-è‡ªå®šä¹‰é¢œè‰²colorã€graphicColor" class="headerlink" title="åŒºåŸŸå›¾è®¾ç½®æ¸å˜,è‡ªå®šä¹‰é¢œè‰²colorã€graphicColor"></a>åŒºåŸŸå›¾è®¾ç½®æ¸å˜,è‡ªå®šä¹‰é¢œè‰²colorã€graphicColor</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">initColor() &#123;</span><br><span class="line">  this.colorList = this.color.map((item, index) =&gt; &#123;</span><br><span class="line">    return  &#123;</span><br><span class="line">      color: item,</span><br><span class="line">      areaStyle: &#123;</span><br><span class="line">        color: &#123;</span><br><span class="line">          type: &apos;linear&apos;,</span><br><span class="line">          x: 0,</span><br><span class="line">          y: 0,</span><br><span class="line">          x2: 0,</span><br><span class="line">          y2: 1,</span><br><span class="line">          colorStops: [&#123;</span><br><span class="line">            offset: 0,</span><br><span class="line">            color: this.graphicColor[index] // 0% å¤„çš„é¢œè‰²</span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            offset: 0.4,</span><br><span class="line">            color: this.graphicColor[index] // 100% å¤„çš„é¢œè‰²</span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            offset: 1,</span><br><span class="line">            color: &quot;#ffffff&quot;,</span><br><span class="line">          &#125;],</span><br><span class="line">          global: false // ç¼ºçœä¸º false</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="tabåˆ‡æ¢æ•°æ®åˆå¹¶é—®é¢˜ï¼Œè®¾ç½®eoptså‚æ•°"><a href="#tabåˆ‡æ¢æ•°æ®åˆå¹¶é—®é¢˜ï¼Œè®¾ç½®eoptså‚æ•°" class="headerlink" title="tabåˆ‡æ¢æ•°æ®åˆå¹¶é—®é¢˜ï¼Œè®¾ç½®eoptså‚æ•°"></a>tabåˆ‡æ¢æ•°æ®åˆå¹¶é—®é¢˜ï¼Œè®¾ç½®eoptså‚æ•°</h4><ul>
<li>eoptsä¸èƒ½ä¼ é€’functionï¼Œå¦‚æœoptioné…ç½®å‚æ•°éœ€è¦functionï¼Œè¯·å°†optionå†™åœ¨config-echarts.jsä¸­å³å¯å®ç°ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lineEopts: &#123;</span><br><span class="line">   notMerge: true, // æ˜¯å¦ä¸è·Ÿä¹‹å‰è®¾ç½®çš„ option è¿›è¡Œåˆå¹¶ã€‚é»˜è®¤ä¸ºfalseã€‚å³è¡¨ç¤ºåˆå¹¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/03/01/ä½¿ç”¨mescroll-uniè¸©å‘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/03/01/ä½¿ç”¨mescroll-uniè¸©å‘/" itemprop="url">ä½¿ç”¨mescroll-uniè¸©å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-03-01T10:49:08+08:00">
                2022-03-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶ã€uniapp/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶ã€uniapp</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="uniappä½¿ç”¨mescroll-uni"><a href="#uniappä½¿ç”¨mescroll-uni" class="headerlink" title="uniappä½¿ç”¨mescroll-uni"></a>uniappä½¿ç”¨mescroll-uni</h3><ul>
<li><a href="http://www.mescroll.com/uni.html#options" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> <h4 id="tabsåˆ‡æ¢å…¬ç”¨mescroll-uni"><a href="#tabsåˆ‡æ¢å…¬ç”¨mescroll-uni" class="headerlink" title="tabsåˆ‡æ¢å…¬ç”¨mescroll-uni"></a>tabsåˆ‡æ¢å…¬ç”¨mescroll-uni</h4></li>
<li><p>åˆå§‹åŒ–ç¬¬ä¸€æ¬¡å®šä¹‰ä¸æ‰§è¡Œä¸Šæ‹‰åˆ·æ–°ã€ä¸‹æ‹‰åŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">downOption: &#123;</span><br><span class="line">  auto: false, // é»˜è®¤ç¬¬ä¸€æ¬¡ä¸åŠ è½½</span><br><span class="line">&#125;,</span><br><span class="line">upOption: &#123;</span><br><span class="line">  auto: false,</span><br><span class="line">  page: &#123;</span><br><span class="line">    num: 0, //å½“å‰é¡µ é»˜è®¤0,å›è°ƒä¹‹å‰ä¼šåŠ 1; å³callback(page)ä¼šä»1å¼€å§‹ï¼Œ è¿™é‡Œå®šä¹‰å¿…é¡»æ˜¯0ï¼Œä¸ç„¶åˆ‡æ¢tabé‡ç½®this.mescroll.resetUpScroll() ä¹‹åï¼Œä»ç¬¬äºŒé¡µå¼€å§‹æ‰§è¡Œ</span><br><span class="line">    size: 10,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ‡æ¢tabåˆå§‹åŒ–æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tabChage(item) &#123;</span><br><span class="line">  // é‡ç½®ä¸‹æ‹‰åˆ·æ–°</span><br><span class="line">  if (this.mescroll) &#123;</span><br><span class="line">    this.mescroll.scrollTo(0, 300);</span><br><span class="line">  &#125;</span><br><span class="line">  // é‡ç½®åˆ—è¡¨ä¸ºç¬¬ä¸€é¡µ (è‡ªåŠ¨æ‰§è¡Œ page.num=1, å†è§¦å‘upCallbackæ–¹æ³• )</span><br><span class="line">  this.mescroll.resetUpScroll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ‡æ¢tabåŒ…è£¹äº†é™¤åˆ—è¡¨ä¹‹å¤–çš„å…¶ä½™éƒ¨åˆ†ï¼ˆä¸éœ€è¦é‡æ–°æ¸²æŸ“ï¼‰ä½†å¯ä»¥æ»‘åŠ¨ï¼Œé…åˆv-ifå®ç°ï¼ŒåŠåŠ¨æ€é«˜åº¦</p>
</li>
<li>topè®¾ç½®è·ç¦»é¡¶éƒ¨é«˜åº¦<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;view</span><br><span class="line">  :style=&quot;&#123; height: &apos;calc(100vh&apos; + -550 + &apos;rpx)&apos; &#125;&quot;</span><br><span class="line">  v-if=&quot;listData.length || pieChart&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &lt;mescroll-uni</span><br><span class="line">    ref=&quot;mescrollRef&quot;</span><br><span class="line">    top=&quot;185&quot;</span><br><span class="line">    @init=&quot;mescrollInit&quot;</span><br><span class="line">    @down=&quot;downCallback&quot;</span><br><span class="line">    :up=&quot;upOption&quot;</span><br><span class="line">    :down=&quot;downOption&quot;</span><br><span class="line">    @up=&quot;upCallback&quot;</span><br><span class="line">  &gt;</span><br><span class="line">  &lt;/mescroll-uni&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/01/26/echartsæ±‡æ€»/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/01/26/echartsæ±‡æ€»/" itemprop="url">echartsæ±‡æ€»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-01-26T11:43:35+08:00">
                2022-01-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¡†æ¶</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="echartsæ±‡æ€»"><a href="#echartsæ±‡æ€»" class="headerlink" title="echartsæ±‡æ€»"></a>echartsæ±‡æ€»</h3><ul>
<li><a href="https://echarts.apache.org/zh/index.html" style="color: blue;" target="_blank" rel="noopener">To Learn More</a> <h4 id="setOption"><a href="#setOption" class="headerlink" title="setOption"></a>setOption</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// main.js</span><br><span class="line">import * as echarts from &apos;echarts&apos;</span><br><span class="line">Vue.prototype.$echarts = echarts</span><br><span class="line">* echarts setOptionç¬¬äºŒä¸ªå‚æ•°çš„å«ä¹‰</span><br><span class="line">chart.setOption(option, notMerge, lazyUpdate)</span><br><span class="line">* notMerge å¯é€‰ï¼Œæ˜¯å¦ä¸è·Ÿä¹‹å‰è®¾ç½®çš„ option è¿›è¡Œåˆå¹¶ï¼Œé»˜è®¤ä¸º falseï¼Œå³åˆå¹¶</span><br><span class="line"></span><br><span class="line">myChart.setOption(&#123;...&#125;,true)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="ECharts-é»˜è®¤loading"><a href="#ECharts-é»˜è®¤loading" class="headerlink" title="ECharts é»˜è®¤loading"></a>ECharts é»˜è®¤loading</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">initChart() &#123;</span><br><span class="line">  this.chart = this.$echarts.init(this.$el);</span><br><span class="line">  this.chart.showLoading(&#123;</span><br><span class="line">    text: &apos;loading...&apos;,</span><br><span class="line">    color: &apos;#1376fe&apos;,</span><br><span class="line">    textColor: &apos;#1376fe&apos;,</span><br><span class="line">    // maskColor: &apos;rgba(0, 0, 0, 0.8)&apos;,</span><br><span class="line">    zlevel: 0,</span><br><span class="line">  &#125;);</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    this.chart.hideLoading();</span><br><span class="line">    this.setOptions(this.chartData);</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="resize"><a href="#resize" class="headerlink" title="resize"></a>resize</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* æ¯ä¸ªå­ç»„ä»¶å›¾è¡¨é‡æ–°åˆå§‹åŒ–ä¸€æ¬¡ï¼Œåªéœ€è¦åœ¨initä¸­åŠ å…¥this.echart.resize</span><br><span class="line">this.echart.resize()</span><br></pre></td></tr></table></figure>
<h4 id="echartsè®¾ç½®ä¹‹stackå‚æ•°"><a href="#echartsè®¾ç½®ä¹‹stackå‚æ•°" class="headerlink" title="echartsè®¾ç½®ä¹‹stackå‚æ•°"></a>echartsè®¾ç½®ä¹‹stackå‚æ•°</h4><ul>
<li>stackâ€”æ•°æ®å †å ï¼ŒåŒä¸ªç±»ç›®è½´ä¸Šç³»åˆ—é…ç½®ç›¸åŒçš„stackå€¼åï¼Œåä¸€ä¸ªç³»åˆ—çš„å€¼ä¼šåœ¨å‰ä¸€ä¸ªç³»åˆ—çš„å€¼ä¸Šç›¸åŠ </li>
<li>è§£å†³æ–¹æ³•æ˜¯ï¼Œstackå»æ‰ï¼Œæˆ–è€…stackç»™ä¸åŒçš„å€¼<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">series: [&#123;</span><br><span class="line"> stack: &apos;total&apos;,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="echartsæ¡ˆä¾‹å¤§å…¨"><a href="#echartsæ¡ˆä¾‹å¤§å…¨" class="headerlink" title="echartsæ¡ˆä¾‹å¤§å…¨"></a>echartsæ¡ˆä¾‹å¤§å…¨</h4><ul>
<li>å¼ºå¤§ç¤¾åŒºMake A Pieå±•ç¤ºå„ç±»çš„EChartsæ¡ˆä¾‹è¢«å…³é—­</li>
<li>æ–°çš„èµ„æºåº“<ul>
<li><a href="http://192.144.199.210/forum.php?mod=forumdisplay&amp;fid=2" target="_blank" rel="noopener">http://192.144.199.210/forum.php?mod=forumdisplay&amp;fid=2</a></li>
<li><a href="http://analysis.datains.cn/finance-admin/#/chartLib/all" target="_blank" rel="noopener">http://analysis.datains.cn/finance-admin/#/chartLib/all</a></li>
<li><a href="http://ppchart.com/#/" target="_blank" rel="noopener">http://ppchart.com/#/</a></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/01/26/jsæœ€è¿‘æ—¥æœŸè·å–æ±‡æ€»/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/01/26/jsæœ€è¿‘æ—¥æœŸè·å–æ±‡æ€»/" itemprop="url">jsæœ€è¿‘æ—¥æœŸè·å–æ±‡æ€»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2022-01-26T11:18:21+08:00">
                2022-01-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å¸¸ç”¨æ—¥æœŸæ±‡æ€»"><a href="#å¸¸ç”¨æ—¥æœŸæ±‡æ€»" class="headerlink" title="å¸¸ç”¨æ—¥æœŸæ±‡æ€»"></a>å¸¸ç”¨æ—¥æœŸæ±‡æ€»</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* è·å–è¿‘åŠå¹´æ—¥æœŸ</span><br><span class="line">function halfYear() &#123;</span><br><span class="line">  // å…ˆè·å–å½“å‰æ—¶é—´</span><br><span class="line">  let curDate = (new Date()).getTime();</span><br><span class="line">  // å°†åŠå¹´çš„æ—¶é—´å•ä½æ¢ç®—æˆæ¯«ç§’</span><br><span class="line">  let halfYear = 365 / 2 * 24 * 3600 * 1000;</span><br><span class="line">  // åŠå¹´å‰çš„æ—¶é—´ï¼ˆæ¯«ç§’å•ä½ï¼‰</span><br><span class="line">  let pastResult = curDate - halfYear;</span><br><span class="line">  // æ—¥æœŸå‡½æ•°ï¼Œå®šä¹‰èµ·ç‚¹ä¸ºåŠå¹´å‰</span><br><span class="line">  let pastDate = new Date(pastResult);</span><br><span class="line">  let pastYear = pastDate.getFullYear();</span><br><span class="line">  let pastMonth = pastDate.getMonth() + 1;</span><br><span class="line">  pastMonth = pastMonth.toString().padStart(2, 0);</span><br><span class="line">  let pastDay = pastDate.getDate().toString().padStart(2, 0);</span><br><span class="line">  let endDate = pastYear + &apos;-&apos; + pastMonth + &apos;-&apos; + pastDay;</span><br><span class="line">  return endDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* è·å–è¿‘ä¸€å¹´æ—¥æœŸ</span><br><span class="line">function reactYear() &#123;</span><br><span class="line">  let nowDate = new Date();</span><br><span class="line">  let dates = new Date(nowDate);</span><br><span class="line">  dates.setDate(dates.getDate() - 365);</span><br><span class="line">  let year = dates.getFullYear();</span><br><span class="line">  let month = dates.getMonth() + 1;</span><br><span class="line">  month = month.toString().padStart(2, 0);</span><br><span class="line">  let strDate = dates.getDate().toString().padStart(2, 0);</span><br><span class="line">  let currentDate = year + &apos;-&apos; + month + &apos;-&apos; + strDate;</span><br><span class="line">  return currentDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* è·å–å½“å‰æ—¥æœŸ</span><br><span class="line">function getCurDate(type) &#123;</span><br><span class="line">  const date = new Date();</span><br><span class="line">  // date.setTime(date.getTime() + 24 * 60 * 60 * 1000);</span><br><span class="line">  date.setTime(date.getTime());</span><br><span class="line">  let year = date.getFullYear()</span><br><span class="line">  let month = date.getMonth() + 1</span><br><span class="line">  month = month.toString().padStart(2, 0);</span><br><span class="line">  let strDate = date.getDate().toString().padStart(2, 0);</span><br><span class="line">  let hour = date.getHours().toString().padStart(2, 0);</span><br><span class="line">  let minutes = date.getMinutes().toString().padStart(2, 0);</span><br><span class="line">  let seconds = date.getSeconds().toString().padStart(2, 0);</span><br><span class="line">  let curDate = year + &apos;-&apos; + month + &apos;-&apos; + strDate;</span><br><span class="line">  if(type) &#123;</span><br><span class="line">    return `$&#123;year&#125;-$&#123;month&#125;-$&#123;strDate&#125; $&#123;hour&#125;:$&#123;minutes&#125;:$&#123;seconds&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line">  return curDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* æœ€è¿‘ä¸‰æœˆ</span><br><span class="line">function beforeThree() &#123;</span><br><span class="line">  const dates = new Date()</span><br><span class="line">  dates.setMonth(dates.getMonth() - 3);</span><br><span class="line">  let pastMonth = dates.getMonth() + 1;</span><br><span class="line">  let pastDay = dates.getDate();</span><br><span class="line">  pastMonth = pastMonth.toString().padStart(2, 0);</span><br><span class="line">  pastDay = pastDay.toString().padStart(2, 0);</span><br><span class="line">  const endDate = dates.getFullYear() + &apos;-&apos; + pastMonth + &apos;-&apos; + pastDay;</span><br><span class="line">  return endDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* æœ€è¿‘ä¸€æœˆ</span><br><span class="line">function oneMonth() &#123;</span><br><span class="line">  const dates = new Date();</span><br><span class="line">  dates.setMonth(dates.getMonth() - 1);</span><br><span class="line">  let pastMonth = dates.getMonth() + 1;</span><br><span class="line">  let pastDay = dates.getDate();</span><br><span class="line">  pastMonth = pastMonth.toString().padStart(2, 0);</span><br><span class="line">  pastDay = pastDay.toString().padStart(2, 0);</span><br><span class="line">  const endDate = dates.getFullYear() + &apos;-&apos; + pastMonth + &apos;-&apos; + pastDay;</span><br><span class="line">  return endDate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* æŸå¹´æŸæœˆæœ€åä¸€å¤©</span><br><span class="line">function getLastDay(year, month) &#123;</span><br><span class="line">  //è·å–æœ¬å¹´æœ¬æœˆçš„ç¬¬ä¸€å¤©æ—¥æœŸ</span><br><span class="line">  var date = new Date(year,month+1,&apos;01&apos;);</span><br><span class="line">  //è®¾ç½®æ—¥æœŸ</span><br><span class="line">  date.setDate(1);</span><br><span class="line">  //è®¾ç½®æœˆä»½</span><br><span class="line">  date.setMonth(date.getMonth());</span><br><span class="line">  //è·å–æœ¬æœˆçš„æœ€åä¸€å¤©</span><br><span class="line">  let cdate = new Date(date.getTime() - 1000*60*60*24);</span><br><span class="line">  //è¿”å›ç»“æœ</span><br><span class="line">  // return cdate.getDate();</span><br><span class="line">  return `$&#123;cdate.getFullYear()&#125;-$&#123;cdate.getMonth()+1&#125;-$&#123;cdate.getDate()&#125;`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* å½“æœˆ</span><br><span class="line">function getMonthStartDate() &#123;</span><br><span class="line">  const dates = new Date();</span><br><span class="line">  dates.setMonth(dates.getMonth());</span><br><span class="line">  let pastMonth = dates.getMonth() + 1;</span><br><span class="line">  pastMonth = pastMonth.toString().padStart(2, 0);</span><br><span class="line">  const endDate = dates.getFullYear() + &apos;-&apos; + pastMonth + &apos;-&apos; + &apos;01&apos;;</span><br><span class="line">  return endDate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* è·å–æŸæœˆå¤šå°‘å¤©</span><br><span class="line">const _temp = &apos;2021-06-12&apos;;</span><br><span class="line">const month = _temp.substr(_temp.lastIndexOf(&quot;-&quot;) + 1, 2);</span><br><span class="line">const year = _temp.substr(0, _temp.lastIndexOf(&quot;-&quot;));</span><br><span class="line">// console.log(1111, year, month, new Date(year, month, 0).getDate())</span><br><span class="line">// è·å–æœˆä»½å¤šå°‘å¤©</span><br><span class="line">const day = new Date(year, month, 0).getDate();</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* è·å–å½“å¹´å½“æœˆç¬¬ä¸€å¤©</span><br><span class="line">getYearStartDate() &#123;</span><br><span class="line">  const dates = new Date();</span><br><span class="line">  dates.setMonth(dates.getMonth());</span><br><span class="line">  const endDate = dates.getFullYear() + &quot;-&quot; + &quot;01&quot; + &quot;-&quot; + &quot;01&quot;;</span><br><span class="line">  return endDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// utils.js</span><br><span class="line">const globalFun =  &#123;</span><br><span class="line">  halfYear, reactYear, getCurDate, beforeThree, oneMonth,getLastDay, checkFull, getMonthStartDate,</span><br><span class="line">&#125;;</span><br><span class="line">export default globalFun;</span><br><span class="line"></span><br><span class="line">// å…¨å±€æ–¹æ³•æŒ‚è½½ main.js</span><br><span class="line">import globalFun from &quot;@/utils/utils.js&quot;;</span><br><span class="line">Object.keys(globalFun).forEach((key) =&gt; &#123;</span><br><span class="line">  Vue.prototype[key] = globalFun[key];</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/blog-avatar.jpeg" alt="yongfeng.peng">
            
              <p class="site-author-name" itemprop="name">yongfeng.peng</p>
              <p class="site-description motion-element" itemprop="description">(å¥³è‹±</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">59</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yongfeng.peng</span>

  
</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
