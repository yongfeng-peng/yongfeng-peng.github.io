<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="(女英">
<meta property="og:type" content="website">
<meta property="og:title" content="Shero.">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="Shero.">
<meta property="og:description" content="(女英">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shero.">
<meta name="twitter:description" content="(女英">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/6/">





  <title>Shero.</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas>
  <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
  <script type="text/javascript" src="/js/src/fireworks.js"></script>
  

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shero.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">生活百般滋味，你要笑着面对😊</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/03/小程序引入iconfont踩坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/03/小程序引入iconfont踩坑/" itemprop="url">小程序引入iconfont踩坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-03T16:48:26+08:00">
                2019-07-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/微信小程序/" itemprop="url" rel="index">
                    <span itemprop="name">微信小程序</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="小程序引入iconfont踩坑"><a href="#小程序引入iconfont踩坑" class="headerlink" title="小程序引入iconfont踩坑"></a>小程序引入iconfont踩坑</h4><ul>
<li>在<a href="https://www.iconfont.cn/" style="color: blue;" target="_blank" rel="noopener">阿里巴巴</a>把需要的图标加入购物车</li>
<li>添加到项目，没项目新建一个</li>
<li>下载到本地</li>
<li><p>找到iconfont.css把代码复制到小程序项目到app.wxss或者拷贝到static,通过css方式引入<strong>不想全局引用，可单独在对应wxss中使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;./static/iconfont/iconfont.wxss&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>替换iconfont.css中的@font-face为上面的生成代码</p>
</li>
<li><p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;text class=&apos;iconfont icon-jiazai&apos;&gt;&lt;/text&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>注意是iconfont不是icon</strong> 坑了我几个小时，还是踩坑太少</p>
</li>
<li><p>每次重新添加icon到项目需要<strong>重新替换</strong>@font-face为上面的生成代码，并且把新添加的图标加入iconfont.wxss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &apos;iconfont&apos;;  /* project id 1274544 */</span><br><span class="line">  src: url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.eot&apos;);</span><br><span class="line">  src: url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.eot?#iefix&apos;) format(&apos;embedded-opentype&apos;),</span><br><span class="line">  url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.woff2&apos;) format(&apos;woff2&apos;),</span><br><span class="line">  url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.woff&apos;) format(&apos;woff&apos;),</span><br><span class="line">  url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.ttf&apos;) format(&apos;truetype&apos;),</span><br><span class="line">  url(&apos;//at.alicdn.com/t/font_1274544_5eej6szwu1j.svg#iconfont&apos;) format(&apos;svg&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>看起来很简单，可自己就是犯了很多低级错误rve</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/06/webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/06/webpack/" itemprop="url">webpack</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-06T22:00:00+08:00">
                2019-05-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tool/" itemprop="url" rel="index">
                    <span itemprop="name">tool</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><h5 id="有哪些常见-loader-和-plugin，你用过哪些？"><a href="#有哪些常见-loader-和-plugin，你用过哪些？" class="headerlink" title="有哪些常见 loader 和 plugin，你用过哪些？"></a>有哪些常见 loader 和 plugin，你用过哪些？</h5><ol>
<li>loader<ul>
<li>file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件</li>
<li>url-loader：和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去</li>
<li>source-map-loader：加载额外的 Source Map 文件，以方便断点调试</li>
<li>image-loader：加载并且压缩图片文件</li>
<li>babel-loader：把 ES6 转换成 ES5</li>
<li>css-loader：加载 CSS，支持模块化、压缩、文件导入等特性</li>
<li>style-loader：把 CSS 代码注入到 JavaScript 中，通过 DOM 操作去加载 CSS。</li>
<li>eslint-loader：通过 ESLint 检查 JavaScript 代码</li>
</ul>
</li>
<li>plugin<ul>
<li>define-plugin：定义环境变量</li>
<li>commons-chunk-plugin：提取公共代码</li>
<li>uglifyjs-webpack-plugin：通过UglifyES压缩ES6代码</li>
</ul>
</li>
</ol>
<h5 id="loader-和-plugin-的区别是什么？"><a href="#loader-和-plugin-的区别是什么？" class="headerlink" title="loader 和 plugin 的区别是什么？"></a>loader 和 plugin 的区别是什么？</h5><ol>
<li>不同的作用<ul>
<li>Loader直译为”加载器”。Webpack将一切文件视为模块，但是webpack原生是只能解析js文件，如果想将其他文件也打包的话，就会用到loader。 所以Loader的作用是让webpack拥有了加载和解析非JavaScript文件的能力。<br>Plugin直译为”插件”。Plugin可以扩展webpack的功能，让webpack具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。</li>
</ul>
</li>
<li>不同的用法<ul>
<li>Loader在module.rules中配置，也就是说他作为模块的解析规则而存在。 类型为数组，每一项都是一个Object，里面描述了对于什么类型的文件（test），使用什么加载(loader)和使用的参数（options）<br>Plugin在plugins中单独配置。 类型为数组，每一项是一个plugin的实例，参数都通过构造函数传入。</li>
</ul>
</li>
</ol>
<h5 id="如何按需加载代码？"><a href="#如何按需加载代码？" class="headerlink" title="如何按需加载代码？"></a>如何按需加载代码？</h5><ol>
<li><p>Vue UI组件库的按需加载 为了快速开发前端项目，经常会引入现成的UI组件库如ElementUI、iView等，但是他们的体积和他们所提供的功能一样，是很庞大的。 而通常情况下，我们仅仅需要少量的几个组件就足够了，但是我们却将庞大的组件库打包到我们的源码中，造成了不必要的开销。<br>不过很多组件库已经提供了现成的解决方案，如Element出品的babel-plugin-component和AntDesign出品的babel-plugin-import 安装以上插件后，在.babelrc配置中或babel-loader的参数中进行设置，即可实现组件按需加载了。</p>
</li>
<li><p>单页应用的按需加载 现在很多前端项目都是通过单页应用的方式开发的，但是随着业务的不断扩展，会面临一个严峻的问题——首次加载的代码量会越来越多，影响用户的体验。<br>通过import(<em>)语句来控制加载时机，webpack内置了对于import(</em>)的解析，会将import(<em>)中引入的模块作为一个新的入口在生成一个chunk。 当代码执行到import(</em>)语句时，会去加载Chunk对应生成的文件。import()会返回一个Promise对象，所以为了让浏览器支持，需要事先注入Promise polyfill</p>
</li>
</ol>
<h5 id="如何提高构建速度？"><a href="#如何提高构建速度？" class="headerlink" title="如何提高构建速度？"></a>如何提高构建速度？</h5><ol>
<li>多入口情况下，使用CommonsChunkPlugin来提取公共代码</li>
<li>通过externals配置来提取常用库</li>
<li>利用DllPlugin和DllReferencePlugin预编译资源模块 通过DllPlugin来对那些我们引用但是绝对不会修改的npm包来进行预编译，再通过DllReferencePlugin将预编译的模块加载进来。</li>
<li>使用Happypack 实现多线程加速编译</li>
<li>使用webpack-uglify-parallel来提升uglifyPlugin的压缩速度。 原理上webpack-uglify-parallel采用了多核并行压缩来提升压缩速度</li>
<li>使用Tree-shaking和Scope Hoisting来剔除多余代码</li>
</ol>
<h5 id="转义出的文件过大怎么办？"><a href="#转义出的文件过大怎么办？" class="headerlink" title="转义出的文件过大怎么办？"></a>转义出的文件过大怎么办？</h5><p><a href="https://zhuanlan.zhihu.com/p/44438844" style="color: blue" target="_blank" rel="noopener">更多资源</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/06/http/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/06/http/" itemprop="url">HTTP协议与安全</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-06T11:16:48+08:00">
                2019-05-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/http/" itemprop="url" rel="index">
                    <span itemprop="name">http</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h4><h5 id="HTTP协议的主要特点"><a href="#HTTP协议的主要特点" class="headerlink" title="HTTP协议的主要特点"></a>HTTP协议的主要特点</h5><ul>
<li>简单快速（每个资源是固定的url） </li>
<li>灵活（通过头部type会有不同结果） </li>
<li>无连接（连接一次就会断掉） </li>
<li>无状态（客户端和服务端）</li>
</ul>
<h5 id="HTTP报文的组成部分"><a href="#HTTP报文的组成部分" class="headerlink" title="HTTP报文的组成部分"></a>HTTP报文的组成部分</h5><ol>
<li>请求报文<ul>
<li>请求行 （http方法 页面地址 http协议 http版本）</li>
<li>请求头 （key val 值告诉服务端需要什么内容 注意类型）</li>
<li>空行   （遇到空行时，下一个当着请求体）</li>
<li>请求体</li>
</ul>
</li>
<li>响应报文（状态行，响应头，空行，响应体） </li>
</ol>
<h5 id="HTTP-状态码"><a href="#HTTP-状态码" class="headerlink" title="HTTP 状态码"></a>HTTP 状态码</h5><ul>
<li>1xx:指示信息，请求已接收，继续处理</li>
<li>2xx 表示成功，请求已被成功接收</li>
<li>3xx 表示需要进一步操作，重定向，完成请求必须进行进一步的操作</li>
<li>4xx 表示浏览器方面出错，客户端错误，请求有语法错误或者请求无法实现</li>
<li>5xx 表示服务器方面出错，服务端错误，服务器未能实现合法的请求</li>
</ul>
<h5 id="常见状态码"><a href="#常见状态码" class="headerlink" title="常见状态码"></a>常见状态码</h5><ul>
<li>200 客户端请求成功</li>
<li>206 客户发送一个带有range(范围)头的GET请求，服务器完成它（用于视频）    </li>
<li>301 所请求的页面已经转移至新的url</li>
<li>302 所请求的页面已经临时转移至新的url</li>
<li>304 客户端有缓冲的文档并发出了一个条件性的请求，服务器告诉客户，原来缓冲的文档还可以继续使用</li>
<li>400 客户端请求有语法错误，不能被服务器所理解</li>
<li>401 请求未经授权，这个状态码必须和WWW-Authenticate报文域一起使用 </li>
<li>403 对被请求页面的访问被禁止</li>
<li>404 请求资源不存在</li>
<li>500 服务器发生不可预期的错误原来缓冲的文档还可以继续使用</li>
<li>503 请求未完成，服务器临时过载或当机，一段时间后可能恢复正常<br><a href="http://www.runoob.com/http/http-status-codes.html" style="color: blue;" target="_blank" rel="noopener">想了解更多</a> </li>
</ul>
<h5 id="HTTP-缓存-缓存就是资源文件在浏览器中存在的备份或者副本-如：网上请求的图片，去存在本地磁盘"><a href="#HTTP-缓存-缓存就是资源文件在浏览器中存在的备份或者副本-如：网上请求的图片，去存在本地磁盘" class="headerlink" title="HTTP 缓存 (缓存就是资源文件在浏览器中存在的备份或者副本,如：网上请求的图片，去存在本地磁盘)"></a>HTTP 缓存 (缓存就是资源文件在浏览器中存在的备份或者副本,如：网上请求的图片，去存在本地磁盘)</h5><ul>
<li>缓存分类<ul>
<li>强缓存(以下两个缓存都下发，以后者为准)<ul>
<li>Expires Expires:THu,21 Jan 2017 23:39/;02 GMT（绝对时间，客服端和服务器时间不一致，比较的时候，是一浏览器时间，下发是服务器时间）</li>
<li>Cache-Control Cache-Control:max-age=3600（3600是相对时间）</li>
</ul>
</li>
<li>协商缓存（和服务器协商）<ul>
<li>Last-Modified If-Modified-Since Last-Modified: Web, 26 Jan 2017 23:39/;02 GMT</li>
<li>Etag If-None-Match</li>
</ul>
</li>
<li>与浏览器缓存相关的http头有哪些，就是以上几个</li>
</ul>
</li>
<li>总结：<ul>
<li>ETag 是通过对比浏览器和服务器资源的特征值（如MD5）来决定是否要发送文件内容，如果一样就只发送 304（not modified）</li>
<li>Expires 是设置过期时间（绝对时间），但是如果用户的本地时间错乱了，可能会有问题</li>
<li>CacheControl: max-age=3600 是设置过期时长（相对时间），跟本地时间无关<br><a href="https://imweb.io/topic/5795dcb6fb312541492eda8c" style="color: blue;" target="_blank" rel="noopener">详细了解 ETag、CacheControl、Expires 的异同</a></li>
</ul>
</li>
</ul>
<h5 id="GET-和-POST-的区别"><a href="#GET-和-POST-的区别" class="headerlink" title="GET 和 POST 的区别"></a>GET 和 POST 的区别</h5><ul>
<li>一般理解<ol>
<li>GET在浏览器回退时是无害的，而POST会再次提交请求</li>
<li>GET产生的URL地址可以被加入收藏栏，而POST不可以</li>
<li>GET请求会被浏览器主动cache，而POST不会，除非手动设置</li>
<li>GET请求只能进行url编码，而POST支持多种编码方式</li>
<li>GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留</li>
<li>GET请求在URL中传送的参数是有长度限制的，而POST么有</li>
<li>对参数的数据类型，GET只接受ASCII字符，而POST没有限制</li>
<li>GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息</li>
<li>GET参数通过URL传递，POST放在Request body中</li>
</ol>
</li>
<li>核心<ul>
<li>就一个区别：语义——GET 用于获取资源，POST 用于提交资源<br><a href="https://zhuanlan.zhihu.com/p/22536382" style="color: blue;" target="_blank" rel="noopener"> 请参考 </a></li>
</ul>
</li>
</ul>
<h5 id="Cookie-V-S-LocalStorage-V-S-SessionStorage-V-S-Session"><a href="#Cookie-V-S-LocalStorage-V-S-SessionStorage-V-S-Session" class="headerlink" title="Cookie V.S. LocalStorage V.S. SessionStorage V.S. Session"></a>Cookie V.S. LocalStorage V.S. SessionStorage V.S. Session</h5><ul>
<li>Cookie V.S. LocalStorage<ul>
<li>主要区别是 Cookie 会被发送到服务器，而 LocalStorage 不会</li>
<li>Cookie 一般最大 4k，LocalStorage 可以用 5Mb 甚至 10Mb（各浏览器不同）</li>
</ul>
</li>
<li>LocalStorage V.S. SessionStorage<ul>
<li>LocalStorage 一般不会自动过期（除非用户手动清除），而 SessionStorage 在会话结束时过期（如关闭浏览器）</li>
</ul>
</li>
<li>Cookie V.S. Session<ul>
<li>Cookie 存在浏览器的文件里，Session 存在服务器的文件里</li>
<li>Session 是基于 Cookie 实现的，具体做法就是把 SessionID 存在 Cookie 里</li>
</ul>
</li>
</ul>
<h5 id="XSS（Cross-Site-Scripting）：跨越脚本攻击"><a href="#XSS（Cross-Site-Scripting）：跨越脚本攻击" class="headerlink" title="XSS（Cross-Site Scripting）：跨越脚本攻击"></a>XSS（Cross-Site Scripting）：跨越脚本攻击</h5><ul>
<li>原理<ul>
<li>不需要做任何的登录验证，核心原理向页面注入脚本</li>
</ul>
</li>
<li>造成 XSS 有几个要点：<ol>
<li>恶意用户可以提交内容</li>
<li>提交的内容可以显示在另一个用户的页面上</li>
<li>这些内容未经过滤，直接运行在另一个用户的页面上</li>
</ol>
</li>
<li>XSS 的成因以及防御措施<ol>
<li>后台模板问题：要后台输出的时候，将可疑的符号 &lt; 符号变成 &lt; （HTML实体）就行。</li>
<li>前端代码问题：就是不要自己拼 HTML，尽量使用 text 方法。如果一定要使用 HTML，就把可疑符号变成 HTML 实体</li>
</ol>
</li>
</ul>
<h5 id="CSRF（Cross-Site-Request-Forgery）：跨站请求伪造"><a href="#CSRF（Cross-Site-Request-Forgery）：跨站请求伪造" class="headerlink" title="CSRF（Cross Site Request Forgery）：跨站请求伪造"></a>CSRF（Cross Site Request Forgery）：跨站请求伪造</h5><ul>
<li>原理<ul>
<li>攻击者构造网站后台某个功能接口的请求地址，诱导用户去点击或者用特殊方法让该请求地址自动加载。用户在登录状态下这个请求被服务端接收后会被误以为是用户合法的操作。对于 GET 形式的接口地址可轻易被攻击，对于 POST 形式的接口地址也不是百分百安全，攻击者可诱导用户进入带 Form 表单可用POST方式提交参数的页面。</li>
</ul>
</li>
<li>使用anti-csrf-token的方案。 具体方案如下：<ol>
<li>服务端在收到路由请求时，生成一个随机数，在渲染请求页面时把随机数埋入页面（一般埋入 form 表单内，<input type="hidden" name="_csrf_token" value="xxxx">）</li>
<li>服务端设置setCookie，把该随机数作为cookie或者session种入用户浏览器</li>
<li>当用户发送 GET 或者 POST 请求时带上_csrf_token参数（对于 Form 表单直接提交即可，因为会自动把当前表单内所有的 input 提交给后台，包括_csrf_token）</li>
<li>后台在接受到请求后解析请求的cookie获取_csrf_token的值，然后和用户请求提交的_csrf_token做个比较，如果相等表示请求是合法的。</li>
</ol>
</li>
<li>总结：<ol>
<li>CSRF<ul>
<li>(网站中某个接口存在漏洞，用户在这个注册网站确实登录过) </li>
<li>防御措施 <ul>
<li>Token验证：用户请求之后，会返回cookie信息，并且服务器向本地存储Token</li>
<li>Referer验证: 页面来源，服务器判断页面来源是否是当前站点下的</li>
</ul>
</li>
</ul>
</li>
<li>xss: 向xss注入的js不可执行  </li>
</ol>
</li>
<li>两者区别<ul>
<li>xss向页面注入js运行，js函数体去做想做的</li>
<li>CSRF是利用本身的漏洞，帮你去执行相应的接口</li>
</ul>
</li>
<li>推荐查阅资料<ol>
<li><a href="https://zhuanlan.zhihu.com/p/22521378" style="color: blue;" target="_blank" rel="noopener"> 文章 xsrf </a></li>
<li><a href="https://zhuanlan.zhihu.com/p/22500730" style="color: blue;" target="_blank" rel="noopener"> 文章 xss </a></li>
<li><a href="http://www.imooc.com/learn/812" style="color: blue;" target="_blank" rel="noopener"> 视频 csrf xss </a></li>
</ol>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/05/ cross-domain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/05/ cross-domain/" itemprop="url">跨域</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-05T22:08:28+08:00">
                2019-05-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="跨域的几种解决方案"><a href="#跨域的几种解决方案" class="headerlink" title="跨域的几种解决方案"></a>跨域的几种解决方案</h4><h5 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h5><p><a href="https://zhuanlan.zhihu.com/p/22600501" style="color: blue;" target="_blank" rel="noopener">来龙去脉啦</a></p>
<ul>
<li>同源策略(Same origin Policy)：浏览器出于安全方面的考虑，只允许与同域下的接口交互。</li>
<li>同域指的是？<ul>
<li>同协议：都是http或者https</li>
<li>同域名：都是<a href="http://baidu.com/a" target="_blank" rel="noopener">http://baidu.com/a</a> 和<a href="http://baidu.com/b" target="_blank" rel="noopener">http://baidu.com/b</a></li>
<li>同端口：都是80端口</li>
</ul>
</li>
<li>JSONP的原理<ol>
<li>JSONP是通过 script 标签加载数据的方式去获取数据当做 JS 代码来执行</li>
<li>提前在页面上声明一个函数，函数名通过<strong>接口传参</strong>的方式传给后台，后台解析到函数名后在原始数据上「包裹」这个函数名，发送给前端。换句话说，JSONP 需要对应接口的后端的配合才能实现<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">// 简单的实现原理就是</span><br><span class="line"> &lt;script src=&quot;http://www.abc.com/?data=name&amp;callback=jsonp&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    jsonp showData(res) &#123;</span><br><span class="line">        console.log(res);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">// 借用大佬封装的代码</span><br><span class="line">function jsonp(setting) &#123;</span><br><span class="line">  setting.data = setting.data || &#123;&#125;;</span><br><span class="line">  setting.key = setting.key || &apos;callback&apos;;</span><br><span class="line">  setting.callback = setting.callback || function() &#123;&#125;;</span><br><span class="line">  setting.data[setting.key] = &apos;__onGetData__&apos;;</span><br><span class="line"></span><br><span class="line">  window.__onGetData__ = function(data) &#123;</span><br><span class="line">    setting.callback (data);</span><br><span class="line">  &#125;</span><br><span class="line">  var script = document.createElement(&apos;script&apos;);</span><br><span class="line">  var query = [];</span><br><span class="line">  for(var key in setting.data) &#123;</span><br><span class="line">    query.push( key + &apos;=&apos; + encodeURIComponent(setting.data[key]));</span><br><span class="line">  &#125;</span><br><span class="line">  script.src = setting.url + &apos;?&apos; + query.join(&apos;&amp;&apos;);</span><br><span class="line">  document.head.appendChild(script);</span><br><span class="line">  document.head.removeChild(script);</span><br><span class="line">&#125;</span><br><span class="line">jsonp(&#123;</span><br><span class="line">  url: &apos;http://api.baidu.com/weather.php&apos;,</span><br><span class="line">  callback: function(res) &#123;</span><br><span class="line">    console.log(res)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">jsonp(&#123;</span><br><span class="line">  url: &apos;http://photo.sina.cn/aj/index&apos;,</span><br><span class="line">  key: &apos;jsoncallback&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    page: 1,</span><br><span class="line">    cate: &apos;recommend&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  callback: function(res) &#123;</span><br><span class="line">    console.log(res)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h5 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" style="color: blue;" target="_blank" rel="noopener">CORS</a></h5><p><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" style="color: blue;" target="_blank" rel="noopener">阮一峰教程</a></p>
<ul>
<li>CORS需要浏览器和服务器同时支持</li>
<li>实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。<br>在header信息中添加Origin<br>CORS与JSONP的使用目的相同，但是比JSONP更强大。<br>JSONP只支持GET请求，CORS支持所有类型的HTTP请求。JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据。</li>
</ul>
<h5 id="闭包（Closure）"><a href="#闭包（Closure）" class="headerlink" title="闭包（Closure）"></a>闭包（Closure）</h5><p><a href="https://zhuanlan.zhihu.com/p/22486908" style="color: blue;" target="_blank" rel="noopener">还是老师厉害</a></p>
<ul>
<li><strong>「函数」和「函数内部能访问到的变量」（也叫环境）的总和，就是一个闭包</strong></li>
<li>平时我们的认知的闭包:「需要函数套函数，然后 return 一个函数的呀！」<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  var local = 1;</span><br><span class="line">  function bar() &#123;</span><br><span class="line">    local++;</span><br><span class="line">    return local;</span><br><span class="line">  &#125;</span><br><span class="line">  return bar; // return  window.bar = bar;</span><br><span class="line">&#125;</span><br><span class="line">var func = foo();</span><br><span class="line">func();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="为什么要函数套函数呢？"><a href="#为什么要函数套函数呢？" class="headerlink" title="为什么要函数套函数呢？"></a>为什么要函数套函数呢？</h5><ul>
<li>因为需要局部变量，所以才把 local 放在一个函数里，如果不把 local 放在一个函数里，local 就是一个全局变量了，达不到使用闭包的目的——隐藏变量<br>闭包的原文是 Closure，跟「包」没有任何关系。<br>所以函数套函数只是为了造出一个局部变量，跟闭包无关。</li>
</ul>
<h5 id="为什么要-return-bar-呢？"><a href="#为什么要-return-bar-呢？" class="headerlink" title="为什么要 return bar 呢？"></a>为什么要 return bar 呢？</h5><ul>
<li>因为如果不 return，你就无法使用这个闭包。把 return bar 改成 window.bar = bar 也是一样的，只要让外面可以访问到这个 bar 函数就行了。</li>
<li>所以 return bar 只是为了 bar 能被使用，也跟闭包无关。</li>
</ul>
<h5 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h5><ul>
<li>闭包常常用来「间接访问一个变量」。换句话说，「隐藏一个变量」</li>
<li>暴露一个访问器（函数），让别人可以「间接访问」</li>
</ul>
<h5 id="你们闭包会造成内存泄漏？"><a href="#你们闭包会造成内存泄漏？" class="headerlink" title="你们闭包会造成内存泄漏？"></a>你们闭包会造成内存泄漏？</h5><ul>
<li>内存泄露是指你用不到（访问不到）的变量，依然占居着内存空间，不能被再次利用起来</li>
<li>闭包里面的变量明明就是我们需要的变量，凭什么说是内存泄露？<ul>
<li>因为 IE。IE 有 bug，IE 在我们使用完闭包之后，依然回收不了闭包里面引用的变量</li>
<li>这是 IE 的问题，不是闭包的问题。<a href="http://www.cnblogs.com/rubylouvre/p/3345294.html#undefined" style="color: blue;" target="_blank" rel="noopener">参见司徒正美的这篇文章</a></li>
</ul>
</li>
</ul>
<h5 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h5><ul>
<li>声明一个匿名函数</li>
<li>马上调用这个匿名函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;alert(&apos;我是匿名函数&apos;)&#125;)()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="那么为什么还要用另一对括号把匿名函数包起来呢？"><a href="#那么为什么还要用另一对括号把匿名函数包起来呢？" class="headerlink" title="那么为什么还要用另一对括号把匿名函数包起来呢？"></a>那么为什么还要用另一对括号把匿名函数包起来呢？</h5><ul>
<li>为了兼容 JS 的语法</li>
<li>不加的话，览器会报语法错误。想要通过浏览器的语法检查，必须加点小东西，比如下面几种都OK👌<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;alert(&apos;我是匿名函数&apos;)&#125; ()) // 用括号把整个表达式包起来</span><br><span class="line">(function()&#123;alert(&apos;我是匿名函数&apos;)&#125;) () //用括号把函数包起来</span><br><span class="line">!function()&#123;alert(&apos;我是匿名函数&apos;)&#125;() // 求反，我们不在意值是多少，只想通过语法检查</span><br><span class="line">+function()&#123;alert(&apos;我是匿名函数&apos;)&#125;()</span><br><span class="line">-function()&#123;alert(&apos;我是匿名函数&apos;)&#125;()</span><br><span class="line">~function()&#123;alert(&apos;我是匿名函数&apos;)&#125;()</span><br><span class="line">void function()&#123;alert(&apos;我是匿名函数&apos;)&#125;()</span><br><span class="line">new function()&#123;alert(&apos;我是匿名函数&apos;)&#125;()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="立即执行函数有什么用？"><a href="#立即执行函数有什么用？" class="headerlink" title="立即执行函数有什么用？"></a>立即执行函数有什么用？</h5><ul>
<li>创建一个独立的作用域。使这个作用域里面的变量，外面访问不到（即避免「变量污染」）</li>
<li>以下经典案列<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var liList = ul.getElementsByTagName(&apos;li&apos;)</span><br><span class="line">for(var i = 0; i &lt; 6; i++) &#123;</span><br><span class="line">  liList[i].onclick = function() &#123;</span><br><span class="line">    alert(i); // 为什么 alert 出来的总是 6，而不是 0、1、2、3、4、5</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>i 是贯穿整个作用域的，而不是给每个 li 分配了一个 i，用户一定是在for运行完之后才点击，此时都i为6<br>用立即执行函数给每个 li 创造一个独立作用域即可（当然还有其他办法: 如 let）：<br><a href="https://jsbin.com/gicusajoqi/edit?html,js,output" style="color: blue;" target="_blank" rel="noopener">还原效果，click me!</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var ul = document.getElementsByTagName(&apos;ul&apos;)[0]</span><br><span class="line">var liList = ul.getElementsByTagName(&apos;li&apos;);</span><br><span class="line">for(var i = 0; i &lt; 6; i++) &#123;</span><br><span class="line">  !function(ii) &#123;</span><br><span class="line">    liList[ii].onclick = function() &#123;</span><br><span class="line">      alert(ii); // 0、1、2、3、4、5</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在立即执行函数执行的时候，i 的值被赋值给 ii，此后 ii 的值一直不变。<br>i 的值从 0 变化到 5，对应 6 个立即执行函数，这 6 个立即执行函数里面的 ii 「分别」是 0、1、2、3、4、5。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/05/this/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/05/this/" itemprop="url">this</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-05T15:31:36+08:00">
                2019-05-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="this到底指向谁呢？"><a href="#this到底指向谁呢？" class="headerlink" title="this到底指向谁呢？"></a>this到底指向谁呢？</h4><p><a href="https://zhuanlan.zhihu.com/p/25991271" style="color: blue;" target="_blank" rel="noopener">惊喜在这里</a></p>
<h5 id="看自己平时积累了"><a href="#看自己平时积累了" class="headerlink" title="看自己平时积累了"></a>看自己平时积累了</h5><ol>
<li>fn()           this =&gt; window/global</li>
<li>obj.fn()       this =&gt; obj</li>
<li>fn.call(xx)    this =&gt; xx</li>
<li>fn.apply(xx)   this =&gt; xx</li>
<li>fn.bind(xx)    this =&gt; xx</li>
<li>new Fn()       this =&gt; 新创建的对象</li>
<li>fn = ()=&gt; {}   this =&gt; 外面的 this</li>
</ol>
<h5 id="看调用"><a href="#看调用" class="headerlink" title="看调用"></a>看调用</h5><ul>
<li>函数调用</li>
<li>JS（ES5）里面有三种函数调用形式<ul>
<li>func(p1, p2) </li>
<li>obj.child.method(p1, p2)</li>
<li>func.call(context, p1, p2)</li>
</ul>
</li>
<li>一般我们都比较倾向于使用前两种，第三种不知道什么鬼东西呀<br>其他两种都是语法糖，可以等价地变为 call 形式：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func(p1, p2) 等价于 func.call(undefined, p1, p2)</span><br><span class="line">obj.child.method(p1, p2) 等价于 obj.child.method.call(obj.child, p1, p2)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>函数调用只有一种形式</strong> ： func.call(context, p1, p2), context就是this</p>
<h5 id="看看下面的举例"><a href="#看看下面的举例" class="headerlink" title="看看下面的举例"></a>看看下面的举例</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function func() &#123;</span><br><span class="line">  console.log(this)</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line">// 等价转化一下</span><br><span class="line">func.call(undefined) // 可简写为 func.call()， 结果就是window</span><br></pre></td></tr></table></figure>
<p>是不是疑问应该是undefined呢？可不能忘记<strong>浏览器</strong>里有一条规则：</p>
<ul>
<li>如果你传的context是 null 或者 undefined，那window 对象就是默认的 context（但严格模式下（’use strict’）默认 context 是 undefined）</li>
</ul>
<p>如果你不想this是window，好说，那就这样吧： func.call(obj) // 那么里面的 this 就是 obj 对象了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  foo: function() &#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.foo(); // 等价转化为obj.foo.call(obj) ，结果就是obj</span><br></pre></td></tr></table></figure></p>
<p>看看下面的代码，是不是so easy! :(<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  foo: function() &#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var bar = obj.foo;</span><br><span class="line">obj.foo(); // 转换为 obj.foo.call(obj)，this 就是 obj</span><br><span class="line">bar() </span><br><span class="line">// 转换为 bar.call(), 没有传 context, 所以 this 就是 undefined</span><br><span class="line">// 最后浏览器给你一个默认的 this —— window 对象</span><br></pre></td></tr></table></figure></p>
<h5 id="类似-的，this怎么指向呢"><a href="#类似-的，this怎么指向呢" class="headerlink" title="类似 [] 的，this怎么指向呢"></a>类似 [] 的，this怎么指向呢</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fn () &#123; </span><br><span class="line">    console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">var arr = [fn, fn2];</span><br><span class="line">arr[0]() // arr 转换为 arr.0() arr.0.call(arr) (语法是有问题的，这样推理木有问题呀)</span><br></pre></td></tr></table></figure>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><ul>
<li><strong>this 就是你 call 一个函数时，传入的第一个参数</strong></li>
<li>如果你的函数调用形式不是 call 形式，请<strong>[转换代码]</strong>将其转换为 call 形式。</li>
</ul>
<h5 id="问题又来了，Event-Handler-中的-this-指什么呢？"><a href="#问题又来了，Event-Handler-中的-this-指什么呢？" class="headerlink" title="问题又来了，Event Handler 中的 this 指什么呢？"></a>问题又来了，Event Handler 中的 this 指什么呢？</h5><p>不知道ddEventListener 的源代码，怎么办呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(&apos;click&apos; ,function handler()&#123;</span><br><span class="line">  console.log(this) // 请问这里的 this 是什么</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener#The_value_of_this_within_the_handler" style="color: blue;" target="_blank" rel="noopener">MDN 对this解释</a></p>
<ul>
<li>通常来说this的值是触发事件的元素的引用，这种特性在多个相似的元素使用同一个通用事件监听器时非常让人满意。 </li>
<li>当使用 addEventListener() 为一个元素注册事件的时候，句柄里的 this 值是该元素的引用。其与传递给句柄的 event 参数的 currentTarget 属性的值一样。<br>所以你可以想浏览器的源码是这样写的：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 当事件被触发时</span><br><span class="line">handler.call(event.currentTarget, event) </span><br><span class="line">// 那么 this 是什么不言而喻</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="jQuery-Event-Handler-中的-this"><a href="#jQuery-Event-Handler-中的-this" class="headerlink" title="jQuery Event Handler 中的 this"></a>jQuery Event Handler 中的 this</h5><p>下面代码中的 this 是什么呢：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ul.on(&apos;click&apos;, &apos;li&apos; , function()&#123;</span><br><span class="line">  console.log(this)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.jquery123.com/on/" style="color: blue;" target="_blank" rel="noopener">jQuery 文档是这样写的:</a></p>
<ul>
<li>当jQuery的调用处理程序时，this关键字指向的是当前正在执行事件的元素。对于直接事件而言，this 代表绑定事件的元素。</li>
<li><strong>对于代理事件而言，this 则代表了与 selector 相匹配的元素</strong>。(注意，如果事件是从后代元素冒泡上来的话，那么 this 就有可能不等于 event.target。)若要使用 jQuery 的相关方法，可以根据当前元素创建一个 jQuery 对象，即使用 $(this)。</li>
</ul>
<h5 id="总结一下如何确定-this-的值"><a href="#总结一下如何确定-this-的值" class="headerlink" title="总结一下如何确定 this 的值"></a>总结一下如何确定 this 的值</h5><ol>
<li>看源码中对应的函数是怎么被 call 的（这是最靠谱的办法）</li>
<li>看文档</li>
<li>console.log(this)</li>
<li>不要瞎猜，你猜不到的:(</li>
</ol>
<h5 id="如何强制指定-this-的值，call-apply-即可："><a href="#如何强制指定-this-的值，call-apply-即可：" class="headerlink" title="如何强制指定 this 的值，call/apply 即可："></a>如何强制指定 this 的值，call/apply 即可：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function handlerWrapper(event) &#123;</span><br><span class="line">  function handler() &#123;</span><br><span class="line">    console.log(this); // 请问这里的 this 是什么</span><br><span class="line">  &#125;</span><br><span class="line">  handler.call(&#123;name: &apos;xlc&apos;&#125;, event)</span><br><span class="line">&#125;</span><br><span class="line">btn.addEventListener(&apos;click&apos;, handlerWrapper);</span><br><span class="line">// 也可以直接使用bind</span><br><span class="line">function handler() &#123;</span><br><span class="line">  console.log(this); // 请问这里的 this 是什么</span><br><span class="line">&#125;</span><br><span class="line">var handlerWrapper = handler.bind(&#123;name: &apos;xlc&apos;&#125;)</span><br><span class="line">btn.addEventListener(&apos;click&apos;, handlerWrapper);</span><br><span class="line">// 上面代码可以简化为</span><br><span class="line">btn.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(this); // 请问这里的 this 是什么</span><br><span class="line">&#125;.bind(&#123;name: &apos;xlc&apos;&#125;))</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/05/es6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/05/es6/" itemprop="url">ES6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-05T10:03:29+08:00">
                2019-05-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="ES6-语法及应用"><a href="#ES6-语法及应用" class="headerlink" title="ES6 语法及应用"></a>ES6 语法及应用</h4><p><a href="https://jscode.me/t/topic/109" style="color: blue;" target="_blank" rel="noopener">es6学习可参照</a></p>
<h5 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h5><ul>
<li>块级作用域： 由一对大括号{}界定</li>
<li>块级变量 let：声明一个块级作用域的本地变量，可选的将其初始化为一个值</li>
<li>块级常量 const: 常量的值不能通过重新赋值来改变，并且不能重新声明(<strong> 是否指向同一个内存地址 </strong>)</li>
</ul>
<h5 id="let、const与var的区别"><a href="#let、const与var的区别" class="headerlink" title="let、const与var的区别"></a>let、const与var的区别</h5><ul>
<li>var<ul>
<li>可以重复定义</li>
<li>可以随意更改</li>
<li>没有块级作用域</li>
</ul>
</li>
<li>let与const<ul>
<li>在同一个块级作用域中，不允许重复定义</li>
<li>const定义的变量不允许二次修改</li>
<li>let和const定义的变量会形成块级作用域</li>
<li>它们定义的变量不存在变量提升，以及存在暂时性死区</li>
</ul>
</li>
</ul>
<h5 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h5><ul>
<li>sum = (a, b) =&gt; a + b</li>
<li>nums.forEach( v =&gt; { console.log(v) })</li>
<li>强大之处 this指向不会更改</li>
</ul>
<h5 id="参数处理"><a href="#参数处理" class="headerlink" title="参数处理"></a>参数处理</h5><ul>
<li><p>默认参数值: 允许在没有值或undefined被传入时使用默认形参</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function multiply(a, b = 1) &#123;</span><br><span class="line">  return a * b;</span><br><span class="line">&#125;</span><br><span class="line">console.log(multiply(5, 2)); // 10</span><br><span class="line">console.log(multiply(5)); // 5</span><br></pre></td></tr></table></figure>
</li>
<li><p>剩余参数: 允许将一个不定数量的参数（theArgs）表示为一个数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function sum(...theArgs) &#123;</span><br><span class="line">  return theArgs.reduce((previous, current) =&gt; &#123;</span><br><span class="line">    return previous + current;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(1, 2, 3)); // 6</span><br><span class="line">console.log(sum(1, 2, 3, 4)); // 10</span><br></pre></td></tr></table></figure>
</li>
<li><p>展开运算符: 函数调用时，将表达式(数组/对象-简单的数据类型)做对应语法的展开</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function sum(x, y, z) &#123;</span><br><span class="line">  return x + y + z;</span><br><span class="line">&#125;</span><br><span class="line">const numbers = [1, 2, 3];</span><br><span class="line">console.log(sum(...numbers)); // 6</span><br><span class="line">console.log(sum.apply(null, numbers)); // 6</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="模板字面量：允许嵌入表达式的字符串字面量-反引号包裹字符串"><a href="#模板字面量：允许嵌入表达式的字符串字面量-反引号包裹字符串" class="headerlink" title="模板字面量：允许嵌入表达式的字符串字面量, 反引号包裹字符串"></a>模板字面量：允许嵌入表达式的字符串字面量, 反引号包裹字符串</h5><ul>
<li>多行字符串 <code>字符串内容</code></li>
<li>字符串插值 <code>${字符串变量}</code></li>
<li>带标签的模板字面量</li>
<li>原始字符串</li>
</ul>
<h5 id="解构赋值-将值从数组，或属性从对象，提取到不同的变量中"><a href="#解构赋值-将值从数组，或属性从对象，提取到不同的变量中" class="headerlink" title="解构赋值: 将值从数组，或属性从对象，提取到不同的变量中"></a>解构赋值: 将值从数组，或属性从对象，提取到不同的变量中</h5><ul>
<li>数组匹配 [ b, a ] = [ a, b ]</li>
<li>对象匹配 let obj = {a: 1, b: 23}; let { a, b, c } = obj;  </li>
<li>参数匹配 function fun({ name: n, val: v }) {}</li>
</ul>
<h5 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h5><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import" style="color: blue;" target="_blank" rel="noopener">导入import</a> ：导入由另一个模块导出的绑定<ul>
<li>import {foo, bar as b} from ‘/xxx.js’;</li>
<li>常使用导入多个接口，或者重命名接口名称都很实用</li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/export" style="color: blue;" target="_blank" rel="noopener">导出export</a></li>
<li>默认导出 export default: export default function(){} / export default class {}</li>
</ul>
<h5 id="类"><a href="#类" class="headerlink" title="类"></a>类</h5><ul>
<li>使用 extends 实现继承</li>
<li>重写构造器</li>
<li>super 关键字</li>
</ul>
<h6 id="是否有class关键字实现继承"><a href="#是否有class关键字实现继承" class="headerlink" title="是否有class关键字实现继承"></a>是否有class关键字实现继承</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function Animal(color)&#123;</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.move = function() &#123;&#125;</span><br><span class="line">function Dog(color, name) &#123;</span><br><span class="line">    Animal.call(this, color); // 或者 Animal.apply(this, arguments)</span><br><span class="line">    this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">// 下面三行实现 Dog.prototype.__proto__ = Animal.prototype</span><br><span class="line">function temp() &#123;&#125;</span><br><span class="line">temp.prototye = Animal.prototype;</span><br><span class="line">Dog.prototype = new temp();</span><br><span class="line">Dog.prototype.constuctor = Dog;</span><br><span class="line">Dog.prototype.say = function()&#123; console.log(&apos;汪&apos;)&#125;</span><br><span class="line">var dog = new Dog(&apos;白色&apos;,&apos;咪汪&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    constructor(color) &#123;</span><br><span class="line">        this.color = color</span><br><span class="line">    &#125;</span><br><span class="line">    move()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    constructor(color, name) &#123;</span><br><span class="line">        super(color)</span><br><span class="line">        this.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    say() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="原有内置对象-API-增强"><a href="#原有内置对象-API-增强" class="headerlink" title="原有内置对象 API 增强"></a>原有内置对象 API 增强</h5><ul>
<li>常用<ul>
<li>Object.assign：将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。Object.assign(target, …source);</li>
<li>Array.from: 从一个类似数组或可迭代对象中创建一个新的数组实例。Array.from(arrayLike[, mapFn[, thisArg]])</li>
</ul>
</li>
</ul>
<h5 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h5><h6 id="Promise-一个异步操作的最终状态（完成或失败），以及该异步操作的结果值"><a href="#Promise-一个异步操作的最终状态（完成或失败），以及该异步操作的结果值" class="headerlink" title="Promise: 一个异步操作的最终状态（完成或失败），以及该异步操作的结果值"></a>Promise: 一个异步操作的最终状态（完成或失败），以及该异步操作的结果值</h6><pre><code>* pending: 初始状态，既不是成功，也不是失败状态。
* fulfilled: 操作成功完成。
* rejected: 操作失败。
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    return new Promise((resolve, reject)=&gt;&#123;</span><br><span class="line">        成功时调用 resolve(数据)</span><br><span class="line">        失败时调用 reject(错误)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fn().then(success, fail).then(success2, fail2)</span><br></pre></td></tr></table></figure>
<h6 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h6><ul>
<li>promise1和promise2<strong>都成功</strong>，才会调用success1</li>
<li>promise1和promise2有<strong>一个失败</strong>，都会调用fail1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Promise.all([promise1, promise2]).then(success1, fail1)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race"></a>Promise.race</h6><ul>
<li>promise1和promise2只要有<strong>一个成功</strong>就会调用success1</li>
<li>promise1和promise2<strong>都失败</strong>，才会调用fail1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Promise.race([promise1, promise2]).then(success1, fail1)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="手写一个-Promise-参考"><a href="#手写一个-Promise-参考" class="headerlink" title="手写一个 Promise 参考"></a>手写一个 Promise <a href="https://juejin.im/post/5aafe3edf265da238f125c0a" style="color: blue;" target="_blank" rel="noopener">参考</a></h5><h5 id="async-与-await"><a href="#async-与-await" class="headerlink" title="async 与 await"></a>async 与 await</h5><ul>
<li>与Promise相关，</li>
<li>如果是异步函数， 它的语法和结构会更像是标准的<strong>同步函数</strong></li>
</ul>
<ol>
<li><p>promise实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      let n = parseInt(Math.random() * 6 + 1, 10); // [0, 5)</span><br><span class="line">      resolve(n);</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">fn().then(</span><br><span class="line">  (n) =&gt; &#123;</span><br><span class="line">    console.log(&apos;成功返回骰子数&apos; + n);</span><br><span class="line">  &#125;,</span><br><span class="line">  (err) =&gt; &#123;</span><br><span class="line">    console.log(&apos;失败返回!&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>await的简单使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">async function test() &#123;</span><br><span class="line">  // test的执行，或者n的赋值一定是在3s之后才执行</span><br><span class="line">  let n = await fn();</span><br><span class="line">  console.log(n);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
</li>
<li><p>await语法中error错误处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function fn(params) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      let n = parseInt(Math.random() * 6 + 1, 10); // [0, 6)</span><br><span class="line">      if (n &gt; 3) &#123;</span><br><span class="line">        if (params === ‘大’) &#123;</span><br><span class="line">          resolve(n);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          reject(n);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (params === ‘小’) &#123;</span><br><span class="line">          resolve(n);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          reject(n);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">async function test() &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    let n = await fn(&apos;大&apos;);</span><br><span class="line">    console.log(&apos;猜中了&apos; + n);</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    console.log(&apos;输了&apos; + error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><p>处理错误2（更优雅 try、catch搞太多代码难看些）</p>
<ul>
<li>使用库async-to-js await-to-js</li>
<li>库async-to-js的to函数返回一个Promise且值是一个数组，数组之中有两个元素，如果索引为0的元素不为空值，说明该请求报错，如果索引0的元素为空值说明该请求没有报错，也就是成功</li>
<li>？错误在0的位置（错误优先的原则）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const handleLogin = async () =&gt; &#123;</span><br><span class="line">  const [resErr, res] = await to(request(&apos;/xx/xx&apos;, &#123;</span><br><span class="line">    usename: &apos;&apos;,</span><br><span class="line">    password: &apos;&apos;</span><br><span class="line">  &#125;))</span><br><span class="line">  if (resErr) &#123;</span><br><span class="line">    // fail do somthing</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  const [userErr, info] = await to(request(&apos;/xx/xx&apos;, &#123;</span><br><span class="line">    id: res.id</span><br><span class="line">  &#125;))</span><br><span class="line">  if (userErr) &#123;</span><br><span class="line">    // fail do somthing</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  this.userInfo = info</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>处理async/await中的错误用try/catch是有什么不好的地方</p>
<ul>
<li>有时候需要在上一条 await 语句 reject 的时候，不中断 async 函数的执行，继续执行后续的 await，try…catch 捕获的粒度没办法做到很细，除非给每个 await 语句都加上 try…catch，这样太麻烦，所以用了下这个库，这种风格实际上是参考了 Golang 中的异常处理机制，因为 Golang 里面没有 try…catch，抛一个 panic 直接中断程序执行了</li>
</ul>
</li>
<li>?多个await呢？而且每个await的错误处理都不同的话，那try catch咋做<ul>
<li>写一个工具函数来await执行异步方法，在它内部通过try-catch处理异常，外部通过返回值来获取异常</li>
</ul>
</li>
</ul>
<ol start="4">
<li><p>同时调用fn函数，Promise处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Promise.all([fn(&apos;大&apos;), fn(&apos;大&apos;)]).then(</span><br><span class="line">  res =&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>同时调用fn函数，await处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">async function test() &#123;</span><br><span class="line">  // test的执行，或者n的赋值一定是在3s之后才执行</span><br><span class="line">  try &#123;</span><br><span class="line">    let n = await Promise.all([fn(&apos;大&apos;), fn(&apos;大&apos;)]);</span><br><span class="line">    console.log(&apos;猜中了&apos; + n);</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    console.log(&apos;输了&apos; + error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
<p> async与await返回的都是Promise,async与await可理解为Promise的语法糖<br> <a href="http://es6.ruanyifeng.com/?search=async&x=0&y=0#docs/async" style="color: blue;" target="_blank" rel="noopener">想了解更多，看阮一峰-es6教程</a></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/04/vertical-center/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/04/vertical-center/" itemprop="url">实现垂直居中、flex</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-04T21:49:01+08:00">
                2019-05-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="实现垂直居中"><a href="#实现垂直居中" class="headerlink" title="实现垂直居中"></a>实现垂直居中</h4><ul>
<li>如果父元素.parent的height未知，只需要<strong>padding: 10px 0</strong>; 就能将子元素.child垂直居中</li>
<li>如果父元素.parent的height已知，就很难把子元素.child居中</li>
</ul>
<h5 id="以下是垂直居中的方法"><a href="#以下是垂直居中的方法" class="headerlink" title="以下是垂直居中的方法"></a>以下是垂直居中的方法</h5><ol>
<li><p>table布局实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  height: 500px;</span><br><span class="line">  border: 1px solid #ff9400;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br><span class="line">&lt;table class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td class=&quot;child&quot;&gt;居中元素&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给父元素添加伪元素（100% 高度的 afrer before 加上 inline block）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  height: 500px;</span><br><span class="line">  border: 1px solid #ff9400;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.parent:after,</span><br><span class="line">.parent:before &#123;</span><br><span class="line">  content: &apos;&apos;;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  height: 100%;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line"> &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;垂直居中元素&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>table属性应用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: table;</span><br><span class="line">  height: 500px;</span><br><span class="line">  border: 1px solid #ff9400;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.parent &gt; div &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  display: table-cell;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class=&quot;child&quot;&gt;垂直居中元素&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>position定位实现，margin设置负值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  height: 500px;</span><br><span class="line">  position: relative;</span><br><span class="line">  border: 1px solid #ff9400;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 50%;</span><br><span class="line">  top: 50%;</span><br><span class="line">  margin-left: -150px;</span><br><span class="line">  margin-top: -50px;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;垂直居中元素&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>也是定位，只是应用了css3 的 translate</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.child &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 50%;</span><br><span class="line">  top: 50%;</span><br><span class="line">  transform: translate(-50%,-50%);</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>同样是定位，不过巧妙的用了margin: auto</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.child &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  margin: auto;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>是不是终于到大家常用的flex啦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  height: 500px;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  border: 1px solid #ff9400;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  border: 1px solid #ff0000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>想快速看到效果：<a href="https://jsbin.com/fayekiwita/edit?html,css,output" style="color: blue;" target="_blank" rel="noopener">自己动手吧:)</a><br><strong>能不写 height 就千万别写 height吧</strong><br>    欢迎👏贡献更多方法</p>
<h4 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h4><ul>
<li>flex的属性还是需要多实践操作，才会知道具体效果</li>
<li>不妨看看阮一峰老师的教程<br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" style="color: blue;" target="_blank" rel="noopener">flex-语法</a><br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html" style="color: blue;" target="_blank" rel="noopener">flex-实例</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/04/html-css/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/04/html-css/" itemprop="url">HTML、CSS基础概念总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-04T16:37:46+08:00">
                2019-05-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><h5 id="HTML语义化"><a href="#HTML语义化" class="headerlink" title="HTML语义化"></a>HTML语义化</h5><ul>
<li>HTML 语义化就是使用正<strong>确的标签</strong>，内容的结构化（内容语义化），选择合适的标签（代码语义化）</li>
<li>定义麻烦，可以直接<strong>举例</strong>，如：<ul>
<li>段落就写 p 标签，标题就写 h1~h6 标签，</li>
<li>文章就写article标签，视频就写video标签，section就写文档中的一个区域（或节），article比section更具有独立性、完整性。可通过该段内容脱离了所在的语境，是否完整、独立来判断等等。</li>
</ul>
</li>
<li>也可以<strong>阐述</strong>一下历史<ul>
<li>咱们的后台开发人员常使用table布局，美工人员常使用div+css布局，前端的优势当然就是会使用正确的标签进行页面开发啦</li>
</ul>
</li>
</ul>
<h5 id="语义话的好处"><a href="#语义话的好处" class="headerlink" title="语义话的好处"></a>语义话的好处</h5><ul>
<li>可简单解释为：便于<strong>开发者</strong>阅读和写出更优雅的代码的同时让<strong>浏览器</strong>的爬虫和机器很好地解析</li>
</ul>
<ol>
<li>在没有CSS的情况下，页面也能呈现出很好地内容结构、代码结构—–为了裸奔时好看</li>
<li>有利于<a href="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/3132?fromtitle=SEO&fromid=102990" style="color: blue;" target="_blank" rel="noopener"><strong>SEO</strong></a>：和搜索引擎建立良好沟通，有助于<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/5162711?fromtitle=%E7%88%AC%E8%99%AB&fromid=22046949" style="color: blue;" target="_blank" rel="noopener"><strong>爬虫</strong></a>抓取更多的有效信息：爬虫依赖于标签来确定上下文和各个关键字的权重</li>
<li>方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以有意义的方式来渲染网页</li>
<li>有利于团队开发和维护</li>
</ol>
<h5 id="meta-viewport是做什么呢？有什么用呢？"><a href="#meta-viewport是做什么呢？有什么用呢？" class="headerlink" title="meta viewport是做什么呢？有什么用呢？"></a>meta viewport是做什么呢？有什么用呢？</h5><ul>
<li>先了解一下不设置meta viewport标签会导致什么后果呢<ul>
<li>移动设备上浏览器默认的宽度值为800px，980px，1024px等，总之是大于屏幕宽度的。这里的宽度所用的单位px都是指css中的px，它与实际屏幕物理像素的px不是一回事</li>
</ul>
</li>
<li><p>meta标签的就是让<strong>当前viewport的宽度等于设备的宽度</strong>，同时不允许用户手动缩放</p>
<ul>
<li>因为每个移动设备浏览器中都有一个理想的宽度，可以用meta标签把viewport的宽度设为那个理想的宽度<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>width: 设置layout viewport的宽度，为一个正整数，或字符串”width-device”</p>
</li>
<li>height: 设置layout viewport的高度，这个属性对我们并不重要，很少使用</li>
<li>initial-scale: 设置页面的初始缩放值，为一个数字，可以带小数</li>
<li>minimum-scale: 允许用户的最小缩放值，为一个数字，可以带小数</li>
<li>maximum-scale: 允许用户的最大缩放值，为一个数字，可以带小数</li>
<li>user-scalable    是否允许用户进行缩放，值为”no”或”yes”, no 代表不允许，yes代表允许</li>
</ul>
<p>想深入了解的孩童可以看看：<a href="https://www.cnblogs.com/2050/p/3877280.html" style="color: blue;" target="_blank" rel="noopener">click here！</a></p>
<h5 id="HTML-5-标签都有"><a href="#HTML-5-标签都有" class="headerlink" title="HTML 5 标签都有"></a>HTML 5 标签都有</h5><ol>
<li><section> : 定义文档中的一个章节</section></li>
<li><nav> : 定义只包含导航链接的章节</nav></li>
<li><article> : 定义可以独立于内容其余部分的完整独立内容块</article></li>
<li><aside> : 定义和页面内容关联度较低的内容——如果被删除，剩下的内容仍然很合理</aside></li>
<li><header> : 定义页面或章节的头部。它经常包含 logo、页面标题和导航性的目录</header></li>
<li><footer> : 定义页面或章节的尾部。它经常包含版权信息、法律信息链接和反馈建议用的地址</footer></li>
<li><address>: 定义包含联系信息的一个章节</address></li>
<li><main>: 定义文档中主要或重要的内容<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/HTML5/HTML5_element_list" style="color: blue;" target="_blank" rel="noopener">想了解更多:)</a></main></li>
</ol>
<h5 id="H5-理解"><a href="#H5-理解" class="headerlink" title="H5 理解"></a>H5 理解</h5><ul>
<li>简单理解：H5表示移动端页面，反正不是HTML5</li>
<li>H5更应该被理解为针对酷炫的移动端页面的一种<strong>解决方案</strong>，而这个解决方案里包含HTML5新增的标签(audio/video),canvas技术，拖拽的特性，本地存储，websocket通信，也会用到基本的盒模型，定位等一些<strong>前端基本知识</strong>，所以，H5更应该理解为一个技术合集，前端的技术广度/深度</li>
<li>H5移动端各种产品的简称吧</li>
</ul>
<h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><h5 id="两种盒模型分别说一下"><a href="#两种盒模型分别说一下" class="headerlink" title="两种盒模型分别说一下"></a>两种盒模型分别说一下</h5><ul>
<li>css盒模型的包括（margin + padding + content）</li>
<li>标准模型(content) + IE模型(content+padding+border)</li>
<li>两者的区别：计算宽度和高度的不同</li>
</ul>
<h5 id="css如何设置这两种模型"><a href="#css如何设置这两种模型" class="headerlink" title="css如何设置这两种模型"></a>css如何设置这两种模型</h5><ul>
<li>(标准)box-sizing: content-box         </li>
<li>(IE)box-sizing: border-box</li>
</ul>
<h5 id="js如何设置获取盒模型的宽和高"><a href="#js如何设置获取盒模型的宽和高" class="headerlink" title="js如何设置获取盒模型的宽和高"></a>js如何设置获取盒模型的宽和高</h5><ol>
<li>dom.style.width/height(获取的是内联)</li>
<li>dom.currentStyle.width/height(获取页面渲染之后的，只支持IE)</li>
<li>window.getComputedStyle(dom).width/height(firefox google)</li>
<li>dom.getBoundingClientRect().width/height(计算元素的绝对位置，获取的是viewport左上角的位置)<br>平时开发<strong>更多使用border-box</strong>，因为更好用</li>
</ol>
<h5 id="CSS-选择器优先级"><a href="#CSS-选择器优先级" class="headerlink" title="CSS 选择器优先级"></a>CSS 选择器优先级</h5><ul>
<li><p>普通的权重比较，<strong>不是完全正确</strong> </p>
<ul>
<li>（外部样式）External style sheet &lt;（内部样式）Internal style sheet &lt;（内联样式）Inline style </li>
</ul>
<ol>
<li>内联样式表的权值最高 1000</li>
<li>ID 选择器的权值为 100</li>
<li>Class 类选择器的权值为 10</li>
<li>HTML 标签选择器的权值为 1</li>
</ol>
<ul>
<li><a href="https://www.cnblogs.com/xugang/archive/2010/09/24/1833760.html" style="color: blue;" target="_blank" rel="noopener">详细参考</a></li>
</ul>
</li>
<li><p>越具体优先级越高</p>
</li>
<li>优先级写在后面的覆盖写在前面的</li>
<li>!important 优先级最高，但是要<strong>少用</strong></li>
</ul>
<h5 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h5><ol>
<li><p>父级div定义伪类：after <strong>强烈推荐</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after &#123;</span><br><span class="line">    content: &apos;&apos;;</span><br><span class="line">    display: block; /* 或者table */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom: 1; /* IE 兼容 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在结尾处添加空div标签clear: both</p>
</li>
<li>父级div定义height</li>
<li>父级div定义overflow: hidden</li>
<li>父级div定义overflow: auto</li>
</ol>
<h5 id="flex布局左边一栏-右边两栏"><a href="#flex布局左边一栏-右边两栏" class="headerlink" title="flex布局左边一栏 右边两栏"></a>flex布局左边一栏 右边两栏</h5><p><strong>margin-left: auto</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">    .box &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        border: 1px solid red;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">        padding: 10px 0;</span><br><span class="line">    &#125;</span><br><span class="line">    .box div &#123;</span><br><span class="line">        width: 300px;</span><br><span class="line">        height: 100px;</span><br><span class="line">        border: 1px solid #ff9400;</span><br><span class="line">    &#125;</span><br><span class="line">    .box div:nth-child(2) &#123;</span><br><span class="line">        margin-left: auto;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;div&gt;1&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;2&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;3&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/04/window-quick/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/04/window-quick/" itemprop="url">window下git bash 命令行实用技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-04T11:43:59+08:00">
                2019-05-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tool/" itemprop="url" rel="index">
                    <span itemprop="name">tool</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="命令窗口，使用快捷键快速跳转"><a href="#命令窗口，使用快捷键快速跳转" class="headerlink" title="命令窗口，使用快捷键快速跳转"></a>命令窗口，使用快捷键快速跳转</h4><ol>
<li>新建一个文件目录，mkdir ~/repos</li>
<li>切换目录 cd ~/repos</li>
<li>克隆 git clone <a href="https://github.com/rupa/z.git" target="_blank" rel="noopener">https://github.com/rupa/z.git</a></li>
<li>新建bashrc文件，如果<strong>已经存在这个文件，可忽略这步</strong>，touch ~/.bashrc</li>
<li>打开bashrc文件，start ~/.bashrc</li>
<li><p>在文件里写入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">. ~/repos/z/z.sh</span><br><span class="line">alias j=&apos;z&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启 Git Bash</p>
</li>
<li>验证你的配置，使用 j XXX 就可以快速到达之前去过的目录了</li>
<li>使用 j 可以查看所有去过的目录，使用z也可以调整目录，调整目录名都可以不用写文件名全称，如：d/document 使用快速调整 z doc 或 j doc<br> <strong>注意，~/repos/z/z.sh 不能删除，删除了就不能用了</strong></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/03/js-methods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yongfeng.peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/blog-avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shero.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/03/js-methods/" itemprop="url">js常使用的函数总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-03T14:52:07+08:00">
                2019-05-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="js常使用的工具函数"><a href="#js常使用的工具函数" class="headerlink" title="js常使用的工具函数"></a>js常使用的工具函数</h4><h5 id="序列号格式化输出"><a href="#序列号格式化输出" class="headerlink" title="序列号格式化输出"></a>序列号格式化输出</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * @param &#123;index&#125; 索引</span><br><span class="line">  * @des: 序列号格式化输出</span><br><span class="line">  * @return: 格式化的字符串</span><br><span class="line">*/</span><br><span class="line">queueSerial (index) &#123;</span><br><span class="line">    let strZero = [&apos;00&apos;, &apos;0&apos;, &apos;&apos;];</span><br><span class="line">    let curIndex = index + 1;</span><br><span class="line">    return strZero[curIndex.toString().length - 1] + curIndex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="查找数组中是否存在某个属性值，存在就返回"><a href="#查找数组中是否存在某个属性值，存在就返回" class="headerlink" title="查找数组中是否存在某个属性值，存在就返回"></a>查找数组中是否存在某个属性值，存在就返回</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * @param &#123;ist, attr, value&#125;  数组，属性，属性值</span><br><span class="line">  * @des: 查找数组中是否存在某个属性值，存在就返回</span><br><span class="line">  * @return: Object</span><br><span class="line">*/</span><br><span class="line">function findOneByKey (list, attr, value) &#123;</span><br><span class="line">    let obj = &#123;&#125;;</span><br><span class="line">    let isExsit = false;</span><br><span class="line">    for (let i = 0, len = list.length; i &lt; len; i++) &#123;</span><br><span class="line">    if (list[i][attr] === value) &#123;</span><br><span class="line">        for (const _attr in list[i]) &#123;</span><br><span class="line">            obj[_attr] = list[i][_attr];</span><br><span class="line">        &#125;</span><br><span class="line">        isExsit = true;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;isExsit, obj&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var list = [</span><br><span class="line">    &#123; name: &apos;aa&apos;, age: 12 &#125;,</span><br><span class="line">    &#123; name: &apos;bb&apos;, age: 17 &#125;,</span><br><span class="line">    &#123; name: &apos;aa&apos;, age: 18 &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h5 id="jQuery如何扩展自定义方法"><a href="#jQuery如何扩展自定义方法" class="headerlink" title="jQuery如何扩展自定义方法"></a>jQuery如何扩展自定义方法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(jQuery.fn.myMethod=function () &#123;</span><br><span class="line">    alert(&apos;myMethod&apos;);</span><br><span class="line">&#125;)</span><br><span class="line">// 或者：</span><br><span class="line">(function ($) &#123;</span><br><span class="line">    $.fn.extend(&#123;</span><br><span class="line">        myMethod : function () &#123;</span><br><span class="line">            alert(&apos;myMethod&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)(jQuery)</span><br><span class="line">$(&quot;#div&quot;).myMethod();</span><br></pre></td></tr></table></figure>
<h5 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * @param &#123;arr&#125;  排序数组</span><br><span class="line">  * @des: 实现冒泡排序</span><br><span class="line">  * @return: new arr</span><br><span class="line">*/</span><br><span class="line">function bubbling(arr) &#123;</span><br><span class="line">    var temp = 0; // 临时变量</span><br><span class="line">    for(let i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        for(let j = 0; j &lt; arr.length - i; j++) &#123;</span><br><span class="line">            if(arr[j] &gt; arr[j + 1]) &#123;</span><br><span class="line">                temp = arr[j + 1];</span><br><span class="line">                arr[j + 1] = arr[j];</span><br><span class="line">                arr[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="判断一个字符串中出现次数最多的字符，统计这个次数"><a href="#判断一个字符串中出现次数最多的字符，统计这个次数" class="headerlink" title="判断一个字符串中出现次数最多的字符，统计这个次数"></a>判断一个字符串中出现次数最多的字符，统计这个次数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">let str = &apos;asdfssaaasasasasaa&apos;;</span><br><span class="line">function findStrMax(str) &#123;</span><br><span class="line">    let resultObj = &#123;&#125;;</span><br><span class="line">    for (let i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">        if (!resultObj[str.charAt(i)]) &#123;</span><br><span class="line">            resultObj[str.charAt(i)] = 1;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            resultObj[str.charAt(i)]++;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    let strNum = &apos;&apos;; // 统计出现字符串最多的</span><br><span class="line">    let totalNum = 0; // 统计字符串总的出现了多少次</span><br><span class="line">    for(let i in resultObj) &#123;</span><br><span class="line">        if (resultObj[i] &gt; totalNum) &#123;</span><br><span class="line">            totalNum = resultObj[i];</span><br><span class="line">            strNum = i;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    console.log(&apos;出现次数最多的是：&apos; + strNum + &apos;出现&apos; + totalNum +&apos;次&apos;);</span><br><span class="line">&#125;</span><br><span class="line">findStrMax(str);</span><br></pre></td></tr></table></figure>
<h5 id="去掉一个数组的重复元素"><a href="#去掉一个数组的重复元素" class="headerlink" title="去掉一个数组的重复元素"></a>去掉一个数组的重复元素</h5><ul>
<li>计数排序变形</li>
<li>使用 Set</li>
<li>使用 WeakMap<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 方法1</span><br><span class="line">let arr = [2, 3, 4, 4, 5, 2, 3, 6];</span><br><span class="line">function getNewArr(arr) &#123;</span><br><span class="line">    let newArr = [];</span><br><span class="line">    for (let i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (newArr.indexOf(arr[i]) &lt; 0) &#123;</span><br><span class="line">            newArr.push(arr[i]);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    console.log(&apos;新的数组&apos; + newArr);</span><br><span class="line">&#125;</span><br><span class="line">getNewArr(arr);</span><br><span class="line">// 方法2</span><br><span class="line">let newArr = arr.filter(function(ele, index, self) &#123;</span><br><span class="line">    return self.indexOf(ele) === index;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="去除字符串前后的空格"><a href="#去除字符串前后的空格" class="headerlink" title="去除字符串前后的空格"></a>去除字符串前后的空格</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.trim = function() &#123;</span><br><span class="line">    return this.replace(/^\s+|\s+$/g, &apos;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">//或者 </span><br><span class="line">function trim(string) &#123;</span><br><span class="line">    return string.replace(/^\s+|\s+$/g, &apos;&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="判断一个数字是不是整数"><a href="#判断一个数字是不是整数" class="headerlink" title="判断一个数字是不是整数"></a>判断一个数字是不是整数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isInt(num) &#123;</span><br><span class="line">	return num % 1 === 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获取浏览器的地址参数"><a href="#获取浏览器的地址参数" class="headerlink" title="获取浏览器的地址参数"></a>获取浏览器的地址参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function getUrlParams(url) &#123;</span><br><span class="line">    // var _href = window.location.href;</span><br><span class="line">    let _href = &apos;http://www.runoob.com/jquery/misc-trim.html?channelid=12333&amp;name=xiaoming&amp;age=23&apos;;</span><br><span class="line">    let _tmpArr = _href.split(&apos;?&apos;);</span><br><span class="line">    let _paramArr = _tmpArr[1].split(&apos;&amp;&apos;);</span><br><span class="line">    let resultObj = &#123;&#125;;</span><br><span class="line">    let _arg = [];</span><br><span class="line">    for (let i = 0; i &lt; _paramArr.length; i++) &#123;</span><br><span class="line">        _arg = _paramArr[i].split(&apos;=&apos;);</span><br><span class="line">        resultObj[_arg[0]] = _arg[1];</span><br><span class="line">    &#125;;</span><br><span class="line">    console.log(resultObj);</span><br><span class="line">    return resultObj;</span><br><span class="line">&#125;</span><br><span class="line">getUrlParams();</span><br></pre></td></tr></table></figure>
<h5 id="JS递归算法1-2-3…-100的和"><a href="#JS递归算法1-2-3…-100的和" class="headerlink" title="JS递归算法1+ 2+3…..100的和"></a>JS递归算法1+ 2+3…..100的和</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function num(n) &#123;</span><br><span class="line">    if(n === 1) &#123;</span><br><span class="line">        return 1;       </span><br><span class="line">    &#125;</span><br><span class="line">    return num(n - 1) + n;</span><br><span class="line">&#125;</span><br><span class="line">num(100);</span><br></pre></td></tr></table></figure>
<h5 id="找出一组数据中的奇数和偶数，偶数乘以2，并从小到大排列，奇数从大到小排列-最后合并数组"><a href="#找出一组数据中的奇数和偶数，偶数乘以2，并从小到大排列，奇数从大到小排列-最后合并数组" class="headerlink" title="找出一组数据中的奇数和偶数，偶数乘以2，并从小到大排列，奇数从大到小排列,最后合并数组"></a>找出一组数据中的奇数和偶数，偶数乘以2，并从小到大排列，奇数从大到小排列,最后合并数组</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var arr = [4, 3, 8, 6, 2, 9, 1];</span><br><span class="line">function findOddEven(arr) &#123;</span><br><span class="line">    let [oddArr, evenArr] = [[], []]; // oddArr奇数 evenArr偶数</span><br><span class="line">    for(let i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">        if(arr[i] % 2 === 0) &#123;</span><br><span class="line">            evenArr.push(arr[i] * 2);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            oddArr.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    oddArr.sort(function(a, b) &#123;</span><br><span class="line">        return b - a; // 从大到小</span><br><span class="line">    &#125;);</span><br><span class="line">    evenArr.sort(function(a, b) &#123;</span><br><span class="line">        return a - b; // 从小到大</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(&apos;奇数&apos;+ oddArr);</span><br><span class="line">    console.log(&apos;偶数&apos;+ evenArr);</span><br><span class="line">    return oddArr.concat(evenArr);</span><br><span class="line">&#125;</span><br><span class="line">findOddEven(arr);</span><br></pre></td></tr></table></figure>
<h5 id="根据json对象的某一属性对其进行排序"><a href="#根据json对象的某一属性对其进行排序" class="headerlink" title="根据json对象的某一属性对其进行排序"></a>根据json对象的某一属性对其进行排序</h5><p><a href="https://www.cnblogs.com/ygtq-island/p/6512728.html" target="_blank" rel="noopener">https://www.cnblogs.com/ygtq-island/p/6512728.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">var json = &#123;</span><br><span class="line">    &apos;A&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 1,</span><br><span class="line">        &apos;name&apos;: &apos;a&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;E&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 5,</span><br><span class="line">        &apos;name&apos;: &apos;e&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;C&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 3,</span><br><span class="line">        &apos;name&apos;: &apos;c&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;F&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 6,</span><br><span class="line">        &apos;name&apos;: &apos;f&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;B&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 2,</span><br><span class="line">        &apos;name&apos;: &apos;b&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;D&apos;: &#123;</span><br><span class="line">        &apos;id&apos;: 4,</span><br><span class="line">        &apos;name&apos;: &apos;d&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var obj = &#123;name: &apos;lisa&apos;, age: 8, ace: 5, nbme: &apos;lisi&apos;&#125;; // 要排序的对象</span><br><span class="line">/**</span><br><span class="line">    * [objKeySort description] 排序的函数</span><br><span class="line">    * @Author   pyf</span><br><span class="line">    * @DateTime 2019-03-19T15:44:58+0800</span><br><span class="line">    * @param    &#123;[Object]&#125;                 obj [需要排序的json对象]</span><br><span class="line">    * @return   &#123;[Object]&#125;                     [排序后的对象]</span><br><span class="line">*/</span><br><span class="line">function objKeySort(obj) &#123;</span><br><span class="line">    // 	Object内置类的keys方法获取要排序对象的属性名，利用Array原型上的sort方法对获取的属性名进行排序，newKeyArr是一个数组</span><br><span class="line">    var newKeyArr = Object.keys(obj).sort();</span><br><span class="line">    var newObj = &#123;&#125;; // 存放排好序的键值对</span><br><span class="line">    for(let i = 0, len = newKeyArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        newObj[newKeyArr[i]] = obj[newKeyArr[i]]; // 向新数组中按照排好的顺序依次增加键值对</span><br><span class="line">    &#125;</span><br><span class="line">    return newObj; // 返回排好序的新对象</span><br><span class="line">&#125;</span><br><span class="line">console.log(objKeySort(json));</span><br></pre></td></tr></table></figure>
<h5 id="js返回两个数组的差异值"><a href="#js返回两个数组的差异值" class="headerlink" title="js返回两个数组的差异值"></a>js返回两个数组的差异值</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// 普通算法</span><br><span class="line">function diff(arr1, arr2) &#123;</span><br><span class="line">    var newArr = [];</span><br><span class="line">    var arr3 = [];</span><br><span class="line">    for (var i=0;i&lt;arr1.length;i++) &#123;</span><br><span class="line">    if(arr2.indexOf(arr1[i]) === -1)   </span><br><span class="line">        arr3.push(arr1[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    var arr4 = [];</span><br><span class="line">    for (var j=0;j&lt;arr2.length;j++) &#123;</span><br><span class="line">    if(arr1.indexOf(arr2[j]) === -1)</span><br><span class="line">        arr4.push(arr2[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    newArr = arr3.concat(arr4);</span><br><span class="line">    return newArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 优雅</span><br><span class="line">function diff(arr1, arr2) &#123;  </span><br><span class="line">    console.log(arr1.concat(arr2));</span><br><span class="line">    return arr1.concat(arr2).filter(item =&gt; &#123;</span><br><span class="line">    return !arr1.includes(item)||!arr2.includes(item)</span><br><span class="line">    &#125;);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 方式三</span><br><span class="line">function diff(arr1, arr2) &#123;  </span><br><span class="line">    return arr1.concat(arr2).filter(item =&gt; !arr1.includes(item)||!arr2.includes(item));  </span><br><span class="line">&#125;  </span><br><span class="line">diff([1, 2, 3, 5], [0, 2, 3, 4, 5]);</span><br></pre></td></tr></table></figure>
<h5 id="某年某月的1号为星期几"><a href="#某年某月的1号为星期几" class="headerlink" title="某年某月的1号为星期几"></a>某年某月的1号为星期几</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var weekDay = [&apos;星期日&apos;, &apos;星期一&apos;, &apos;星期二&apos;, &apos;星期三&apos;, &apos;星期四&apos;, &apos;星期五&apos;, &apos;星期六&apos;];</span><br><span class="line">weekDay[new Date(2019, 3, 1).getDay()];</span><br></pre></td></tr></table></figure>
<h5 id="数据的排序-123454321-23456765432"><a href="#数据的排序-123454321-23456765432" class="headerlink" title="数据的排序 123454321 23456765432"></a>数据的排序 123454321 23456765432</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// 方法1 </span><br><span class="line">//01234543210</span><br><span class="line">//先展示前面的   01234</span><br><span class="line">//n：开始的数字    m:结束的数字</span><br><span class="line">function num1(n, m) &#123;</span><br><span class="line">    for(var i = n; i &lt; m; i++) &#123;</span><br><span class="line">        //再展示后面的 543210</span><br><span class="line">        console.log(i);</span><br><span class="line">        if (i === m-1) &#123;</span><br><span class="line">            num2(n, m)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">function num2(n, m) &#123;</span><br><span class="line">    for(var i = m; i &gt;= n; i--) &#123;</span><br><span class="line">        console.log(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">num1(2, 5)  //2345432</span><br><span class="line">// 方法2</span><br><span class="line">function num(n, m) &#123;</span><br><span class="line">    console.log(n);</span><br><span class="line">    if (n &lt; m) &#123;</span><br><span class="line">        num(n + 1, m);</span><br><span class="line">        console.log(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">num(2, 5)  //2345432</span><br></pre></td></tr></table></figure>
<h5 id="首字母大写"><a href="#首字母大写" class="headerlink" title="首字母大写"></a>首字母大写</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/** </span><br><span class="line">* 首字母大写 </span><br><span class="line">* @param str 字符串 </span><br><span class="line">* @example heheHaha </span><br><span class="line">* @return &#123;string&#125; HeheHaha </span><br><span class="line">*/ </span><br><span class="line">function capitalizeFirstLetter (str) &#123; </span><br><span class="line">    return str.charAt(0).toUpperCase() + str.slice(1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h5><ul>
<li>递归</li>
<li>判断类型</li>
<li>检查环（也叫循环引用）</li>
<li>需要忽略原型<br>理解深浅拷贝，<a href="https://www.cnblogs.com/echolun/p/7889848.html" style="color: blue;" target="_blank" rel="noopener">需了解</a></li>
</ul>
<ol>
<li>基本类型–名值存储在栈内存中，例如let a=1<br><img src="/2019/05/03/js-methods/stack.jpg" alt="栈内存"></li>
<li>引用数据类型–名存在栈内存中，值存在于堆内存中，但是栈内存会提供一个引用的地址指向堆内存中的值<br><img src="/2019/05/03/js-methods/heap.jpg" alt="堆内存"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function deepCopy(obj) &#123;</span><br><span class="line">    // 判断是否是简单数据类型，</span><br><span class="line">    if (typeof obj == &apos;object&apos;) &#123;</span><br><span class="line">        //复杂数据类型</span><br><span class="line">        var result = obj.constructor == Array ? [] : &#123;&#125;;</span><br><span class="line">        for(let i in obj) &#123;</span><br><span class="line">            result[i] = typeof obj[i] == &apos;object&apos; ? deepCopy(obj[i]) : obj[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        //简单数据类型 直接 == 赋值</span><br><span class="line">        var result = obj;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="将类数组转化为数组"><a href="#将类数组转化为数组" class="headerlink" title="将类数组转化为数组"></a>将类数组转化为数组</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function trigger() &#123;</span><br><span class="line">  var args = Array.prototype.slice.call(arguments);</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="使用-Array的-slice-进行数组复制（-浅复制）"><a href="#使用-Array的-slice-进行数组复制（-浅复制）" class="headerlink" title="使用 Array的 slice 进行数组复制（ 浅复制）"></a>使用 Array的 slice 进行数组复制（ 浅复制）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var items = [1, 2, 3];</span><br><span class="line">// bad</span><br><span class="line">var itemsCopy = [];</span><br><span class="line">for (var i = 0; i &lt; items.length; i++) &#123;</span><br><span class="line">  itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br><span class="line">// good slice返回的是一个新数组，和直接赋值区别</span><br><span class="line">var itemsCopy = items.slice();</span><br></pre></td></tr></table></figure>
<h5 id="使用-for-in-循环时需要避免对象从原型链上继承来的属性也被遍历出来，因此保险的做法是对-key-是否是对象自身的属性进行验证"><a href="#使用-for-in-循环时需要避免对象从原型链上继承来的属性也被遍历出来，因此保险的做法是对-key-是否是对象自身的属性进行验证" class="headerlink" title="使用 for-in 循环时需要避免对象从原型链上继承来的属性也被遍历出来，因此保险的做法是对 key 是否是对象自身的属性进行验证"></a>使用 for-in 循环时需要避免对象从原型链上继承来的属性也被遍历出来，因此保险的做法是对 key 是否是对象自身的属性进行验证</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">for (const key in foo) &#123;</span><br><span class="line">  if (Object.prototype.hasOwnProperty.call(foo, key)) &#123;</span><br><span class="line">    doSomething(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="if-a-1-a-2-a-3-推荐写法"><a href="#if-a-1-a-2-a-3-推荐写法" class="headerlink" title="if(a === 1 || a === 2 || a === 3){}推荐写法"></a>if(a === 1 || a === 2 || a === 3){}推荐写法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3].indexOf() || /^(1|2|3)$/.test()</span><br><span class="line">// 第一种方式</span><br><span class="line">if(a === 1 || a === 2 || a === 3) &#123;</span><br><span class="line">    // doThing</span><br><span class="line">&#125;</span><br><span class="line">// 第二种方式，在数组判断是否存在此元素，不存在返回-1</span><br><span class="line">if([1, 2, 3].indexOf(a) &gt; -1) &#123;</span><br><span class="line">    // doThing</span><br><span class="line">&#125;</span><br><span class="line">// 第三种方式1,2,3之间不能有空格</span><br><span class="line">if (/^(1| 2|3)$/.test(a)) &#123;</span><br><span class="line">	// doThing</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="三位数字分离与合并的相互转化"><a href="#三位数字分离与合并的相互转化" class="headerlink" title="三位数字分离与合并的相互转化"></a>三位数字分离与合并的相互转化</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function numSplit(val) &#123;</span><br><span class="line">  if (val) &#123;</span><br><span class="line">	return val.toString().replace(/(\d)(?=(\d&#123;3&#125;)+($|\.))/g, &apos;$1,&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(numSplit(1003030)); // 1,003,030</span><br><span class="line"></span><br><span class="line">// 1,333,112 ==&gt; 1333112</span><br><span class="line">function numMery (v) &#123;</span><br><span class="line">	return parseFloat(v.toString().replace(/,/g, &apos;&apos;));</span><br><span class="line">&#125;</span><br><span class="line">console.log(numMery(&apos;1,333,112&apos;));</span><br></pre></td></tr></table></figure>
<h6 id="抽离出相同类型的数据"><a href="#抽离出相同类型的数据" class="headerlink" title="抽离出相同类型的数据"></a>抽离出相同类型的数据</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// es6</span><br><span class="line">let _data = [</span><br><span class="line">    &#123;typeCnt: &apos;独家特色&apos;, content: &apos;24小时落货装卸分拨&apos;&#125;,</span><br><span class="line">    &#123;typeCnt: &apos;独家特色&apos;, content: &apos;专属服务经理对接&apos;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;独家特色&quot;, content: &quot;千元以下理赔24H赔付&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;覆盖范围&quot;, content: &quot;宁夏全境覆盖&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;覆盖范围&quot;, content: &quot;网络覆盖宁夏全境、乌海、巴彦淖尔和阿拉善盟，无盲区&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;覆盖范围&quot;, content: &quot;全省地级市自提点全覆盖&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;定时必达&quot;, content: &quot;省内地市中转次日达&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;定时必达&quot;, content: &quot;市配当日达&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;超低价格&quot;, content: &quot;银川三环以内配送40元/票起&quot;&#125;,</span><br><span class="line">    &#123;typeCnt: &quot;超低价格&quot;, content: &quot;中转价格透明不议价&quot;&#125;</span><br><span class="line">];</span><br><span class="line">// ES6新的数据类型set</span><br><span class="line">// set 集合，和数组很类似 </span><br><span class="line">// 特点 数据有唯一性，可以用来去除重复数据</span><br><span class="line">let typeCntGroup = new Set();</span><br><span class="line">let result = [];</span><br><span class="line">_data.forEach(item =&gt; &#123;</span><br><span class="line">typeCntGroup.add(item.typeCnt);</span><br><span class="line">&#125;);</span><br><span class="line">// ES6为Array增加了from函数用来将其他对象转换成数组。</span><br><span class="line">// 当然，其他对象也是有要求，也不是所有的，可以将两种对象转换成数组。</span><br><span class="line">// 1.部署了Iterator接口的对象，比如：Set，Map，Array。</span><br><span class="line">// 2.类数组对象，什么叫类数组对象，就是一个对象必须有length属性，没有length，转出来的就是空数组。</span><br><span class="line">typeCntGroup = Array.from(typeCntGroup);</span><br><span class="line">for (let i = 0; i &lt; typeCntGroup.length; i++) &#123;</span><br><span class="line">let _obj = &#123;</span><br><span class="line">    typeCnt: &apos;&apos;,</span><br><span class="line">    content: []</span><br><span class="line">&#125;;</span><br><span class="line">_obj.typeCnt = typeCntGroup[i];</span><br><span class="line">for (let j = 0; j &lt; _data.length; j++) &#123;</span><br><span class="line">    if (_data[j].typeCnt === typeCntGroup[i]) &#123;</span><br><span class="line">    _obj.content.push(_data[i].content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">result.push(_obj);</span><br><span class="line">&#125;</span><br><span class="line">console.log(result);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">let _typeArr = []; // 枢纽展示类型</span><br><span class="line">for (let i = 0; i &lt; _data.length; i++) &#123;</span><br><span class="line">   // 将枢纽类型先存储下来</span><br><span class="line">   if (_typeArr &amp;&amp; _typeArr.indexOf(_data[i].typeCnt) &lt; 0) &#123;</span><br><span class="line">     _typeArr.push(_data[i].typeCnt);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">let _newArr = []; // 每个枢纽类型对应的content保存</span><br><span class="line">for (let i = 0; i &lt; _typeArr.length; i++) &#123;</span><br><span class="line">   let obj = &#123;</span><br><span class="line">    	typeCnt: &apos;&apos;,</span><br><span class="line">    	content: []</span><br><span class="line">    &#125;;</span><br><span class="line">    obj.typeCnt = _typeArr[i];</span><br><span class="line">    for (let j = 0; j &lt; _data.length; j++) &#123;</span><br><span class="line">        if (_typeArr[i] === _data[j].typeCnt) &#123;</span><br><span class="line">          obj.content.push(_data[j].content);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     _newArr.push(obj);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// es5的处理</span><br><span class="line">let _typeArr = []; // 枢纽展示类型</span><br><span class="line">for (let i = 0; i &lt; _data.length; i++) &#123;</span><br><span class="line">   // 将枢纽类型先存储下来</span><br><span class="line">   if (_typeArr &amp;&amp; _typeArr.indexOf(_data[i].typeCnt) &lt; 0) &#123;</span><br><span class="line">     _typeArr.push(_data[i].typeCnt);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">let _newArr = []; // 每个枢纽类型对应的content保存</span><br><span class="line">for (let i = 0; i &lt; _typeArr.length; i++) &#123;</span><br><span class="line">   let obj = &#123;</span><br><span class="line">    	typeCnt: &apos;&apos;,</span><br><span class="line">    	content: []</span><br><span class="line">    &#125;;</span><br><span class="line">    obj.typeCnt = _typeArr[i];</span><br><span class="line">    for (let j = 0; j &lt; _data.length; j++) &#123;</span><br><span class="line">        if (_typeArr[i] === _data[j].typeCnt) &#123;</span><br><span class="line">          obj.content.push(_data[j].content);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    _newArr.push(obj);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h5 id="函数防抖和函数节流"><a href="#函数防抖和函数节流" class="headerlink" title="函数防抖和函数节流"></a>函数防抖和函数节流</h5><ol>
<li><p>节流（一段时间执行一次之后，就不执行第二次）<br><strong>注意</strong> 认为节流函数不是立刻执行的，而是在冷却时间末尾执行的（相当于施法有吟唱时间），那样说也是对的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function throttle(fn, delay) &#123;</span><br><span class="line">    let canUse = true;</span><br><span class="line">    return function() &#123;</span><br><span class="line">        if (canUse) &#123;</span><br><span class="line">            fn.apply(this, arguments);</span><br><span class="line">            canUse = false;</span><br><span class="line">            setTimeout(() =&gt; &#123;</span><br><span class="line">                canUse = true;</span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> const throttled = throttle(() =&gt; console.log(&apos;hi&apos;));</span><br><span class="line"> throttled();</span><br><span class="line"> throttled();</span><br></pre></td></tr></table></figure>
</li>
<li><p>防抖（一段时间会等，然后带着一起做了）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function debounce(fn, delay) &#123;</span><br><span class="line">    let timerId = null;</span><br><span class="line">    return function() &#123;</span><br><span class="line">        const context = this;</span><br><span class="line">        if (timerId) &#123;</span><br><span class="line">            window.clearTimeout(timerId);</span><br><span class="line">        &#125;</span><br><span class="line">        timerId = setTimeout(() =&gt; &#123;</span><br><span class="line">            fn.apply(context, arguments);</span><br><span class="line">            timerId = null;</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const debounced = debounce( () =&gt; console.log(&apos;hi&apos;))</span><br><span class="line">debounced()</span><br><span class="line">debounced()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="手写AJAX"><a href="#手写AJAX" class="headerlink" title="手写AJAX"></a>手写AJAX</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var request = new XMLHttpRequest();</span><br><span class="line">request.open(&apos;GET&apos;, &apos;/a/b/c?name=ff&apos;, true);</span><br><span class="line">request.onreadystatechange = function () &#123;</span><br><span class="line">if (request.readyState === 4 &amp;&amp; request.status === 200) &#123;</span><br><span class="line">    console.log(request.responseText);</span><br><span class="line">&#125;&#125;;</span><br><span class="line">request.send();</span><br><span class="line">// 简单一些可以如下</span><br><span class="line">var request = new XMLHttpRequest();</span><br><span class="line">request.open(&apos;GET&apos;, &apos;/a/b/c?name=ff&apos;, true);</span><br><span class="line">request.onload = () =&gt; console.log(request.responseText);</span><br><span class="line">request.send();</span><br></pre></td></tr></table></figure>
<h5 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 简单版本</span><br><span class="line">ul.addEventListener(&apos;click&apos;, function(e) &#123;</span><br><span class="line">    if (e.target.tagName.toLowerCase() === &apos;li&apos;) &#123;</span><br><span class="line">        fn() // 执行某个函数</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// bug 在于，如果用户点击的是 li 里面的 span，就没法触发 fn，这显然不对</span><br><span class="line">// 优化版本    思路是点击 span 后，递归遍历 span 的祖先元素看其中有没有 ul 里面的 li</span><br><span class="line"> function delegate(element, eventType, selector, fn) &#123;</span><br><span class="line">    element.addEventListener(eventType, e =&gt; &#123;</span><br><span class="line">        let el = e.target;</span><br><span class="line">        while (!el.matches(selector)) &#123;</span><br><span class="line">            if (element === el) &#123;</span><br><span class="line">            el = null;</span><br><span class="line">            break;</span><br><span class="line">            &#125;</span><br><span class="line">            el = el.parentNode;</span><br><span class="line">        &#125;</span><br><span class="line">        el &amp;&amp; fn.call(el, e, el);</span><br><span class="line">    &#125;)</span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="用-mouse-事件写一个可拖曳的-div"><a href="#用-mouse-事件写一个可拖曳的-div" class="headerlink" title="用 mouse 事件写一个可拖曳的 div"></a>用 mouse 事件写一个可拖曳的 div</h5><p><a href="https://jsbin.com/zolulovujo/edit?html,js,output" style="color: blue;" target="_blank" rel="noopener">快速看到效果</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">var dragFlag = false;</span><br><span class="line">var position = null;</span><br><span class="line">drag.addEventListener(&apos;mousedown&apos;, function(e) &#123;</span><br><span class="line">  dragFlag = true;</span><br><span class="line">  position = [e.clientX, e.clientY];</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// mousemove 与 mouseup 不能监听在元素上 快速拖到会有问题</span><br><span class="line">document.addEventListener(&apos;mousemove&apos;, function(e) &#123;</span><br><span class="line"> if (dragFlag) &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  const x = e.clientX;</span><br><span class="line">  const y = e.clientY;</span><br><span class="line">  const deltaX = x - position[0];</span><br><span class="line">  const deltaY = y - position[1];</span><br><span class="line">  // parseInt(&apos;&apos;)空转为 NaN</span><br><span class="line">  // drag.style.left初始值为&apos;0px&apos;</span><br><span class="line">  const left = parseInt(drag.style.left || 0, 10);</span><br><span class="line">  const top = parseInt(drag.style.top || 0, 10);</span><br><span class="line">  drag.style.left = left + deltaX + &apos;px&apos;;</span><br><span class="line">  drag.style.top = top + deltaY + &apos;px&apos;;</span><br><span class="line">  position= [x, y];</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">document.addEventListener(&apos;mouseup&apos;, function() &#123;</span><br><span class="line">    dragFlag = false;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h5 id="filter方法"><a href="#filter方法" class="headerlink" title="filter方法"></a>filter方法</h5><ul>
<li>不会对空数组进行检测，会跳过那些空元素<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let arr = [0, 3, 5];</span><br><span class="line">arr[10] = 10;</span><br><span class="line">arr.filter((val) =&gt; &#123;</span><br><span class="line">    return val === undefined;</span><br><span class="line">&#125;);</span><br><span class="line">// 初始化</span><br><span class="line">let array = [0, 3, 5, undefined, undefined, null, 123];</span><br><span class="line">array[10] = 10;</span><br><span class="line">array.filter((val) =&gt; &#123;</span><br><span class="line">    return val === undefined;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h5><ul>
<li>javascript 在定义数组的时候允许最后一个元素后跟一个,(分号)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let str = [,,,].join(); // ,,</span><br><span class="line">let str = [,,1,].join(&apos;.&apos;).length;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="普通函数与箭头函数的区别"><a href="#普通函数与箭头函数的区别" class="headerlink" title="普通函数与箭头函数的区别"></a>普通函数与箭头函数的区别</h5><ul>
<li>this指向的问题，会捕获其所在上下文的this值，作为自己的this值</li>
<li><p>箭头函数不绑定arguments，取而代之用reset参数解决</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 箭头函数</span><br><span class="line">let foo = (...args) =&gt; &#123;</span><br><span class="line">  return args[0];</span><br><span class="line">&#125;</span><br><span class="line">console.log(foo(1));</span><br><span class="line">// 普通函数</span><br><span class="line">fun() &#123;</span><br><span class="line">    console.log(argument[0]);</span><br><span class="line">&#125;</span><br><span class="line">console.log(fun(1, 34));</span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数不能用作构造器，和new一起用就会抛出错误</p>
</li>
<li>箭头函数没有原型属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var foo = () =&gt; &#123;&#125;;</span><br><span class="line">console.log(foo.prototype) // undefined</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="js常见的自认为正确的问题"><a href="#js常见的自认为正确的问题" class="headerlink" title="js常见的自认为正确的问题"></a>js常见的自认为正确的问题</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var array = [];</span><br><span class="line">for(var i = 0; i &lt;3; i++) &#123;</span><br><span class="line">    array.push(() =&gt; i);</span><br><span class="line">console.log(array);</span><br><span class="line">&#125;</span><br><span class="line">var newArray = array.map(el =&gt; el());</span><br><span class="line">console.log(newArray); // [3, 3, 3]</span><br></pre></td></tr></table></figure>
<ul>
<li>解决问题为什么不是0,1,2</li>
<li>var声明变量，三个箭头函数体中的每个i，都指向<strong>相同的绑定</strong>，所以它们在循环结束时返回相同的值3</li>
<li>解决方法1，把var改为let（let 声明一个具有块级作用域的变量，每个循环迭代创建一个新的绑定）</li>
<li>解决方式2，使用闭包<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var array = [];</span><br><span class="line">for(var i = 0; i &lt;3; i++) &#123;</span><br><span class="line">    array[i] = (function(x) &#123;</span><br><span class="line">        return function() &#123;</span><br><span class="line">            return x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">var newArray = array.map(el =&gt; el());</span><br><span class="line">console.log(newArray); // [3, 3, 3]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="找出字符串中第一次只出现一次的字母"><a href="#找出字符串中第一次只出现一次的字母" class="headerlink" title="找出字符串中第一次只出现一次的字母"></a>找出字符串中第一次只出现一次的字母</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.firstAppear = function () &#123;</span><br><span class="line">    let obj = &#123;&#125;,</span><br><span class="line">        len = this.length;</span><br><span class="line">    for (let i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (obj[this[i]]) &#123;</span><br><span class="line">            obj[this[i]]++;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            obj[this[i]] = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for (let prop in obj) &#123;</span><br><span class="line">        if (obj[prop] == 1) &#123;</span><br><span class="line">            return prop;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let str = &apos;abcdahfksdb&apos;;</span><br><span class="line">console.log(&apos;result&apos;, str.firstAppear());</span><br></pre></td></tr></table></figure>
<h6 id="获得滚动条的滚动距离"><a href="#获得滚动条的滚动距离" class="headerlink" title="获得滚动条的滚动距离"></a>获得滚动条的滚动距离</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getScrollOffset() &#123;</span><br><span class="line">    if (window.pageXOffset) &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: window.pageXOffset,</span><br><span class="line">            y: window.pageYOffset</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: document.body.scrollLeft + document.documentElement.scrollLeft,</span><br><span class="line">            y: document.body.scrollTop + document.documentElement.scrollTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获得视口的尺寸"><a href="#获得视口的尺寸" class="headerlink" title="获得视口的尺寸"></a>获得视口的尺寸</h5><ul>
<li><a href="https://segmentfault.com/a/1190000019832694" style="color: blue;" target="_blank" rel="noopener">To Learn More…</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line">##### 简短函数调用</span><br><span class="line">* 三元操作符来实现多个函数调用</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>// Longhand<br>function test1() {<br>  console.log(‘test1’);<br>};<br>function test2() {<br>  console.log(‘test2’);<br>};<br>var test3 = 1;<br>if (test3 == 1) {<br>  test1();<br>} else {<br>  test2();<br>}<br>// Shorthand<br>(test3 === 1? test1:test2)();<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### switch 简化</span><br><span class="line">* 将条件保存在键值对象中，并根据条件来调用它们</span><br></pre></td></tr></table></figure></p>
<p>// Longhand<br>switch (data) {<br>  case 1:<br>    test1();<br>  break;<br>  case 2:<br>    test2();<br>  break;<br>  case 3:<br>    test();<br>  break;<br>  // And so on…<br>}<br>// Shorthand<br>var data = {<br>  1: test1,<br>  2: test2,<br>  3: test<br>};<br>data[something] &amp;&amp; data<a href>something</a>;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 延展操作符简化</span><br></pre></td></tr></table></figure></p>
<p>//longhand<br>// joining arrays using concat<br>const data = [1, 2, 3];<br>const test = [4 ,5 , 6].concat(data);<br>//shorthand<br>// joining arrays<br>const data = [1, 2, 3];<br>const test = [4 ,5 , 6, …data];<br>console.log(test); // [ 4, 5, 6, 1, 2, 3]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 延展操作符进行克隆</span><br></pre></td></tr></table></figure></p>
<p>//longhand<br>// cloning arrays<br>const test1 = [1, 2, 3];<br>const test2 = test1.slice()<br>//shorthand<br>// cloning arrays<br>const test1 = [1, 2, 3];<br>const test2 = […test1];<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 如何将浮点数点左边的数每三位添加一个逗号，如 12000000.11 转化为『12,000,000.11』?</span><br></pre></td></tr></table></figure></p>
<p>// 方法一<br>function format(number) {<br>  return number &amp;&amp; number.replace(/(?!^)(?=(\d{3})+.)/g, “,”);<br>}<br>// 方法二<br>function format1(number) {<br>  return Intl.NumberFormat().format(number)<br>}<br>// 方法三<br>function format2(number) {<br>  return number.toLocaleString(‘en’)<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 求和，最小值和最大值</span><br></pre></td></tr></table></figure></p>
<p>const array  = [5,4,7,8,9,2];<br>array.reduce((a, b) =&gt; a + b); // 输出: 35<br>array.reduce((a, b) =&gt; a &gt; b ? a : b); // 输出: 9<br>array.reduce((a, b) =&gt; a &lt; b ? a : b); // 输出: 2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 排序字符串，数字或对象等数组</span><br><span class="line">* 内置的方法sort()和reverse()来排序字符串</span><br></pre></td></tr></table></figure></p>
<p>const stringArr = [“Joe”, “Kapil”, “Steve”, “Musk”]<br>stringArr.sort();<br>// 输出 [“Joe”, “Kapil”, “Musk”, “Steve”]</p>
<p>stringArr.reverse();<br>// 输出 [“Steve”, “Musk”, “Kapil”, “Joe”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 数字数组排序</span><br></pre></td></tr></table></figure></p>
<p>const array  = [40, 100, 1, 5, 25, 10];<br>array.sort((a,b) =&gt; a-b);<br>// 输出 [1, 5, 10, 25, 40, 100]</p>
<p>array.sort((a,b) =&gt; b-a);<br>// 输出 [100, 40, 25, 10, 5, 1]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 对象数组排序</span><br></pre></td></tr></table></figure></p>
<p>const objectArr = [<br>  { first_name: ‘Lazslo’, last_name: ‘Jamf’     },<br>  { first_name: ‘Pig’,    last_name: ‘Bodine’   },<br>  { first_name: ‘Pirate’, last_name: ‘Prentice’ }<br>];<br>objectArr.sort((a, b) =&gt; a.last_name.localeCompare(b.last_name));<br>// 输出<br>(3) [{…}, {…}, {…}]<br>0: {first_name: “Pig”, last_name: “Bodine”}<br>1: {first_name: “Lazslo”, last_name: “Jamf”}<br>2: {first_name: “Pirate”, last_name: “Prentice”}<br>length: 3<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 从数组中过滤到虚值 (0, undefined, null, false, &quot;&quot;, &apos;&apos;)</span><br></pre></td></tr></table></figure></p>
<p>const array = [3, 0, 6, 7, ‘’, false];<br>array.filter(Boolean);<br>// 输出 [3, 6, 7]<br><code>`</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/blog-avatar.jpeg" alt="yongfeng.peng">
            
              <p class="site-author-name" itemprop="name">yongfeng.peng</p>
              <p class="site-description motion-element" itemprop="description">(女英</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yongfeng.peng</span>

  
</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
<!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/clipboard.min.js"></script>  
<script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</html>
